{"version":3,"sources":["app/modules/ECommerce/pages/customers/customers-loading-dialog/CustomersLoadingDialog.js","app/modules/ECommerce/_redux/customers/customersSlice.js","app/modules/ECommerce/_redux/customers/customersActions.js","app/modules/ECommerce/_redux/customers/customersCrud.js","app/modules/ECommerce/pages/customers/customer-edit-dialog/CustomerEditDialogHeader.js","app/modules/ECommerce/pages/customers/customer-edit-dialog/CustomerEditForm.js","app/modules/ECommerce/pages/customers/CustomersUIHelpers.js","app/modules/ECommerce/pages/customers/CustomersUIContext.js","app/modules/ECommerce/pages/customers/customer-edit-dialog/CustomerEditDialog.js","app/modules/ECommerce/pages/customers/customer-delete-dialog/CustomerDeleteDialog.js","app/modules/ECommerce/pages/customers/customers-delete-dialog/CustomersDeleteDialog.js","app/modules/ECommerce/pages/customers/customers-fetch-dialog/CustomersFetchDialog.js","app/modules/ECommerce/pages/customers/customers-update-status-dialog/CustomersUpdateStateDialog.js","app/modules/ECommerce/pages/customers/customers-filter/CustomersFilter.js","app/modules/ECommerce/pages/customers/customers-table/column-formatters/StatusColumnFormatter.js","app/modules/ECommerce/pages/customers/customers-table/column-formatters/TypeColumnFormatter.js","app/modules/ECommerce/pages/customers/customers-table/column-formatters/ActionsColumnFormatter.js","app/modules/ECommerce/pages/customers/customers-table/CustomersTable.js","app/modules/ECommerce/pages/customers/customers-grouping/CustomersGrouping.js","app/modules/ECommerce/pages/customers/CustomersCard.js","app/modules/ECommerce/pages/customers/CustomersPage.js","app/modules/ECommerce/pages/products/products-loading-dialog/ProductsLoadingDialog.js","app/modules/ECommerce/_redux/products/productsActions.js","app/modules/ECommerce/_redux/products/productsCrud.js","app/modules/ECommerce/pages/products/ProductsUIHelpers.js","app/modules/ECommerce/pages/products/ProductsUIContext.js","app/modules/ECommerce/pages/products/product-delete-dialog/ProductDeleteDialog.js","app/modules/ECommerce/pages/products/products-delete-dialog/ProductsDeleteDialog.js","app/modules/ECommerce/pages/products/products-fetch-dialog/ProductsFetchDialog.js","app/modules/ECommerce/pages/products/products-update-status-dialog/ProductsUpdateStatusDialog.js","app/modules/ECommerce/pages/products/products-filter/ProductsFilter.js","app/modules/ECommerce/pages/products/products-table/column-formatters/StatusColumnFormatter.js","app/modules/ECommerce/pages/products/products-table/column-formatters/ConditionColumnFormatter.js","app/modules/ECommerce/pages/products/products-table/column-formatters/ColorColumnFormatter.js","app/modules/ECommerce/pages/products/products-table/column-formatters/PriceColumnFormatter.js","app/modules/ECommerce/pages/products/products-table/column-formatters/ActionsColumnFormatter.js","app/modules/ECommerce/pages/products/products-table/ProductsTable.js","app/modules/ECommerce/pages/products/products-grouping/ProductsGrouping.js","app/modules/ECommerce/pages/products/ProductsCard.js","app/modules/ECommerce/pages/products/ProductsPage.js","app/modules/ECommerce/pages/products/product-edit/ProductEditForm.js","app/modules/ECommerce/pages/products/product-specifications/SpecificationsUIHelper.js","app/modules/ECommerce/pages/products/product-specifications/SpecificationsUIContext.js","app/modules/ECommerce/pages/products/product-specifications/SpecificationsFilter.js","app/modules/ECommerce/_redux/specifications/specificationsActions.js","app/modules/ECommerce/_redux/specifications/specificationsCrud.js","app/modules/ECommerce/pages/products/product-specifications/column-formatters/ActionsColumnFormatter.js","app/modules/ECommerce/pages/products/product-specifications/SpecificationsTable.js","app/modules/ECommerce/pages/products/product-specifications/SpecificationsLoadingDialog.js","app/modules/ECommerce/pages/products/product-specifications/SpecificationsDeleteDialog.js","app/modules/ECommerce/pages/products/product-specifications/SpecificationDeleteDialog.js","app/modules/ECommerce/pages/products/product-specifications/SpecificationsFetchDialog.js","app/modules/ECommerce/pages/products/product-specifications/SpecificationsGrouping.js","app/modules/ECommerce/pages/products/product-specifications/specification-edit-dialog/SpecificationEditDialogHeader.js","app/modules/ECommerce/pages/products/product-specifications/specification-edit-dialog/SpecificationEditForm.js","app/modules/ECommerce/pages/products/product-specifications/specification-edit-dialog/SpecificationEditDialog.js","app/modules/ECommerce/pages/products/product-specifications/Specifications.js","app/modules/ECommerce/pages/products/product-remarks/RemarksUIHelper.js","app/modules/ECommerce/pages/products/product-remarks/RemarksUIContext.js","app/modules/ECommerce/pages/products/product-remarks/RemarksFilter.js","app/modules/ECommerce/_redux/remarks/remarksActions.js","app/modules/ECommerce/_redux/remarks/remarksCrud.js","app/modules/ECommerce/pages/products/product-remarks/column-formatters/ActionsColumnFormatter.js","app/modules/ECommerce/pages/products/product-remarks/RemarksTable.js","app/modules/ECommerce/pages/products/product-remarks/RemarksLoadingDialog.js","app/modules/ECommerce/pages/products/product-remarks/RemarksDeleteDialog.js","app/modules/ECommerce/pages/products/product-remarks/RemarkDeleteDialog.js","app/modules/ECommerce/pages/products/product-remarks/RemarksFetchDialog.js","app/modules/ECommerce/pages/products/product-remarks/RemarksGrouping.js","app/modules/ECommerce/pages/products/product-remarks/remark-edit-dialog/RemarkEditDialogHeader.js","app/modules/ECommerce/pages/products/product-remarks/remark-edit-dialog/RemarkEditForm.js","app/modules/ECommerce/pages/products/product-remarks/remark-edit-dialog/RemarkEditDialog.js","app/modules/ECommerce/pages/products/product-remarks/Remarks.js","app/modules/ECommerce/pages/products/product-edit/ProductEdit.js","app/modules/ECommerce/pages/eCommercePage.js"],"names":["CustomersLoadingDialog","isLoading","useSelector","state","customers","listLoading","shallowEqual","useEffect","text","initialCustomersState","actionsLoading","totalCount","entities","customerForEdit","undefined","lastError","callTypes","actions","createSlice","name","initialState","reducers","catchError","action","error","type","payload","callType","startCall","customerFetched","customersFetched","customerCreated","ewactionsLoading","push","customer","customerUpdated","map","entity","id","customerDeleted","filter","el","customersDeleted","ids","includes","customersStatusUpdated","status","findIndex","fetchCustomers","queryParams","dispatch","axios","post","requestFromServer","then","response","data","catch","clientMessage","fetchCustomer","customerId","get","deleteCustomer","delete","createCustomer","customerForCreation","updateCustomer","put","updateCustomersStatus","deleteCustomers","CustomerEditDialogHeader","useState","title","setTitle","_title","firstname","lastname","Modal","Header","closeButton","Title","CustomerEditSchema","Yup","shape","min","max","required","email","userName","dateOfBbirth","nullable","ipAddress","CustomerEditForm","saveCustomer","onHide","enableReinitialize","initialValues","validationSchema","onSubmit","values","handleSubmit","Body","className","component","Input","placeholder","label","customFeedbackLabel","value","Footer","onClick","CustomerStatusCssClasses","CustomerStatusTitles","CustomerTypeCssClasses","CustomerTypeTitles","defaultSorted","dataField","order","sizePerPageList","initialFilter","sortOrder","sortField","pageNumber","pageSize","CustomersUIContext","createContext","useCustomersUIContext","useContext","Consumer","CustomersUIProvider","customersUIEvents","children","setQueryParamsBase","setIds","setQueryParams","useCallback","nextQueryParams","prevQueryParams","isFunction","isEqual","initCustomer","gender","newCustomerButtonClick","openEditCustomerDialog","openDeleteCustomerDialog","openDeleteCustomersDialog","openFetchCustomersDialog","openUpdateCustomersStatusDialog","Provider","CustomerEditDialog","show","customersUIContext","customersUIProps","useMemo","useDispatch","size","aria-labelledby","CustomerDeleteDialog","CustomersDeleteDialog","length","selectedCustomers","_customers","forEach","find","CustomersFetchDialog","key","CustomersUpdateStateDialog","setStatus","onChange","e","target","CustomersFilter","applyFilter","newQueryParams","searchText","prepareFilter","handleBlur","setFieldValue","handleChange","onBlur","StatusColumnFormatter","cellContent","row","TypeColumnFormatter","ActionsColumnFormatter","rowIndex","src","toAbsoluteUrl","CustomersTable","currentState","columns","sort","sortCaret","headerSortingClasses","formatter","columnFormatters","formatExtraData","classes","headerClasses","style","minWidth","paginationOptions","custom","totalSize","uiHelpers","sizePerPage","page","pagination","paginationFactory","paginationProps","paginationTableProps","wrapperClasses","bordered","bootstrap4","remote","keyField","onTableChange","getHandlerTableChange","selectRow","getSelectRow","CustomersGrouping","CustomersCard","CustomersPage","history","path","match","params","ProductsLoadingDialog","products","productsSlice","fetchProducts","list","productsFetched","fetchProduct","productId","product","productFetched","productForEdit","deleteProduct","productDeleted","createProduct","productForCreation","productCreated","updateProduct","productUpdated","updateProductsStatus","productsStatusUpdated","deleteProducts","productsDeleted","ProductStatusCssClasses","ProductStatusTitles","ProductConditionCssClasses","ProductConditionTitles","model","manufacture","VINCode","AVAILABLE_COLORS","AVAILABLE_MANUFACTURES","ProductsUIContext","useProductsUIContext","ProductsUIProvider","productsUIEvents","newProductButtonClick","openEditProductPage","openDeleteProductDialog","openDeleteProductsDialog","openFetchProductsDialog","openUpdateProductsStatusDialog","ProductDeleteDialog","productsUIContext","productsUIProps","variant","ProductsDeleteDialog","selectedProducts","_products","ProductsFetchDialog","width","ProductsUpdateStatusDialog","ProductsFilter","condition","ConditionColumnFormatter","ColorColumnFormatter","color","PriceColumnFormatter","price","Intl","NumberFormat","currency","minimumFractionDigits","format","replace","OverlayTrigger","overlay","Tooltip","ProductsTable","ProductsGrouping","ProductsCard","ProductsPage","ProductEditSchema","modelYear","mileage","ProductEditForm","btnRef","saveProduct","index","as","display","ref","SPECIFICATIONS_DICTIONARY","SpecificationsUIContext","useSpecificationsUIContext","SpecificationsUIProvider","currentProductId","setProductId","selectedId","setSelectedId","initSpecification","specId","carId","showEditSpecificationDialog","setShowEditSpecificationDialog","showDeleteSpecificationDialog","setShowDeleteSpecificationDialog","showDeleteSpecificationsDialog","setShowDeleteSpecificationsDialog","showFetchSpecificationsDialog","setShowFetchSpecificationsDialog","openEditSpecificationDialog","openNewSpecificationDialog","closeEditSpecificationDialog","openDeleteSpecificationDialog","closeDeleteSpecificationDialog","openDeleteSpecificationsDialog","closeDeleteSpecificationsDialog","openFetchSpecificationsDialog","closeFetchSpecificationsDialog","SpecificationsFilter","specsUIContext","specsUIProps","specificationsSlice","fetchSpecifications","specificationsFetched","fetchSpecification","specificationId","specification","specificationFetched","specificationForEdit","deleteSpecification","specificationDeleted","createSpecification","specificationForCreation","specificationCreated","updateSpecification","specificationUpdated","deleteSpecifications","specificationsDeleted","SpecificationsTable","specifications","SpecificationsLoadingDialog","SpecificationsDeleteDialog","SpecificationDeleteDialog","selectedSpecifications","_specifications","SpecificationsFetchDialog","SpecificationsGrouping","SpecificationEditDialogHeader","SpecificationEditSchema","SpecificationEditForm","saveSpecification","spec","SpecificationEditDialog","Specifications","RemarksUIContext","useRemarksUIContext","RemarksUIProvider","showEditRemarkDialog","setShowEditRemarkDialog","initRemark","dueDate","showDeleteRemarkDialog","setShowDeleteRemarkDialog","showDeleteRemarksDialog","setShowDeleteRemarksDialog","showFetchRemarksDialog","setShowFetchRemarksDialog","openNewRemarkDialog","openEditRemarkDialog","closeEditRemarkDialog","openDeleteRemarkDialog","closeDeleteRemarkDialog","openDeleteRemarksDialog","closeDeleteRemarksDialog","openFetchRemarksDialog","closeFetchRemarksDialog","RemarksFilter","remarksUIContext","remarksUIProps","remarksSlice","fetchRemarks","remarksFetched","fetchRemark","remarkId","remark","remarkFetched","remarkForEdit","deleteRemark","remarkDeleted","createRemark","remarkForCreation","remarkCreated","updateRemark","remarkUpdated","deleteRemarks","console","log","remarksDeleted","RemarksTable","remarks","RemarksLoadingDialog","RemarksDeleteDialog","RemarkDeleteDialog","selectedRemarks","_remarks","RemarksFetchDialog","RemarksGrouping","RemarkEditDialogHeader","RemarkEditSchema","RemarkEditForm","saveRemark","RemarkEditDialog","date","year","getFullYear","month","getMonth","toString","day","getDate","getFormattedDate","Remarks","initProduct","description","ProductEdit","suhbeader","useSubheader","tab","setTab","useRef","backToProductsList","current","click","role","data-toggle","aria-selected","eCommercePage","fallback","exact","from","to"],"mappings":"uJAIO,SAASA,IAAyB,IAE/BC,EAAcC,aACpB,SAACC,GAAD,MAAY,CAAEF,UAAWE,EAAMC,UAAUC,eACzCC,KAFML,UAMR,OADAM,qBAAU,cAAU,CAACN,IACd,kBAAC,IAAD,CAAeA,UAAWA,EAAWO,KAAK,gB,4CCV7CC,EAAwB,CAC5BJ,aAAa,EACbK,gBAAgB,EAChBC,WAAY,EACZC,SAAU,KACVC,qBAAiBC,EACjBC,UAAW,MAEAC,EACL,OADKA,EAEH,SCTHC,EDYuBC,YAAY,CACxCC,KAAM,YACNC,aAAcX,EACdY,SAAU,CACRC,WAAY,SAACnB,EAAOoB,GAClBpB,EAAMqB,MAAN,UAAiBD,EAAOE,KAAxB,aAAiCF,EAAOG,QAAQF,OAC5CD,EAAOG,QAAQC,WAAaX,EAC9Bb,EAAME,aAAc,EAEpBF,EAAMO,gBAAiB,GAG3BkB,UAAW,SAACzB,EAAOoB,GACjBpB,EAAMqB,MAAQ,KACVD,EAAOG,QAAQC,WAAaX,EAC9Bb,EAAME,aAAc,EAEpBF,EAAMO,gBAAiB,GAI3BmB,gBAAiB,SAAC1B,EAAOoB,GACvBpB,EAAMO,gBAAiB,EACvBP,EAAMU,gBAAkBU,EAAOG,QAAQb,gBACvCV,EAAMqB,MAAQ,MAGhBM,iBAAkB,SAAC3B,EAAOoB,GAAY,IAAD,EACFA,EAAOG,QAAhCf,EAD2B,EAC3BA,WAAYC,EADe,EACfA,SACpBT,EAAME,aAAc,EACpBF,EAAMqB,MAAQ,KACdrB,EAAMS,SAAWA,EACjBT,EAAMQ,WAAaA,GAGrBoB,gBAAiB,SAAC5B,EAAOoB,GACvBpB,EAAM6B,kBAAmB,EACzB7B,EAAMqB,MAAQ,KACdrB,EAAMS,SAASqB,KAAKV,EAAOG,QAAQQ,WAGrCC,gBAAiB,SAAChC,EAAOoB,GACvBpB,EAAMqB,MAAQ,KACdrB,EAAMO,gBAAiB,EACvBP,EAAMS,SAAWT,EAAMS,SAASwB,KAAI,SAAAC,GAClC,OAAIA,EAAOC,KAAOf,EAAOG,QAAQQ,SAASI,GACjCf,EAAOG,QAAQQ,SAEjBG,MAIXE,gBAAiB,SAACpC,EAAOoB,GACvBpB,EAAMqB,MAAQ,KACdrB,EAAMO,gBAAiB,EACvBP,EAAMS,SAAWT,EAAMS,SAAS4B,QAAO,SAAAC,GAAE,OAAIA,EAAGH,KAAOf,EAAOG,QAAQY,OAGxEI,iBAAkB,SAACvC,EAAOoB,GACxBpB,EAAMqB,MAAQ,KACdrB,EAAMO,gBAAiB,EACvBP,EAAMS,SAAWT,EAAMS,SAAS4B,QAC9B,SAAAC,GAAE,OAAKlB,EAAOG,QAAQiB,IAAIC,SAASH,EAAGH,QAI1CO,uBAAwB,SAAC1C,EAAOoB,GAC9BpB,EAAMO,gBAAiB,EACvBP,EAAMqB,MAAQ,KAF2B,MAGjBD,EAAOG,QAAvBiB,EAHiC,EAGjCA,IAAKG,EAH4B,EAG5BA,OACb3C,EAAMS,SAAWT,EAAMS,SAASwB,KAAI,SAAAC,GAIlC,OAHIM,EAAII,WAAU,SAAAT,GAAE,OAAIA,IAAOD,EAAOC,OAAO,IAC3CD,EAAOS,OAASA,GAEXT,SCtFRpB,QAEM+B,EAAiB,SAAAC,GAAW,OAAI,SAAAC,GAE3C,OADAA,EAASjC,EAAQW,UAAU,CAAED,SAAUX,KCclC,SAAuBiC,GAC5B,OAAOE,IAAMC,KAAN,UAnBoB,YAmBpB,SAAoC,CAAEH,gBDdtCI,CACUJ,GACdK,MAAK,SAAAC,GAAa,IAAD,EACiBA,EAASC,KAAlC7C,EADQ,EACRA,WAAYC,EADJ,EACIA,SACpBsC,EAASjC,EAAQa,iBAAiB,CAAEnB,aAAYC,iBAEjD6C,OAAM,SAAAjC,GACLA,EAAMkC,cAAgB,uBACtBR,EAASjC,EAAQK,WAAW,CAAEE,QAAOG,SAAUX,UAIxC2C,EAAgB,SAAArB,GAAE,OAAI,SAAAY,GACjC,OAAKZ,GAILY,EAASjC,EAAQW,UAAU,CAAED,SAAUX,MCVT4C,EDYXtB,ECXZa,IAAMU,IAAN,UAboB,YAapB,YAA8BD,KDYlCN,MAAK,SAAAC,GACJ,IAAMrB,EAAWqB,EAASC,KAC1BN,EAASjC,EAAQY,gBAAgB,CAAEhB,gBAAiBqB,QAErDuB,OAAM,SAAAjC,GACLA,EAAMkC,cAAgB,sBACtBR,EAASjC,EAAQK,WAAW,CAAEE,QAAOG,SAAUX,SAZ1CkC,EAASjC,EAAQY,gBAAgB,CAAEhB,qBAAiBC,KCPxD,IAAyB8C,IDuBnBE,EAAiB,SAAAxB,GAAE,OAAI,SAAAY,GAElC,OADAA,EAASjC,EAAQW,UAAU,CAAED,SAAUX,MCAV4C,EDEXtB,ECDXa,IAAMY,OAAN,UArCoB,YAqCpB,YAAiCH,KDErCN,MAAK,SAAAC,GACJL,EAASjC,EAAQsB,gBAAgB,CAAED,WAEpCmB,OAAM,SAAAjC,GACLA,EAAMkC,cAAgB,wBACtBR,EAASjC,EAAQK,WAAW,CAAEE,QAAOG,SAAUX,QCR9C,IAAwB4C,IDYlBI,EAAiB,SAAAC,GAAmB,OAAI,SAAAf,GAEnD,OADAA,EAASjC,EAAQW,UAAU,CAAED,SAAUX,MC9CVkB,EDgDX+B,EC/CXd,IAAMC,KAJc,YAIM,CAAElB,cDgDhCoB,MAAK,SAAAC,GAAa,IACTrB,EAAaqB,EAASC,KAAtBtB,SACRgB,EAASjC,EAAQc,gBAAgB,CAAEG,iBAEpCuB,OAAM,SAAAjC,GACLA,EAAMkC,cAAgB,wBACtBR,EAASjC,EAAQK,WAAW,CAAEE,QAAOG,SAAUX,QCvD9C,IAAwBkB,ID2DlBgC,EAAiB,SAAAhC,GAAQ,OAAI,SAAAgB,GAExC,OADAA,EAASjC,EAAQW,UAAU,CAAED,SAAUX,KCxClC,SAAwBkB,GAC7B,OAAOiB,IAAMgB,IAAN,UAxBoB,YAwBpB,YAA8BjC,EAASI,IAAM,CAAEJ,aDwC/CmB,CACWnB,GACfoB,MAAK,WACJJ,EAASjC,EAAQkB,gBAAgB,CAAED,iBAEpCuB,OAAM,SAAAjC,GACLA,EAAMkC,cAAgB,wBACtBR,EAASjC,EAAQK,WAAW,CAAEE,QAAOG,SAAUX,UAIxCoD,EAAwB,SAACzB,EAAKG,GAAN,OAAiB,SAAAI,GAEpD,OADAA,EAASjC,EAAQW,UAAU,CAAED,SAAUX,KChDlC,SAAkC2B,EAAKG,GAC5C,OAAOK,IAAMC,KAAN,UA7BoB,YA6BpB,6BAAwD,CAC7DT,MACAG,WD8CKO,CACqBV,EAAKG,GAC9BQ,MAAK,WACJJ,EAASjC,EAAQ4B,uBAAuB,CAAEF,MAAKG,eAEhDW,OAAM,SAAAjC,GACLA,EAAMkC,cAAgB,gCACtBR,EAASjC,EAAQK,WAAW,CAAEE,QAAOG,SAAUX,UAIxCqD,EAAkB,SAAA1B,GAAG,OAAI,SAAAO,GAEpC,OADAA,EAASjC,EAAQW,UAAU,CAAED,SAAUX,KChDlC,SAAyB2B,GAC9B,OAAOQ,IAAMC,KAAN,UA1CoB,YA0CpB,oBAA+C,CAAET,QDgDjDU,CACYV,GAChBW,MAAK,WACJJ,EAASjC,EAAQyB,iBAAiB,CAAEC,YAErCc,OAAM,SAAAjC,GACLA,EAAMkC,cAAgB,yBACtBR,EAASjC,EAAQK,WAAW,CAAEE,QAAOG,SAAUX,U,QE9F9C,SAASsD,EAAT,GAA2C,IAAPhC,EAAM,EAANA,GAAM,EAEHpC,aAC1C,SAACC,GAAD,MAAY,CACVU,gBAAiBV,EAAMC,UAAUS,gBACjCH,eAAgBP,EAAMC,UAAUM,kBAElCJ,KALMO,EAFuC,EAEvCA,gBAAiBH,EAFsB,EAEtBA,eAFsB,EAUrB6D,mBAAS,IAVY,mBAUxCC,EAVwC,KAUjCC,EAViC,KAwB/C,OAZAlE,qBAAU,WACR,IAAImE,EAASpC,EAAK,GAAK,eACnBzB,GAAmByB,IAErBoC,EAAM,yBAAqB7D,EAAgB8D,UAArC,YAAkD9D,EAAgB+D,SAAlE,MAIRH,EAASC,KAER,CAAC7D,EAAiBH,IAGnB,oCACGA,GAAkB,kBAAC,IAAD,MACnB,kBAACmE,EAAA,EAAMC,OAAP,CAAcC,aAAW,GACvB,kBAACF,EAAA,EAAMG,MAAP,CAAa1C,GAAG,gCAAgCkC,K,oBClBlDS,EAAqBC,MAAaC,MAAM,CAC5CR,UAAWO,MACRE,IAAI,EAAG,qBACPC,IAAI,GAAI,sBACRC,SAAS,yBACZV,SAAUM,MACPE,IAAI,EAAG,qBACPC,IAAI,GAAI,sBACRC,SAAS,wBACZC,MAAOL,MACJK,MAAM,iBACND,SAAS,qBACZE,SAAUN,MAAaI,SAAS,wBAChCG,aAAcP,MACXQ,UAAS,GACTJ,SAAS,6BACZK,UAAWT,MAAaI,SAAS,4BAG5B,SAASM,EAAT,GAKH,IAJFC,EAIC,EAJDA,aACA3D,EAGC,EAHDA,SACAxB,EAEC,EAFDA,eACAoF,EACC,EADDA,OAEA,OACE,oCACE,kBAAC,IAAD,CACEC,oBAAoB,EACpBC,cAAe9D,EACf+D,iBAAkBhB,EAClBiB,SAAU,SAACC,GACTN,EAAaM,MAGd,gBAAGC,EAAH,EAAGA,aAAH,OACC,oCACE,kBAACvB,EAAA,EAAMwB,KAAP,CAAYC,UAAU,wCACnB5F,GACC,yBAAK4F,UAAU,gCACb,yBAAKA,UAAU,wCAGnB,kBAAC,IAAD,CAAMA,UAAU,yBACd,yBAAKA,UAAU,kBAEb,yBAAKA,UAAU,YACb,kBAAC,IAAD,CACEnF,KAAK,YACLoF,UAAWC,IACXC,YAAY,aACZC,MAAM,gBAIV,yBAAKJ,UAAU,YACb,kBAAC,IAAD,CACEnF,KAAK,WACLoF,UAAWC,IACXC,YAAY,YACZC,MAAM,eAIV,yBAAKJ,UAAU,YACb,kBAAC,IAAD,CACEnF,KAAK,WACLoF,UAAWC,IACXC,YAAY,QACZC,MAAM,YAKZ,yBAAKJ,UAAU,kBACb,yBAAKA,UAAU,YACb,kBAAC,IAAD,CACE7E,KAAK,QACLN,KAAK,QACLoF,UAAWC,IACXC,YAAY,QACZC,MAAM,WAIV,yBAAKJ,UAAU,YACb,kBAAC,IAAD,CACEnF,KAAK,eACLuF,MAAM,mBAIV,yBAAKJ,UAAU,YACb,kBAAC,IAAD,CACEnF,KAAK,YACLoF,UAAWC,IACXC,YAAY,aACZC,MAAM,aACNC,oBAAoB,6DAI1B,yBAAKL,UAAU,kBAEb,yBAAKA,UAAU,YACb,kBAAC,IAAD,CAAQnF,KAAK,SAASuF,MAAM,UAC1B,4BAAQE,MAAM,UAAd,UACA,4BAAQA,MAAM,QAAd,UAIJ,yBAAKN,UAAU,YACb,kBAAC,IAAD,CAAQnF,KAAK,OAAOuF,MAAM,QACxB,4BAAQE,MAAM,KAAd,YACA,4BAAQA,MAAM,KAAd,mBAMV,kBAAC/B,EAAA,EAAMgC,OAAP,KACE,4BACEpF,KAAK,SACLqF,QAAShB,EACTQ,UAAU,6BAHZ,UAOA,yCACA,4BACE7E,KAAK,SACLqF,QAAS,kBAAMV,KACfE,UAAU,+BAHZ,c,YChJDS,EAA2B,CAAC,SAAU,UAAW,OAAQ,IACzDC,EAAuB,CAAC,YAAa,SAAU,UAAW,IAC1DC,EAAyB,CAAC,UAAW,UAAW,IAChDC,EAAqB,CAAC,WAAY,aAAc,IAChDC,EAAgB,CAAC,CAAEC,UAAW,KAAMC,MAAO,QAC3CC,EAAkB,CAC7B,CAAE9G,KAAM,IAAKoG,MAAO,GACpB,CAAEpG,KAAM,IAAKoG,MAAO,GACpB,CAAEpG,KAAM,KAAMoG,MAAO,KAEVW,EAAgB,CAC3B/E,OAAQ,CACNoC,SAAU,GACVD,UAAW,GACXY,MAAO,GACPI,UAAW,IAEb6B,UAAW,MACXC,UAAW,KACXC,WAAY,EACZC,SAAU,IChBNC,EAAqBC,0BAEpB,SAASC,IACd,OAAOC,qBAAWH,GAGeA,EAAmBI,SAE/C,SAASC,EAAT,GAA6D,IAA/BC,EAA8B,EAA9BA,kBAAmBC,EAAW,EAAXA,SAAW,EACvB5D,mBAASgD,GADc,mBAC1DtE,EAD0D,KAC7CmF,EAD6C,OAE3C7D,mBAAS,IAFkC,mBAE1D5B,EAF0D,KAErD0F,EAFqD,KAG3DC,EAAiBC,uBAAY,SAAAC,GACjCJ,GAAmB,SAAAK,GAKjB,OAJIC,qBAAWF,KACbA,EAAkBA,EAAgBC,IAGhCE,kBAAQF,EAAiBD,GACpBC,EAGFD,OAER,IAeG5B,EAAQ,CACZ3D,cACAmF,qBACAzF,MACA0F,SACAC,iBACAM,aAnBmB,CACnBtG,QAAIxB,EACJ8D,SAAU,GACVD,UAAW,GACXY,MAAO,GACPC,SAAU,GACVqD,OAAQ,SACR/F,OAAQ,EACR2C,aAAc,GACdE,UAAW,GACXlE,KAAM,GAUNqH,uBAAwBZ,EAAkBY,uBAC1CC,uBAAwBb,EAAkBa,uBAC1CC,yBAA0Bd,EAAkBc,yBAC5CC,0BAA2Bf,EAAkBe,0BAC7CC,yBAA0BhB,EAAkBgB,yBAC5CC,gCAAiCjB,EAAkBiB,iCAGrD,OAAO,kBAACvB,EAAmBwB,SAApB,CAA6BxC,MAAOA,GAAQuB,GCjD9C,SAASkB,EAAT,GAAmD,IAArB/G,EAAoB,EAApBA,GAAIgH,EAAgB,EAAhBA,KAAMxD,EAAU,EAAVA,OAEvCyD,EAAqBzB,IACrB0B,EAAmBC,mBAAQ,WAC/B,MAAO,CACLb,aAAcW,EAAmBX,gBAElC,CAACW,IAGErG,EAAWwG,cAVsC,EAWXxJ,aAC1C,SAACC,GAAD,MAAY,CACVO,eAAgBP,EAAMC,UAAUM,eAChCG,gBAAiBV,EAAMC,UAAUS,mBAEnCP,KALMI,EAX+C,EAW/CA,eAAgBG,EAX+B,EAW/BA,gBAQxBN,qBAAU,WAER2C,EAASjC,EAAsBqB,MAC9B,CAACA,EAAIY,IAaR,OACE,kBAAC2B,EAAA,EAAD,CACE8E,KAAK,KACLL,KAAMA,EACNxD,OAAQA,EACR8D,kBAAgB,gCAEhB,kBAACtF,EAAD,CAA0BhC,GAAIA,IAC9B,kBAACsD,EAAD,CACEC,aAnBe,SAAC3D,GACfI,EAKHY,EAASjC,EAAuBiB,IAAWoB,MAAK,kBAAMwC,OAHtD5C,EAASjC,EAAuBiB,IAAWoB,MAAK,kBAAMwC,QAiBpDpF,eAAgBA,EAChBwB,SAAUrB,GAAmB2I,EAAiBZ,aAC9C9C,OAAQA,KChDT,SAAS+D,EAAT,GAAqD,IAArBvH,EAAoB,EAApBA,GAAIgH,EAAgB,EAAhBA,KAAMxD,EAAU,EAAVA,OAEzCyD,EAAqBzB,IACrB0B,EAAmBC,mBAAQ,WAC/B,MAAO,CACLpB,OAAQkB,EAAmBlB,OAC3BpF,YAAasG,EAAmBtG,eAEjC,CAACsG,IAGErG,EAAWwG,cACTzJ,EAAcC,aACpB,SAACC,GAAD,MAAY,CAAEF,UAAWE,EAAMC,UAAUM,kBACzCJ,KAFML,UAMRM,qBAAU,WACH+B,GACHwD,MAGD,CAACxD,IAGJ/B,qBAAU,cAAU,CAACN,EAAWiD,IAchC,OACE,kBAAC2B,EAAA,EAAD,CACEyE,KAAMA,EACNxD,OAAQA,EACR8D,kBAAgB,gCAGf3J,GAAa,kBAAC,IAAD,MAEd,kBAAC4E,EAAA,EAAMC,OAAP,CAAcC,aAAW,GACvB,kBAACF,EAAA,EAAMG,MAAP,CAAa1C,GAAG,gCAAhB,oBAIF,kBAACuC,EAAA,EAAMwB,KAAP,MACIpG,GACA,mFAEDA,GAAa,0DAEhB,kBAAC4E,EAAA,EAAMgC,OAAP,KACE,6BACE,4BACEpF,KAAK,SACLqF,QAAShB,EACTQ,UAAU,6BAHZ,UAOA,yCACA,4BACE7E,KAAK,SACLqF,QA5Ca,WAErB5D,EAASjC,EAAuBqB,IAAKgB,MAAK,WAExCJ,EAASjC,EAAuBuI,EAAiBvG,cAEjDuG,EAAiBnB,OAAO,IAExBvC,QAqCMQ,UAAU,+BAHZ,aCtEH,SAASwD,EAAT,GAAkD,IAAjBR,EAAgB,EAAhBA,KAAMxD,EAAU,EAAVA,OAEtCyD,EAAqBzB,IACrB0B,EAAmBC,mBAAQ,WAC/B,MAAO,CACL9G,IAAK4G,EAAmB5G,IACxB0F,OAAQkB,EAAmBlB,OAC3BpF,YAAasG,EAAmBtG,eAEjC,CAACsG,IAGErG,EAAWwG,cACTzJ,EAAcC,aACpB,SAACC,GAAD,MAAY,CAAEF,UAAWE,EAAMC,UAAUM,kBACzCJ,KAFML,UAMRM,qBAAU,WACHiJ,EAAiB7G,KAAuC,IAAhC6G,EAAiB7G,IAAIoH,QAChDjE,MAGD,CAAC0D,EAAiB7G,MAGrBpC,qBAAU,cAAU,CAACN,EAAWiD,IAiBhC,OACE,kBAAC2B,EAAA,EAAD,CACEyE,KAAMA,EACNxD,OAAQA,EACR8D,kBAAgB,gCAGf3J,GAAa,kBAAC,IAAD,MAEd,kBAAC4E,EAAA,EAAMC,OAAP,CAAcC,aAAW,GACvB,kBAACF,EAAA,EAAMG,MAAP,CAAa1C,GAAG,gCAAhB,qBAIF,kBAACuC,EAAA,EAAMwB,KAAP,MACIpG,GACA,wFAEDA,GAAa,2DAEhB,kBAAC4E,EAAA,EAAMgC,OAAP,KACE,6BACE,4BACEpF,KAAK,SACLqF,QAAShB,EACTQ,UAAU,6BAHZ,UAOA,yCACA,4BACE7E,KAAK,SACLqF,QA/Cc,WAEtB5D,EAASjC,EAAwBuI,EAAiB7G,MAAMW,MAAK,WAE3DJ,EAASjC,EAAuBuI,EAAiBvG,cAAcK,MAC7D,WAEEkG,EAAiBnB,OAAO,IAExBvC,WAuCEQ,UAAU,+BAHZ,aCxEV,IAAM0D,EAAoB,SAACpJ,EAAU+B,GACnC,IAAMsH,EAAa,GAOnB,OANAtH,EAAIuH,SAAQ,SAAC5H,GACX,IAAMJ,EAAWtB,EAASuJ,MAAK,SAAC1H,GAAD,OAAQA,EAAGH,KAAOA,KAC7CJ,GACF+H,EAAWhI,KAAKC,MAGb+H,GAGF,SAASG,EAAT,GAAiD,IAAjBd,EAAgB,EAAhBA,KAAMxD,EAAU,EAAVA,OAErCyD,EAAqBzB,IACrB0B,EAAmBC,mBAAQ,WAC/B,MAAO,CACL9G,IAAK4G,EAAmB5G,OAEzB,CAAC4G,IAGInJ,EAAcF,aACpB,SAACC,GAAD,MAAY,CACVC,UAAW4J,EACT7J,EAAMC,UAAUQ,SAChB4I,EAAiB7G,QAGrBrC,KAPMF,UAkBR,OAPAG,qBAAU,WACHiJ,EAAiB7G,KAAuC,IAAhC6G,EAAiB7G,IAAIoH,QAChDjE,MAGD,CAAC0D,EAAiB7G,MAGnB,kBAACkC,EAAA,EAAD,CACEyE,KAAMA,EACNxD,OAAQA,EACR8D,kBAAgB,gCAEhB,kBAAC/E,EAAA,EAAMC,OAAP,CAAcC,aAAW,GACvB,kBAACF,EAAA,EAAMG,MAAP,CAAa1C,GAAG,gCAAhB,4BAIF,kBAACuC,EAAA,EAAMwB,KAAP,KACE,2BAAOC,UAAU,uEACf,+BACE,4BACE,kCACA,sCACA,0CAGJ,+BACGlG,EAAUgC,KAAI,SAACF,GAAD,OACb,wBAAImI,IAAG,YAAOnI,EAASI,KACrB,4BAAKJ,EAASI,IACd,4BACE,0BACEgE,UAAS,qCACPS,EAAyB7E,EAASY,QAD3B,kBAIR,IACAkE,EAAqB9E,EAASY,UAGnC,4BACE,0BAAMwD,UAAU,QAEfpE,EAASyC,UAFV,KAEuBzC,EAAS0C,kBAS5C,kBAACC,EAAA,EAAMgC,OAAP,KACE,6BACE,4BACEpF,KAAK,SACLqF,QAAShB,EACTQ,UAAU,6BAHZ,UAOA,yCACA,4BACE7E,KAAK,SACLqF,QAAShB,EACTQ,UAAU,+BAHZ,SC9FV,IAAM0D,EAAoB,SAACpJ,EAAU+B,GACnC,IAAMsH,EAAa,GAOnB,OANAtH,EAAIuH,SAAQ,SAAC5H,GACX,IAAMJ,EAAWtB,EAASuJ,MAAK,SAAC1H,GAAD,OAAQA,EAAGH,KAAOA,KAC7CJ,GACF+H,EAAWhI,KAAKC,MAGb+H,GAGF,SAASK,EAAT,GAAuD,IAAjBhB,EAAgB,EAAhBA,KAAMxD,EAAU,EAAVA,OAE3CyD,EAAqBzB,IACrB0B,EAAmBC,mBAAQ,WAC/B,MAAO,CACL9G,IAAK4G,EAAmB5G,IACxB0F,OAAQkB,EAAmBlB,OAC3BpF,YAAasG,EAAmBtG,eAEjC,CAACsG,IATuD,EAY1BrJ,aAC/B,SAACC,GAAD,MAAY,CACVC,UAAW4J,EACT7J,EAAMC,UAAUQ,SAChB4I,EAAiB7G,KAEnB1C,UAAWE,EAAMC,UAAUM,kBAE7BJ,KARMF,EAZmD,EAYnDA,UAAWH,EAZwC,EAYxCA,UAYnBM,qBAAU,WACHiJ,EAAiB7G,KAAuC,IAAhC6G,EAAiB7G,IAAIoH,QAChDjE,MAGD,CAAC0D,EAAiB7G,MA7BsC,MA+B/B4B,mBAAS,GA/BsB,mBA+BpDzB,EA/BoD,KA+B5CyH,EA/B4C,KAiCrDrH,EAAWwG,cAkBjB,OACE,kBAAC7E,EAAA,EAAD,CACEyE,KAAMA,EACNxD,OAAQA,EACR8D,kBAAgB,gCAEhB,kBAAC/E,EAAA,EAAMC,OAAP,CAAcC,aAAW,GACvB,kBAACF,EAAA,EAAMG,MAAP,CAAa1C,GAAG,gCAAhB,mDAIF,kBAACuC,EAAA,EAAMwB,KAAP,CAAYC,UAAU,wCAEnBrG,GACC,yBAAKqG,UAAU,iBACb,yBAAKA,UAAU,wCAInB,2BAAOA,UAAU,uEACf,+BACE,4BACE,kCACA,sCACA,0CAGJ,+BACGlG,EAAUgC,KAAI,SAACF,GAAD,OACb,wBAAImI,IAAG,YAAOnI,EAASI,KACrB,4BAAKJ,EAASI,IACd,4BACE,0BACEgE,UAAS,qCACPS,EAAyB7E,EAASY,QAD3B,kBAIR,IACAkE,EAAqB9E,EAASY,UAGnC,4BACE,0BAAMwD,UAAU,QAEfpE,EAASyC,UAFV,IAEsBzC,EAAS0C,kBAS3C,kBAACC,EAAA,EAAMgC,OAAP,CAAcP,UAAU,QACtB,yBAAKA,UAAU,cACb,4BACEA,UAAU,eACVM,MAAO9D,EACP0H,SAAU,SAACC,GAAD,OAAOF,GAAWE,EAAEC,OAAO9D,SAErC,4BAAQA,MAAM,KAAd,aACA,4BAAQA,MAAM,KAAd,UACA,4BAAQA,MAAM,KAAd,aAGJ,yBAAKN,UAAU,cACb,4BACE7E,KAAK,SACLqF,QAAShB,EACTQ,UAAU,kCAHZ,UAOA,4BACE7E,KAAK,SACLqF,QA5FW,WAEnB5D,EAASjC,EAA8BuI,EAAiB7G,IAAKG,IAASQ,MACpE,WAEEJ,EAASjC,EAAuBuI,EAAiBvG,cAAcK,MAC7D,WAEEkG,EAAiBnB,OAAO,IAExBvC,WAmFAQ,UAAU,+BAHZ,oB,YCzHH,SAASqE,EAAT,GAA0C,EAAftK,YAAgB,IAE1CkJ,EAAqBzB,IACrB0B,EAAmBC,mBAAQ,WAC/B,MAAO,CACLxG,YAAasG,EAAmBtG,YAChCqF,eAAgBiB,EAAmBjB,kBAEpC,CAACiB,IAGEqB,EAAc,SAACzE,GACnB,IAAM0E,EA/BY,SAAC5H,EAAakD,GAAY,IACtCrD,EAA6BqD,EAA7BrD,OAAQrB,EAAqB0E,EAArB1E,KAAMqJ,EAAe3E,EAAf2E,WAChBD,EAAc,eAAQ5H,GACtBT,EAAS,GAaf,OAXAA,EAAOM,OAAoB,KAAXA,GAAiBA,OAAShC,EAE1C0B,EAAOf,KAAgB,KAATA,GAAeA,OAAOX,EAEpC0B,EAAOoC,SAAWkG,EACdA,IACFtI,EAAOmC,UAAYmG,EACnBtI,EAAO+C,MAAQuF,EACftI,EAAOmD,UAAYmF,GAErBD,EAAerI,OAASA,EACjBqI,EAekBE,CAAcvB,EAAiBvG,YAAakD,GAC9DwC,kBAAQkC,EAAgBrB,EAAiBvG,eAC5C4H,EAAenD,WAAa,EAE5B8B,EAAiBlB,eAAeuC,KAIpC,OACE,oCACE,kBAAC,IAAD,CACE7E,cAAe,CACblD,OAAQ,GACRrB,KAAM,GACNqJ,WAAY,IAEd5E,SAAU,SAACC,GACTyE,EAAYzE,MAGb,gBACCA,EADD,EACCA,OACAC,EAFD,EAECA,aACA4E,EAHD,EAGCA,WAEAC,GALD,EAICC,aAJD,EAKCD,eALD,OAOC,0BAAM/E,SAAUE,EAAcE,UAAU,yBACtC,yBAAKA,UAAU,kBACb,yBAAKA,UAAU,YACb,4BACEA,UAAU,eACVnF,KAAK,SACLsF,YAAY,mBAEZ+D,SAAU,SAACC,GACTQ,EAAc,SAAUR,EAAEC,OAAO9D,OACjCR,KAEF+E,OAAQH,EACRpE,MAAOT,EAAOrD,QAEd,4BAAQ8D,MAAM,IAAd,OACA,4BAAQA,MAAM,KAAd,cACA,4BAAQA,MAAM,KAAd,UACA,4BAAQA,MAAM,KAAd,YAEF,2BAAON,UAAU,wBACf,qCADF,eAIF,yBAAKA,UAAU,YACb,4BACEA,UAAU,eACVG,YAAY,iBACZtF,KAAK,OACLgK,OAAQH,EACRR,SAAU,SAACC,GACTQ,EAAc,OAAQR,EAAEC,OAAO9D,OAC/BR,KAEFQ,MAAOT,EAAO1E,MAEd,4BAAQmF,MAAM,IAAd,OACA,4BAAQA,MAAM,KAAd,YACA,4BAAQA,MAAM,KAAd,eAEF,2BAAON,UAAU,wBACf,qCADF,aAIF,yBAAKA,UAAU,YACb,2BACE7E,KAAK,OACL6E,UAAU,eACVnF,KAAK,aACLsF,YAAY,SACZ0E,OAAQH,EACRpE,MAAOT,EAAO2E,WACdN,SAAU,SAACC,GACTQ,EAAc,aAAcR,EAAEC,OAAO9D,OACrCR,OAGJ,2BAAOE,UAAU,wBACf,qCADF,yB,iDChHT,SAAS8E,GAAsBC,EAAaC,GAMjD,OACE,0BAAMhF,UALA,8BAAN,OACES,EAAyBuE,EAAIxI,QAD/B,kBAMGkE,EAAqBsE,EAAIxI,SCRzB,SAASyI,GAAoBF,EAAaC,GAC/C,OACE,oCACE,0BACEhF,UAAS,gCACPW,EAAuBqE,EAAI7J,MADpB,WAFb,OAOE,0BAAM6E,UAAS,yBAAoBW,EAAuBqE,EAAI7J,QAC3DyF,EAAmBoE,EAAI7J,Q,uBCXzB,SAAS+J,GACdH,EACAC,EACAG,EAHK,GAKJ,IADC1C,EACF,EADEA,uBAAwBC,EAC1B,EAD0BA,yBAE1B,OACE,oCACE,uBACExE,MAAM,gBACN8B,UAAU,uDACVQ,QAAS,kBAAMiC,EAAuBuC,EAAIhJ,MAE1C,0BAAMgE,UAAU,yCACd,kBAAC,KAAD,CACEoF,IAAKC,aAAc,gDAIzB,yCAEA,uBACEnH,MAAM,kBACN8B,UAAU,iDACVQ,QAAS,kBAAMkC,EAAyBsC,EAAIhJ,MAE5C,0BAAMgE,UAAU,wCACd,kBAAC,KAAD,CAAKoF,IAAKC,aAAc,2CCX3B,SAASC,KAEd,IAAMrC,EAAqBzB,IACrB0B,EAAmBC,mBAAQ,WAC/B,MAAO,CACL9G,IAAK4G,EAAmB5G,IACxB0F,OAAQkB,EAAmBlB,OAC3BpF,YAAasG,EAAmBtG,YAChCqF,eAAgBiB,EAAmBjB,eACnCS,uBAAwBQ,EAAmBR,uBAC3CC,yBAA0BO,EAAmBP,4BAE9C,CAACO,IAGIsC,EAAiB3L,aACvB,SAACC,GAAD,MAAY,CAAE0L,aAAc1L,EAAMC,aAClCE,KAFMuL,aAIAlL,EAAsCkL,EAAtClL,WAAYC,EAA0BiL,EAA1BjL,SAAUP,EAAgBwL,EAAhBxL,YAGxB6C,EAAWwG,cACjBnJ,qBAAU,WAERiJ,EAAiBnB,OAAO,IAExBnF,EAASjC,EAAuBuI,EAAiBvG,gBAEhD,CAACuG,EAAiBvG,YAAaC,IAElC,IAAM4I,EAAU,CACd,CACE1E,UAAW,KACX5G,KAAM,KACNuL,MAAM,EACNC,UAAWA,KACXC,2BAEF,CACE7E,UAAW,YACX5G,KAAM,YACNuL,MAAM,EACNC,UAAWA,KACXC,2BAEF,CACE7E,UAAW,WACX5G,KAAM,WACNuL,MAAM,EACNC,UAAWA,KACXC,2BAEF,CACE7E,UAAW,QACX5G,KAAM,QACNuL,MAAM,EACNC,UAAWA,KACXC,2BAEF,CACE7E,UAAW,SACX5G,KAAM,SACNuL,MAAM,EACNC,UAAWA,MAEb,CACE5E,UAAW,SACX5G,KAAM,SACNuL,MAAM,EACNC,UAAWA,KACXE,UAAWC,GACXF,2BAEF,CACE7E,UAAW,OACX5G,KAAM,OACNuL,MAAM,EACNC,UAAWA,KACXE,UAAWC,IAEb,CACE/E,UAAW,SACX5G,KAAM,UACN0L,UAAWC,GACXC,gBAAiB,CACfrD,uBAAwBS,EAAiBT,uBACzCC,yBAA0BQ,EAAiBR,0BAE7CqD,QAAS,iBACTC,cAAe,kBACfC,MAAO,CACLC,SAAU,WAKVC,EAAoB,CACxBC,QAAQ,EACRC,UAAWhM,EACX2G,gBAAiBsF,EACjBC,YAAarD,EAAiBvG,YAAY0E,SAC1CmF,KAAMtD,EAAiBvG,YAAYyE,YAErC,OACE,oCACE,kBAAC,qBAAD,CAAoBqF,WAAYC,IAAkBP,KAC/C,YAAgD,IAA7CQ,EAA4C,EAA5CA,gBAAiBC,EAA2B,EAA3BA,qBACnB,OACE,kBAAC,IAAD,CACEjN,UAAWI,EACX4M,gBAAiBA,GAEjB,kBAAC,IAAD,eACEE,eAAe,mBACfC,UAAU,EACVf,QAAQ,gEACRgB,YAAU,EACVC,QAAM,EACNC,SAAS,KACT/J,KAAmB,OAAb5C,EAAoB,GAAKA,EAC/BkL,QAASA,EACT3E,cAAeyF,EACfY,cAAeC,aACbjE,EAAiBlB,gBAEnBoF,UAAWC,aAAa,CACtB/M,WACA+B,IAAK6G,EAAiB7G,IACtB0F,OAAQmB,EAAiBnB,UAEvB6E,GAEJ,kBAAC,KAAD,CAAmBtM,SAAUA,IAC7B,kBAAC,KAAD,CAAuBA,SAAUA,UC1J1C,SAASgN,KAEd,IAAMrE,EAAqBzB,IACrB0B,EAAmBC,mBAAQ,WAC/B,MAAO,CACL9G,IAAK4G,EAAmB5G,IACxB0F,OAAQkB,EAAmBlB,OAC3BY,0BAA2BM,EAAmBN,0BAC9CC,yBAA0BK,EAAmBL,yBAC7CC,gCACEI,EAAmBJ,mCAEtB,CAACI,IAEJ,OACE,yBAAKjD,UAAU,QACb,yBAAKA,UAAU,4EACb,yBAAKA,UAAU,aACb,yBAAKA,UAAU,gCACb,yBAAKA,UAAU,iCACb,2BAAOA,UAAU,yBACf,yDAC0B,2BAAIkD,EAAiB7G,IAAIoH,WAIvD,6BACE,4BACEtI,KAAK,SACL6E,UAAU,iDACVQ,QAAS0C,EAAiBP,2BAE1B,uBAAG3C,UAAU,gBALf,eADF,OASE,4BACE7E,KAAK,SACL6E,UAAU,wDACVQ,QAAS0C,EAAiBN,0BAE1B,uBAAG5C,UAAU,iBALf,mBATF,OAiBE,4BACE7E,KAAK,SACL6E,UAAU,wDACVQ,QAAS0C,EAAiBL,iCAE1B,uBAAG7C,UAAU,mBALf,uBClCP,SAASuH,KACd,IAAMtE,EAAqBzB,IACrB0B,EAAmBC,mBAAQ,WAC/B,MAAO,CACL9G,IAAK4G,EAAmB5G,IACxBmG,uBAAwBS,EAAmBT,0BAE5C,CAACS,IAEJ,OACE,kBAAC,IAAD,KACE,kBAAC,IAAD,CAAY/E,MAAM,kBAChB,kBAAC,IAAD,KACE,4BACE/C,KAAK,SACL6E,UAAU,kBACVQ,QAAS0C,EAAiBV,wBAH5B,kBASJ,kBAAC,IAAD,KACE,kBAAC6B,EAAD,MACCnB,EAAiB7G,IAAIoH,OAAS,GAAK,kBAAC6D,GAAD,MACpC,kBAAChC,GAAD,QC1BD,SAASkC,GAAT,GAAqC,IAAZC,EAAW,EAAXA,QACxB7F,EAAoB,CACxBY,uBAAwB,WACtBiF,EAAQ9L,KAAK,8BAEf8G,uBAAwB,SAACzG,GACvByL,EAAQ9L,KAAR,gCAAsCK,EAAtC,WAEF0G,yBAA0B,SAAC1G,GACzByL,EAAQ9L,KAAR,gCAAsCK,EAAtC,aAEF2G,0BAA2B,WACzB8E,EAAQ9L,KAAR,0CAEFiH,yBAA0B,WACxB6E,EAAQ9L,KAAR,gCAEFkH,gCAAiC,WAC/B4E,EAAQ9L,KAAK,wCAIjB,OACE,kBAACgG,EAAD,CAAqBC,kBAAmBA,GACtC,kBAAClI,EAAD,MACA,kBAAC,IAAD,CAAOgO,KAAK,8BACT,gBAAGD,EAAH,EAAGA,QAASE,EAAZ,EAAYA,MAAZ,OACC,kBAAC5E,EAAD,CACEC,KAAe,MAAT2E,EACNnI,OAAQ,WACNiI,EAAQ9L,KAAK,+BAKrB,kBAAC,IAAD,CAAO+L,KAAK,mCACT,gBAAGD,EAAH,EAAGA,QAASE,EAAZ,EAAYA,MAAZ,OACC,kBAAC5E,EAAD,CACEC,KAAe,MAAT2E,EACN3L,GAAI2L,GAASA,EAAMC,OAAO5L,GAC1BwD,OAAQ,WACNiI,EAAQ9L,KAAK,+BAKrB,kBAAC,IAAD,CAAO+L,KAAK,0CACT,gBAAGD,EAAH,EAAGA,QAASE,EAAZ,EAAYA,MAAZ,OACC,kBAACnE,EAAD,CACER,KAAe,MAAT2E,EACNnI,OAAQ,WACNiI,EAAQ9L,KAAK,+BAKrB,kBAAC,IAAD,CAAO+L,KAAK,qCACT,gBAAGD,EAAH,EAAGA,QAASE,EAAZ,EAAYA,MAAZ,OACC,kBAACpE,EAAD,CACEP,KAAe,MAAT2E,EACN3L,GAAI2L,GAASA,EAAMC,OAAO5L,GAC1BwD,OAAQ,WACNiI,EAAQ9L,KAAK,+BAKrB,kBAAC,IAAD,CAAO+L,KAAK,gCACT,gBAAGD,EAAH,EAAGA,QAASE,EAAZ,EAAYA,MAAZ,OACC,kBAAC7D,EAAD,CACEd,KAAe,MAAT2E,EACNnI,OAAQ,WACNiI,EAAQ9L,KAAK,+BAKrB,kBAAC,IAAD,CAAO+L,KAAK,uCACT,gBAAGD,EAAH,EAAGA,QAASE,EAAZ,EAAYA,MAAZ,OACC,kBAAC3D,EAAD,CACEhB,KAAe,MAAT2E,EACNnI,OAAQ,WACNiI,EAAQ9L,KAAK,+BAKrB,kBAAC4L,GAAD,OC9FC,SAASM,KAAyB,IAC/BlO,EAAcC,aACpB,SAAAC,GAAK,MAAK,CAAEF,UAAWE,EAAMiO,SAAS/N,eACtCC,KAFML,UAKR,OADAM,qBAAU,cAAU,CAACN,IACd,kBAAC,IAAD,CAAeA,UAAWA,EAAWO,KAAK,gB,cCP5CS,GAAWoN,KAAXpN,QAEMqN,GAAgB,SAAArL,GAAW,OAAI,SAAAC,GAE1C,OADAA,EAASjC,GAAQW,UAAU,CAAED,SAAUX,KAAUuN,QCc5C,SAAsBtL,GAC3B,OAAOE,IAAMC,KAAN,UAnBmB,WAmBnB,SAAmC,CAAEH,gBDdrCI,CACSJ,GACbK,MAAK,SAAAC,GAAa,IAAD,EACiBA,EAASC,KAAlC7C,EADQ,EACRA,WAAYC,EADJ,EACIA,SACpBsC,EAASjC,GAAQuN,gBAAgB,CAAE7N,aAAYC,iBAEhD6C,OAAM,SAAAjC,GACLA,EAAMkC,cAAgB,sBACtBR,EAASjC,GAAQK,WAAW,CAAEE,QAAOG,SAAUX,KAAUuN,aAIlDE,GAAe,SAAAnM,GAAE,OAAI,SAAAY,GAChC,OAAKZ,GAILY,EAASjC,GAAQW,UAAU,CAAED,SAAUX,KAAUO,WCVpBmN,EDYXpM,ECXXa,IAAMU,IAAN,UAbmB,WAanB,YAA6B6K,KDYjCpL,MAAK,SAAAC,GACJ,IAAMoL,EAAUpL,EAASC,KACzBN,EAASjC,GAAQ2N,eAAe,CAAEC,eAAgBF,QAEnDlL,OAAM,SAAAjC,GACLA,EAAMkC,cAAgB,qBACtBR,EAASjC,GAAQK,WAAW,CAAEE,QAAOG,SAAUX,KAAUO,cAZpD2B,EAASjC,GAAQ2N,eAAe,CAAEC,oBAAgB/N,KCPtD,IAAwB4N,IDuBlBI,GAAgB,SAAAxM,GAAE,OAAI,SAAAY,GAEjC,OADAA,EAASjC,GAAQW,UAAU,CAAED,SAAUX,KAAUO,WCArBmN,EDEXpM,ECDVa,IAAMY,OAAN,UArCmB,WAqCnB,YAAgC2K,KDEpCpL,MAAK,SAAAC,GACJL,EAASjC,GAAQ8N,eAAe,CAAEzM,WAEnCmB,OAAM,SAAAjC,GACLA,EAAMkC,cAAgB,uBACtBR,EAASjC,GAAQK,WAAW,CAAEE,QAAOG,SAAUX,KAAUO,aCRxD,IAAuBmN,IDYjBM,GAAgB,SAAAC,GAAkB,OAAI,SAAA/L,GAEjD,OADAA,EAASjC,GAAQW,UAAU,CAAED,SAAUX,KAAUO,WC9CrBoN,EDgDXM,EC/CV9L,IAAMC,KAJa,WAIM,CAAEuL,aDgD/BrL,MAAK,SAAAC,GAAa,IACToL,EAAYpL,EAASC,KAArBmL,QACRzL,EAASjC,GAAQiO,eAAe,CAAEP,gBAEnClL,OAAM,SAAAjC,GACLA,EAAMkC,cAAgB,uBACtBR,EAASjC,GAAQK,WAAW,CAAEE,QAAOG,SAAUX,KAAUO,aCvDxD,IAAuBoN,ID2DjBQ,GAAgB,SAAAR,GAAO,OAAI,SAAAzL,GAEtC,OADAA,EAASjC,GAAQW,UAAU,CAAED,SAAUX,KAAUO,UCxC5C,SAAuBoN,GAC5B,OAAOxL,IAAMgB,IAAN,UAxBmB,WAwBnB,YAA6BwK,EAAQrM,IAAM,CAAEqM,YDwC7CtL,CACUsL,GACdrL,MAAK,WACJJ,EAASjC,GAAQmO,eAAe,CAAET,gBAEnClL,OAAM,SAAAjC,GACLA,EAAMkC,cAAgB,uBACtBR,EAASjC,GAAQK,WAAW,CAAEE,QAAOG,SAAUX,KAAUO,eAIlD8N,GAAuB,SAAC1M,EAAKG,GAAN,OAAiB,SAAAI,GAEnD,OADAA,EAASjC,GAAQW,UAAU,CAAED,SAAUX,KAAUO,UChD5C,SAAiCoB,EAAKG,GAC3C,OAAOK,IAAMC,KAAN,UA7BmB,WA6BnB,4BAAsD,CAC3DT,MACAG,WD8CKO,CACoBV,EAAKG,GAC7BQ,MAAK,WACJJ,EAASjC,GAAQqO,sBAAsB,CAAE3M,MAAKG,eAE/CW,OAAM,SAAAjC,GACLA,EAAMkC,cAAgB,+BACtBR,EAASjC,GAAQK,WAAW,CAAEE,QAAOG,SAAUX,KAAUO,eAIlDgO,GAAiB,SAAA5M,GAAG,OAAI,SAAAO,GAEnC,OADAA,EAASjC,GAAQW,UAAU,CAAED,SAAUX,KAAUO,UChD5C,SAAwBoB,GAC7B,OAAOQ,IAAMC,KAAN,UA1CmB,WA0CnB,mBAA6C,CAAET,QDgD/CU,CACWV,GACfW,MAAK,WACJJ,EAASjC,GAAQuO,gBAAgB,CAAE7M,YAEpCc,OAAM,SAAAjC,GACLA,EAAMkC,cAAgB,wBACtBR,EAASjC,GAAQK,WAAW,CAAEE,QAAOG,SAAUX,KAAUO,eEnGlDkO,GAA0B,CAAC,UAAW,OAAQ,IAC9CC,GAAsB,CAAC,UAAW,QAClCC,GAA6B,CAAC,UAAW,SAAU,IACnDC,GAAyB,CAAC,MAAO,QACjCzI,GAAgB,CAAC,CAAEC,UAAW,KAAMC,MAAO,QAC3CC,GAAkB,CAC7B,CAAE9G,KAAM,IAAKoG,MAAO,GACpB,CAAEpG,KAAM,IAAKoG,MAAO,GACpB,CAAEpG,KAAM,KAAMoG,MAAO,KAEVW,GAAgB,CAC3B/E,OAAQ,CACNqN,MAAO,GACPC,YAAa,GACbC,QAAS,IAEXvI,UAAW,MACXC,UAAW,UACXC,WAAY,EACZC,SAAU,IAECqI,GAAmB,CAC9B,MACA,YACA,QACA,OACA,iBACA,YACA,UACA,OACA,SACA,SACA,QACA,SACA,YACA,YACA,QACA,OACA,SACA,SACA,OACA,QACA,iBAGWC,GAAyB,CACpC,UACA,MACA,QACA,SACA,OACA,QACA,aACA,aACA,YACA,WACA,OACA,SACA,MACA,WACA,WACA,UACA,QACA,MACA,QACA,cACA,QACA,SACA,OACA,UACA,OACA,UCnEIC,GAAoBrI,0BAEnB,SAASsI,KACd,OAAOpI,qBAAWmI,IAGcA,GAAkBlI,SAE7C,SAASoI,GAAT,GAA6D,IAA/BC,EAA8B,EAA9BA,iBAAkBlI,EAAY,EAAZA,SAAY,EACvB5D,mBAASgD,IADc,mBAC1DtE,EAD0D,KAC7CmF,EAD6C,OAE3C7D,mBAAS,IAFkC,mBAE1D5B,EAF0D,KAErD0F,EAFqD,KAG3DC,EAAiBC,uBAAY,SAACC,GAClCJ,GAAmB,SAACK,GAKlB,OAJIC,qBAAWF,KACbA,EAAkBA,EAAgBC,IAGhCE,kBAAQF,EAAiBD,GACpBC,EAGFD,OAER,IAEG5B,EAAQ,CACZ3D,cACAmF,qBACAzF,MACA0F,SACAC,iBACAgI,sBAAuBD,EAAiBC,sBACxCC,oBAAqBF,EAAiBE,oBACtCC,wBAAyBH,EAAiBG,wBAC1CC,yBAA0BJ,EAAiBI,yBAC3CC,wBAAyBL,EAAiBK,wBAC1CC,+BACEN,EAAiBM,gCAGrB,OACE,kBAACT,GAAkB9G,SAAnB,CAA4BxC,MAAOA,GAChCuB,GCtCA,SAASyI,GAAT,GAAoD,IAArBtO,EAAoB,EAApBA,GAAIgH,EAAgB,EAAhBA,KAAMxD,EAAU,EAAVA,OAExC+K,EAAoBV,KACpBW,EAAkBrH,mBAAQ,WAC9B,MAAO,CACLpB,OAAQwI,EAAkBxI,OAC1BpF,YAAa4N,EAAkB5N,eAEhC,CAAC4N,IAGE3N,EAAWwG,cACTzJ,EAAcC,aACpB,SAACC,GAAD,MAAY,CAAEF,UAAWE,EAAMiO,SAAS1N,kBACxCJ,KAFML,UAMRM,qBAAU,WACH+B,GACHwD,MAGD,CAACxD,IAGJ/B,qBAAU,cAAU,CAACN,EAAWiD,IAchC,OACE,kBAAC2B,EAAA,EAAD,CACEyE,KAAMA,EACNxD,OAAQA,EACR8D,kBAAgB,gCAEf3J,GAAa,kBAAC,IAAD,CAAkB8Q,QAAQ,UACxC,kBAAClM,EAAA,EAAMC,OAAP,CAAcC,aAAW,GACvB,kBAACF,EAAA,EAAMG,MAAP,CAAa1C,GAAG,gCAAhB,mBAIF,kBAACuC,EAAA,EAAMwB,KAAP,MACIpG,GACA,kFAEDA,GAAa,yDAEhB,kBAAC4E,EAAA,EAAMgC,OAAP,KACE,6BACE,4BACEpF,KAAK,SACLqF,QAAShB,EACTQ,UAAU,6BAHZ,UAOA,yCACA,4BACE7E,KAAK,SACLqF,QA1CY,WAEpB5D,EAASjC,GAAsBqB,IAAKgB,MAAK,WAEvCJ,EAASjC,GAAsB6P,EAAgB7N,cAE/C6N,EAAgBzI,OAAO,IAEvBvC,QAmCMQ,UAAU,+BAHZ,aCpEH,SAAS0K,GAAT,GAAiD,IAAjB1H,EAAgB,EAAhBA,KAAMxD,EAAU,EAAVA,OAErC+K,EAAoBV,KACpBW,EAAkBrH,mBAAQ,WAC9B,MAAO,CACL9G,IAAKkO,EAAkBlO,IACvB0F,OAAQwI,EAAkBxI,OAC1BpF,YAAa4N,EAAkB5N,eAEhC,CAAC4N,IAGE3N,EAAWwG,cACTzJ,EAAcC,aACpB,SAACC,GAAD,MAAY,CAAEF,UAAWE,EAAMiO,SAAS1N,kBACxCJ,KAFML,UAMRM,qBAAU,cAAU,CAACN,EAAWiD,IAGhC3C,qBAAU,WACHuQ,EAAgBnO,KAAsC,IAA/BmO,EAAgBnO,IAAIoH,QAC9CjE,MAGD,CAACgL,EAAgBnO,MAepB,OACE,kBAACkC,EAAA,EAAD,CACEyE,KAAMA,EACNxD,OAAQA,EACR8D,kBAAgB,gCAEf3J,GAAa,kBAAC,IAAD,MACd,kBAAC4E,EAAA,EAAMC,OAAP,CAAcC,aAAW,GACvB,kBAACF,EAAA,EAAMG,MAAP,CAAa1C,GAAG,gCAAhB,oBAIF,kBAACuC,EAAA,EAAMwB,KAAP,MACIpG,GACA,uFAEDA,GAAa,2DAEhB,kBAAC4E,EAAA,EAAMgC,OAAP,KACE,6BACE,4BACEpF,KAAK,SACLqF,QAAShB,EACTQ,UAAU,6BAHZ,UAOA,yCACA,4BACE7E,KAAK,SACLqF,QA3Ca,WAErB5D,EAASjC,GAAuB6P,EAAgBnO,MAAMW,MAAK,WAEzDJ,EAASjC,GAAsB6P,EAAgB7N,cAAcK,MAAK,WAEhEwN,EAAgBzI,OAAO,IAEvBvC,WAoCIQ,UAAU,+BAHZ,aCxEV,IAAM2K,GAAmB,SAACrQ,EAAU+B,GAClC,IAAMuO,EAAY,GAOlB,OANAvO,EAAIuH,SAAQ,SAAC5H,GACX,IAAMqM,EAAU/N,EAASuJ,MAAK,SAAC1H,GAAD,OAAQA,EAAGH,KAAOA,KAC5CqM,GACFuC,EAAUjP,KAAK0M,MAGZuC,GAGF,SAASC,GAAT,GAAgD,IAAjB7H,EAAgB,EAAhBA,KAAMxD,EAAU,EAAVA,OAEpC+K,EAAoBV,KACpBW,EAAkBrH,mBAAQ,WAC9B,MAAO,CACL9G,IAAKkO,EAAkBlO,IACvBM,YAAa4N,EAAkB5N,eAEhC,CAAC4N,IAGIzC,EAAalO,aACnB,SAACC,GAAD,MAAY,CACViO,SAAU6C,GAAiB9Q,EAAMiO,SAASxN,SAAUkQ,EAAgBnO,QAEtErC,KAJM8N,SAeR,OAPA7N,qBAAU,WACHuQ,EAAgBnO,KAAsC,IAA/BmO,EAAgBnO,IAAIoH,QAC9CjE,MAGD,CAACgL,EAAgBnO,MAGlB,kBAACkC,EAAA,EAAD,CACEyE,KAAMA,EACNxD,OAAQA,EACR8D,kBAAgB,gCAEhB,kBAAC/E,EAAA,EAAMC,OAAP,CAAcC,aAAW,GACvB,kBAACF,EAAA,EAAMG,MAAP,CAAa1C,GAAG,gCAAhB,4BAIF,kBAACuC,EAAA,EAAMwB,KAAP,KACE,yBAAKC,UAAU,qDACb,yBAAKA,UAAU,uBACZ8H,EAAShM,KAAI,SAACuM,GAAD,OACZ,yBAAKrI,UAAU,0BAA0B+D,IAAKsE,EAAQrM,IACpD,0BAAMgE,UAAU,sBACd,0BACEA,UAAS,qCACPmJ,GAAwBd,EAAQ7L,QADzB,iBAGTyJ,MAAO,CAAE6E,MAAO,SAJlB,OAMOzC,EAAQrM,IACP,IACR,0BAAMgE,UAAU,QACbqI,EAAQmB,YADX,KAC0BnB,EAAQkB,eAQ9C,kBAAChL,EAAA,EAAMgC,OAAP,KACE,6BACE,4BACEpF,KAAK,SACLqF,QAAShB,EACTQ,UAAU,6BAHZ,UAOA,yCACA,4BACE7E,KAAK,SACLqF,QAAShB,EACTQ,UAAU,+BAHZ,SChFV,IAAM2K,GAAmB,SAACrQ,EAAU+B,GAClC,IAAMuO,EAAY,GAOlB,OANAvO,EAAIuH,SAAQ,SAAC5H,GACX,IAAMqM,EAAU/N,EAASuJ,MAAK,SAAC1H,GAAD,OAAQA,EAAGH,KAAOA,KAC5CqM,GACFuC,EAAUjP,KAAK0M,MAGZuC,GAGF,SAASG,GAAT,GAAuD,IAAjB/H,EAAgB,EAAhBA,KAAMxD,EAAU,EAAVA,OAE3C+K,EAAoBV,KACpBW,EAAkBrH,mBAAQ,WAC9B,MAAO,CACL9G,IAAKkO,EAAkBlO,IACvB0F,OAAQwI,EAAkBxI,OAC1BpF,YAAa4N,EAAkB5N,eAEhC,CAAC4N,IATuD,EAY3B3Q,aAC9B,SAACC,GAAD,MAAY,CACViO,SAAU6C,GAAiB9Q,EAAMiO,SAASxN,SAAUkQ,EAAgBnO,KACpE1C,UAAWE,EAAMiO,SAAS1N,kBAE5BJ,KALM8N,EAZmD,EAYnDA,SAAUnO,EAZyC,EAYzCA,UASlBM,qBAAU,YACJuQ,EAAgBnO,KAAsC,IAA/BmO,EAAgBnO,IAAIoH,SAC7CjE,MAGD,CAACgL,EAAgBnO,MA1BuC,MA4B/B4B,mBAAS,GA5BsB,mBA4BpDzB,EA5BoD,KA4B5CyH,EA5B4C,KA8BrDrH,EAAWwG,cAkBjB,OACE,kBAAC7E,EAAA,EAAD,CACEyE,KAAMA,EACNxD,OAAQA,EACR8D,kBAAgB,gCAEhB,kBAAC/E,EAAA,EAAMC,OAAP,CAAcC,aAAW,GACvB,kBAACF,EAAA,EAAMG,MAAP,CAAa1C,GAAG,gCAAhB,kDAIF,kBAACuC,EAAA,EAAMwB,KAAP,CAAYC,UAAU,wCACnBrG,GACC,yBAAKqG,UAAU,gCACb,yBAAKA,UAAU,wCAGnB,yBAAKA,UAAU,qDACb,yBAAKA,UAAU,uBACZ8H,EAAShM,KAAI,SAACuM,GAAD,OACZ,yBAAKrI,UAAU,0BAA0B+D,IAAKsE,EAAQrM,IACpD,0BAAMgE,UAAU,sBACd,0BACEA,UAAS,qCACPmJ,GAAwBd,EAAQ7L,QADzB,iBAGTyJ,MAAO,CAAE6E,MAAO,SAJlB,OAMOzC,EAAQrM,IACP,IACR,0BAAMgE,UAAU,QACbqI,EAAQmB,YADX,KAC0BnB,EAAQkB,eAQ9C,kBAAChL,EAAA,EAAMgC,OAAP,CAAcP,UAAU,QACtB,yBAAKA,UAAU,cACb,4BACEA,UAAS,uBAAkBmJ,GAAwB3M,IACnD8D,MAAO9D,EACP0H,SAAU,SAACC,GAAD,OAAOF,GAAWE,EAAEC,OAAO9D,SAErC,4BAAQA,MAAM,KAAd,WACA,4BAAQA,MAAM,KAAd,UAGJ,yBAAKN,UAAU,cACb,4BACE7E,KAAK,SACLqF,QAAShB,EACTQ,UAAU,6BAHZ,UAOA,yCACA,4BACE7E,KAAK,SACLqF,QA9EW,WAEnB5D,EAASjC,GAA6B6P,EAAgBnO,IAAKG,IAASQ,MAClE,WAEEJ,EAASjC,GAAsB6P,EAAgB7N,cAAcK,MAC3D,WAEEwN,EAAgBzI,OAAO,IAEvBvC,WAqEAQ,UAAU,+BAHZ,oBCtGH,SAASgL,GAAT,GAAyC,EAAfjR,YAAgB,IAEzCwQ,EAAoBV,KACpBW,EAAkBrH,mBAAQ,WAC9B,MAAO,CACLnB,eAAgBuI,EAAkBvI,eAClCrF,YAAa4N,EAAkB5N,eAEhC,CAAC4N,IAEEjG,EAAc,SAACzE,GACnB,IAAM0E,EA7BY,SAAC5H,EAAakD,GAAY,IACtCrD,EAAkCqD,EAAlCrD,OAAQyO,EAA0BpL,EAA1BoL,UAAWzG,EAAe3E,EAAf2E,WACrBD,EAAc,eAAQ5H,GACtBT,EAAS,GAYf,OAVAA,EAAOM,OAAoB,KAAXA,GAAiBA,OAAShC,EAE1C0B,EAAO+O,UAA0B,KAAdA,GAAoBA,OAAYzQ,EAEnD0B,EAAOqN,MAAQ/E,EACXA,IACFtI,EAAOsN,YAAchF,EACrBtI,EAAOuN,QAAUjF,GAEnBD,EAAerI,OAASA,EACjBqI,EAckBE,CAAc+F,EAAgB7N,YAAakD,GAC7DwC,kBAAQkC,EAAgBiG,EAAgB7N,eAC3C4H,EAAenD,WAAa,EAC5BoJ,EAAgBxI,eAAeuC,KAInC,OACE,oCACE,kBAAC,IAAD,CACE7E,cAAe,CACblD,OAAQ,GACRyO,UAAW,GACXzG,WAAY,IAEd5E,SAAU,SAACC,GACTyE,EAAYzE,MAGb,gBACCA,EADD,EACCA,OACAC,EAFD,EAECA,aACA4E,EAHD,EAGCA,WAEAC,GALD,EAICC,aAJD,EAKCD,eALD,OAOC,0BAAM/E,SAAUE,EAAcE,UAAU,yBACtC,yBAAKA,UAAU,kBACb,yBAAKA,UAAU,YACb,4BACEA,UAAU,eACVnF,KAAK,SACLsF,YAAY,mBACZ+D,SAAU,SAACC,GACTQ,EAAc,SAAUR,EAAEC,OAAO9D,OACjCR,KAEF+E,OAAQH,EACRpE,MAAOT,EAAOrD,QAEd,4BAAQ8D,MAAM,IAAd,OACA,4BAAQA,MAAM,KAAd,WACA,4BAAQA,MAAM,KAAd,SAEF,2BAAON,UAAU,wBACf,qCADF,eAIF,yBAAKA,UAAU,YACb,4BACEA,UAAU,eACVG,YAAY,iBACZtF,KAAK,YACLgK,OAAQH,EACRR,SAAU,SAACC,GACTQ,EAAc,YAAaR,EAAEC,OAAO9D,OACpCR,KAEFQ,MAAOT,EAAOoL,WAEd,4BAAQ3K,MAAM,IAAd,OACA,4BAAQA,MAAM,KAAd,OACA,4BAAQA,MAAM,KAAd,SAEF,2BAAON,UAAU,wBACf,qCADF,kBAIF,yBAAKA,UAAU,YACb,2BACE7E,KAAK,OACL6E,UAAU,eACVnF,KAAK,aACLsF,YAAY,SACZ0E,OAAQH,EACRpE,MAAOT,EAAO2E,WACdN,SAAU,SAACC,GACTQ,EAAc,aAAcR,EAAEC,OAAO9D,OACrCR,OAGJ,2BAAOE,UAAU,wBACf,qCADF,yBC7GT,IAAM8E,GAAwB,SAACC,EAAaC,GAAd,OACnC,0BACEhF,UAAS,qCACPmJ,GAAwBnE,EAAIxI,QADrB,kBAIR4M,GAAoBpE,EAAIxI,UCNhB0O,GAA2B,SAACnG,EAAaC,GAAd,OACtC,oCACE,0BACEhF,UAAS,sBACPqJ,GAA2BrE,EAAIiG,WADxB,gBAFb,OAOE,0BACEjL,UAAS,yBACPqJ,GAA2BrE,EAAIiG,aAGhC3B,GAAuBtE,EAAIiG,cCjBrBE,GAAuB,SAACpG,EAAaC,GAAd,OAClC,0BAAMiB,MAAO,CAAEmF,MAAOpG,EAAIoG,QAAUpG,EAAIoG,QCA7BC,I,QAAuB,SAACtG,EAAaC,GAAd,OAAsB,qCACnCsG,EADoDtG,EAAIsG,MAKrD,IAAIC,KAAKC,aAAa,QAAS,CACjDvF,MAAO,WACPwF,SAAU,MACVC,sBAAuB,IAGJC,OAAOL,GAAOM,QARf,SAQwC,MAVlE,IAAuBN,I,0BCEVpG,GAAyB,SACpCH,EACAC,EACAG,EAHoC,OAIlC8E,EAJkC,EAIlCA,oBAAqBC,EAJa,EAIbA,wBAJa,OAMpC,oCACE,kBAAC2B,GAAA,EAAD,CACEC,QAAS,kBAACC,GAAA,EAAD,CAAS/P,GAAG,yBAAZ,iBAET,uBACEgE,UAAU,uDACVQ,QAAS,kBAAMyJ,EAAoBjF,EAAIhJ,MAEvC,0BAAMgE,UAAU,yCACd,kBAAC,KAAD,CACEoF,IAAKC,aAAc,iDAM3B,yCACA,kBAACwG,GAAA,EAAD,CACEC,QAAS,kBAACC,GAAA,EAAD,CAAS/P,GAAG,2BAAZ,mBAET,uBACEgE,UAAU,iDACVQ,QAAS,kBAAM0J,EAAwBlF,EAAIhJ,MAE3C,0BAAMgE,UAAU,wCACd,kBAAC,KAAD,CAAKoF,IAAKC,aAAc,6CCf3B,SAAS2G,KAEd,IAAMzB,EAAoBV,KACpBW,EAAkBrH,mBAAQ,WAC9B,MAAO,CACL9G,IAAKkO,EAAkBlO,IACvB0F,OAAQwI,EAAkBxI,OAC1BpF,YAAa4N,EAAkB5N,YAC/BqF,eAAgBuI,EAAkBvI,eAClCiI,oBAAqBM,EAAkBN,oBACvCC,wBAAyBK,EAAkBL,2BAE5C,CAACK,IAGIhF,EAAiB3L,aACvB,SAACC,GAAD,MAAY,CAAE0L,aAAc1L,EAAMiO,YAClC9N,KAFMuL,aAIAlL,EAAsCkL,EAAtClL,WAAYC,EAA0BiL,EAA1BjL,SAAUP,EAAgBwL,EAAhBxL,YAExB6C,EAAWwG,cACjBnJ,qBAAU,WAERuQ,EAAgBzI,OAAO,IAEvBnF,EAASjC,GAAsB6P,EAAgB7N,gBAE9C,CAAC6N,EAAgB7N,YAAaC,IAEjC,IAAM4I,EAAU,CACd,CACE1E,UAAW,UACX5G,KAAM,gBACNuL,MAAM,EACNC,UAAWA,MAEb,CACE5E,UAAW,cACX5G,KAAM,cACNuL,MAAM,EACNC,UAAWA,MAEb,CACE5E,UAAW,QACX5G,KAAM,QACNuL,MAAM,EACNC,UAAWA,MAEb,CACE5E,UAAW,YACX5G,KAAM,aACNuL,MAAM,EACNC,UAAWA,MAEb,CACE5E,UAAW,QACX5G,KAAM,QACNuL,MAAM,EACNC,UAAWA,KACXE,UAAWC,IAEb,CACE/E,UAAW,QACX5G,KAAM,QACNuL,MAAM,EACNC,UAAWA,KACXE,UAAWC,IAEb,CACE/E,UAAW,SACX5G,KAAM,SACNuL,MAAM,EACNC,UAAWA,KACXE,UAAWC,IAEb,CACE/E,UAAW,YACX5G,KAAM,YACNuL,MAAM,EACNC,UAAWA,KACXE,UAAWC,IAEb,CACE/E,UAAW,SACX5G,KAAM,UACN0L,UAAWC,GACXC,gBAAiB,CACfmE,oBAAqBO,EAAgBP,oBACrCC,wBAAyBM,EAAgBN,yBAE3CnE,QAAS,iBACTC,cAAe,kBACfC,MAAO,CACLC,SAAU,WAKVC,EAAoB,CACxBC,QAAQ,EACRC,UAAWhM,EACX2G,gBAAiBsF,GACjBC,YAAaiE,EAAgB7N,YAAY0E,SACzCmF,KAAMgE,EAAgB7N,YAAYyE,YAEpC,OACE,oCACE,kBAAC,qBAAD,CAAoBqF,WAAYC,IAAkBP,KAC/C,YAAgD,IAA7CQ,EAA4C,EAA5CA,gBAAiBC,EAA2B,EAA3BA,qBACnB,OACE,kBAAC,IAAD,CACEjN,UAAWI,EACX4M,gBAAiBA,GAEjB,kBAAC,IAAD,eACEE,eAAe,mBACfd,QAAQ,gEACRgB,YAAU,EACVD,UAAU,EACVE,QAAM,EACNC,SAAS,KACT/J,KAAmB,OAAb5C,EAAoB,GAAKA,EAC/BkL,QAASA,EACT3E,cAAeyF,GACfY,cAAeC,aACbqD,EAAgBxI,gBAElBoF,UAAWC,aAAa,CACtB/M,WACA+B,IAAKmO,EAAgBnO,IACrB0F,OAAQyI,EAAgBzI,UAEtB6E,GAEJ,kBAAC,KAAD,CAAmBtM,SAAUA,IAC7B,kBAAC,KAAD,CAAuBA,SAAUA,UC3J1C,SAAS2R,KAEd,IAAM1B,EAAoBV,KACpBW,EAAkBrH,mBAAQ,WAC9B,MAAO,CACL9G,IAAKkO,EAAkBlO,IACvB0F,OAAQwI,EAAkBxI,OAC1BoI,yBAA0BI,EAAkBJ,yBAC5CC,wBAAyBG,EAAkBH,wBAC3CC,+BACEE,EAAkBF,kCAErB,CAACE,IAEJ,OACE,yBAAKvK,UAAU,QACb,yBAAKA,UAAU,4EACb,yBAAKA,UAAU,aACb,yBAAKA,UAAU,gCACb,yBAAKA,UAAU,iCACb,2BAAOA,UAAU,2BACf,yDAC0B,2BAAIwK,EAAgBnO,IAAIoH,WAItD,6BACE,4BACEtI,KAAK,SACL6E,UAAU,iDACVQ,QAASgK,EAAgBL,0BAEzB,uBAAGnK,UAAU,gBALf,eADF,OASE,4BACE7E,KAAK,SACL6E,UAAU,wDACVQ,QAASgK,EAAgBJ,yBAEzB,uBAAGpK,UAAU,iBALf,mBATF,OAiBE,4BACE7E,KAAK,SACL6E,UAAU,wDACVQ,QAASgK,EAAgBH,gCAEzB,uBAAGrK,UAAU,mBALf,uBClCP,SAASkM,KACd,IAAM3B,EAAoBV,KACpBW,EAAkBrH,mBAAQ,WAC9B,MAAO,CACL9G,IAAKkO,EAAkBlO,IACvBM,YAAa4N,EAAkB5N,YAC/BqF,eAAgBuI,EAAkBvI,eAClCgI,sBAAuBO,EAAkBP,sBACzCG,yBAA0BI,EAAkBJ,yBAC5CF,oBAAqBM,EAAkBN,oBACvCI,+BACEE,EAAkBF,+BACpBD,wBAAyBG,EAAkBH,2BAE5C,CAACG,IAEJ,OACE,kBAAC,IAAD,KACE,kBAAC,IAAD,CAAYrM,MAAM,iBAChB,kBAAC,IAAD,KACE,4BACE/C,KAAK,SACL6E,UAAU,kBACVQ,QAASgK,EAAgBR,uBAH3B,iBASJ,kBAAC,IAAD,KACE,kBAACgB,GAAD,MACCR,EAAgBnO,IAAIoH,OAAS,GAC5B,oCACE,kBAACwI,GAAD,OAGJ,kBAACD,GAAD,QCtCD,SAASG,GAAT,GAAoC,IAAZ1E,EAAW,EAAXA,QACvBsC,EAAmB,CACvBC,sBAAuB,WACrBvC,EAAQ9L,KAAK,6BAEfsO,oBAAqB,SAACjO,GACpByL,EAAQ9L,KAAR,+BAAqCK,EAArC,WAEFkO,wBAAyB,SAAClO,GACxByL,EAAQ9L,KAAR,+BAAqCK,EAArC,aAEFmO,yBAA0B,WACxB1C,EAAQ9L,KAAR,wCAEFyO,wBAAyB,WACvB3C,EAAQ9L,KAAR,+BAEF0O,+BAAgC,WAC9B5C,EAAQ9L,KAAK,uCAIjB,OACE,kBAACmO,GAAD,CAAoBC,iBAAkBA,GACpC,kBAAClC,GAAD,MACA,kBAAC,IAAD,CAAOH,KAAK,wCACT,gBAAGD,EAAH,EAAGA,QAASE,EAAZ,EAAYA,MAAZ,OACC,kBAAC+C,GAAD,CACE1H,KAAe,MAAT2E,EACNnI,OAAQ,WACNiI,EAAQ9L,KAAK,8BAKrB,kBAAC,IAAD,CAAO+L,KAAK,oCACT,gBAAGD,EAAH,EAAGA,QAASE,EAAZ,EAAYA,MAAZ,OACC,kBAAC2C,GAAD,CACEtH,KAAe,MAAT2E,EACN3L,GAAI2L,GAASA,EAAMC,OAAO5L,GAC1BwD,OAAQ,WACNiI,EAAQ9L,KAAK,8BAKrB,kBAAC,IAAD,CAAO+L,KAAK,+BACT,gBAAGD,EAAH,EAAGA,QAASE,EAAZ,EAAYA,MAAZ,OACC,kBAACkD,GAAD,CACE7H,KAAe,MAAT2E,EACNnI,OAAQ,WACNiI,EAAQ9L,KAAK,8BAKrB,kBAAC,IAAD,CAAO+L,KAAK,sCACT,gBAAGD,EAAH,EAAGA,QAASE,EAAZ,EAAYA,MAAZ,OACC,kBAACoD,GAAD,CACE/H,KAAe,MAAT2E,EACNnI,OAAQ,WACNiI,EAAQ9L,KAAK,8BAKrB,kBAACuQ,GAAD,OC5DN,IAAME,GAAoBxN,MAAaC,MAAM,CAC3C0K,MAAO3K,MACJE,IAAI,EAAG,qBACPC,IAAI,GAAI,sBACRC,SAAS,qBACZwK,YAAa5K,MACVE,IAAI,EAAG,qBACPC,IAAI,GAAI,sBACRC,SAAS,2BACZqN,UAAWzN,MACRE,IAAI,KAAM,mBACVC,IAAI,KAAM,mBACVC,SAAS,0BACZsN,QAAS1N,MACNE,IAAI,EAAG,gBACPC,IAAI,IAAS,sBACbC,SAAS,uBACZoM,MAAOxM,MAAaI,SAAS,qBAC7BsM,MAAO1M,MACJE,IAAI,EAAG,iBACPC,IAAI,IAAS,uBACbC,SAAS,qBACZyK,QAAS7K,MAAaI,SAAS,yBAG1B,SAASuN,GAAT,GAIH,IAHFlE,EAGC,EAHDA,QACAmE,EAEC,EAFDA,OACAC,EACC,EADDA,YAEA,OACE,oCACE,kBAAC,IAAD,CACEhN,oBAAoB,EACpBC,cAAe2I,EACf1I,iBAAkByM,GAClBxM,SAAU,SAACC,GACT4M,EAAY5M,MAGb,gBAAGC,EAAH,EAAGA,aAAH,OACC,oCACE,kBAAC,IAAD,CAAME,UAAU,yBACd,yBAAKA,UAAU,kBACb,yBAAKA,UAAU,YACb,kBAAC,IAAD,CACEnF,KAAK,QACLoF,UAAWC,IACXC,YAAY,QACZC,MAAM,WAGV,yBAAKJ,UAAU,YACb,kBAAC,IAAD,CAAQnF,KAAK,cAAcuF,MAAM,eAC9BuJ,GAAuB7N,KAAI,SAAC0N,GAAD,OAC1B,4BAAQzF,IAAKyF,EAAalJ,MAAOkJ,GAC9BA,QAKT,yBAAKxJ,UAAU,YACb,kBAAC,IAAD,CACE7E,KAAK,SACLN,KAAK,YACLoF,UAAWC,IACXC,YAAY,aACZC,MAAM,iBAIZ,yBAAKJ,UAAU,kBACb,yBAAKA,UAAU,YACb,kBAAC,IAAD,CACE7E,KAAK,SACLN,KAAK,UACLoF,UAAWC,IACXC,YAAY,UACZC,MAAM,aAGV,yBAAKJ,UAAU,YACb,kBAAC,IAAD,CAAQnF,KAAK,QAAQuF,MAAM,QAASpE,GAAG,QAAUb,KAAK,UACtD,4BAAQmF,MAAM,GAAGF,MAAM,mBACpBsJ,GAAiB5N,KAAI,SAACsP,GAAD,OACpB,4BAAQrH,IAAKqH,EAAO9K,MAAO8K,GACxBA,QAKT,yBAAKpL,UAAU,YACb,kBAAC,IAAD,CACE7E,KAAK,SACLN,KAAK,QACLoF,UAAWC,IACXC,YAAY,QACZC,MAAM,YACNC,oBAAoB,yBAI1B,yBAAKL,UAAU,kBACb,yBAAKA,UAAU,YACb,kBAAC,IAAD,CACEnF,KAAK,UACLoF,UAAWC,IACXC,YAAY,WACZC,MAAM,cAGV,yBAAKJ,UAAU,YACb,kBAAC,IAAD,CAAQnF,KAAK,SAASuF,MAAM,UACzBgJ,GAAoBtN,KAAI,SAACU,EAAQkQ,GAAT,OACvB,4BAAQ3I,IAAKvH,EAAQ8D,MAAOoM,GACzBlQ,QAKT,yBAAKwD,UAAU,YACb,kBAAC,IAAD,CAAQnF,KAAK,YAAYuF,MAAM,aAC5BkJ,GAAuBxN,KAAI,SAACmP,EAAWyB,GAAZ,OAC1B,4BAAQ3I,IAAKkH,EAAW3K,MAAOoM,GAC5BzB,SAMX,yBAAKjL,UAAU,cACb,8CACA,kBAAC,IAAD,CACEnF,KAAK,cACL8R,GAAG,WACH3M,UAAU,kBAGd,4BACE7E,KAAK,SACL8K,MAAO,CAAE2G,QAAS,QAClBC,IAAKL,EACL5M,SAAU,kBAAME,aC9JzB,IAAMe,GAAgB,CAAC,CAAEC,UAAW,KAAMC,MAAO,QAC3CC,GAAkB,CAC7B,CAAE9G,KAAM,IAAKoG,MAAO,GACpB,CAAEpG,KAAM,IAAKoG,MAAO,GACpB,CAAEpG,KAAM,IAAKoG,MAAO,IAETW,GAAgB,CAC3B/E,OAAQ,CACNoE,MAAO,IAETY,UAAW,MACXC,UAAW,OACXC,WAAY,EACZC,SAAU,GAGCyL,GAA4B,CACvC,CAAE9Q,GAAI,EAAGnB,KAAM,SACf,CAAEmB,GAAI,EAAGnB,KAAM,aACf,CAAEmB,GAAI,EAAGnB,KAAM,SACf,CAAEmB,GAAI,EAAGnB,KAAM,cACf,CAAEmB,GAAI,EAAGnB,KAAM,UACf,CAAEmB,GAAI,EAAGnB,KAAM,gBACf,CAAEmB,GAAI,EAAGnB,KAAM,cACf,CAAEmB,GAAI,EAAGnB,KAAM,gBACf,CAAEmB,GAAI,EAAGnB,KAAM,YACf,CAAEmB,GAAI,EAAGnB,KAAM,WCfXkS,GAA0BxL,0BAEzB,SAASyL,KACd,OAAOvL,qBAAWsL,IAGoBA,GAAwBrL,SAEzD,SAASuL,GAAT,GAAmE,IAA/BC,EAA8B,EAA9BA,iBAAkBrL,EAAY,EAAZA,SAAY,EACrC5D,mBAASiP,GAD4B,mBAChE9E,EADgE,KACrD+E,EADqD,OAE7BlP,mBAASgD,IAFoB,mBAEhEtE,EAFgE,KAEnDmF,EAFmD,OAGjD7D,mBAAS,IAHwC,mBAGhE5B,EAHgE,KAG3D0F,EAH2D,KAIjEC,EAAiBC,uBAAY,SAACC,GAClCJ,GAAmB,SAACK,GAKlB,OAJIC,qBAAWF,KACbA,EAAkBA,EAAgBC,IAGhCE,kBAAQF,EAAiBD,GACpBC,EAGFD,OAER,IAhBoE,EAiBnCjE,mBAAS,MAjB0B,mBAiBhEmP,EAjBgE,KAiBpDC,EAjBoD,KAkBjEC,EAAoB,CACxBtR,QAAIxB,EACJ8F,MAAO,GACPiN,OAAQ,EACRC,MAAOpF,GAETnO,qBAAU,WACRqT,EAAkBE,MAAQN,EAC1BI,EAAkBlF,UAAY8E,EAC9BC,EAAaD,KAEZ,CAACA,IA7BmE,MAiCnEjP,oBAAS,GAjC0D,mBA+BrEwP,EA/BqE,KAgCrEC,EAhCqE,OAiDnEzP,oBAAS,GAjD0D,mBA+CrE0P,EA/CqE,KAgDrEC,EAhDqE,OA6DnE3P,oBAAS,GA7D0D,mBA2DrE4P,EA3DqE,KA4DrEC,EA5DqE,OAuEnE7P,oBAAS,GAvE0D,mBAqErE8P,EArEqE,KAsErEC,EAtEqE,KA8EjE1N,EAAQ,CACZjE,MACA0F,SACAqG,YACA+E,eACAxQ,cACAqF,iBACAsL,oBACAF,aACAK,8BACAQ,4BAlDkC,SAACjS,GACnCqR,EAAcrR,GACd0R,GAA+B,IAiD/BQ,2BAvDiC,WACjCb,OAAc7S,GACdkT,GAA+B,IAsD/BS,6BAhDmC,WACnCd,OAAc7S,GACdkT,GAA+B,IA+C/BC,gCACAS,8BA1CoC,SAACpS,GACrCqR,EAAcrR,GACd4R,GAAiC,IAyCjCS,+BAvCqC,WACrChB,OAAc7S,GACdoT,GAAiC,IAsCjCC,iCACAS,+BAjCqC,WACrCR,GAAkC,IAiClCS,gCA/BsC,WACtCT,GAAkC,IA+BlCC,gCACAS,8BA1BoC,WACpCR,GAAiC,IA0BjCS,+BAxBqC,WACrCT,GAAiC,KA0BnC,OACE,kBAACjB,GAAwBjK,SAAzB,CAAkCxC,MAAOA,GACtCuB,GC1GA,SAAS6M,KAEd,IAAMC,EAAiB3B,KACjB4B,EAAezL,mBAAQ,WAC3B,MAAO,CACL+K,2BAA4BS,EAAeT,2BAC3ClM,eAAgB2M,EAAe3M,eAC/BrF,YAAagS,EAAehS,eAE7B,CAACgS,IAEErK,EAAc,SAACzE,GACnB,IAAM0E,EAxBY,SAAC5H,EAAakD,GAAY,IACtC2E,EAAe3E,EAAf2E,WACFD,EAAc,eAAQ5H,GACtBT,EAAS,GAMf,OALAA,EAAOoE,MAAQkE,EACXA,IACFtI,EAAOrB,KAAO2J,GAEhBD,EAAerI,OAASA,EACjBqI,EAekBE,CAAcmK,EAAajS,YAAakD,GAC1DwC,kBAAQkC,EAAgBqK,EAAajS,eACxC4H,EAAenD,WAAa,EAC5BwN,EAAa5M,eAAeuC,KAIhC,OACE,oCACE,yBAAKvE,UAAU,mBACb,yBAAKA,UAAU,0BACb,yBAAKA,UAAU,oCACb,kBAAC,IAAD,CACEN,cAAe,CACb8E,WAAY,IAEd5E,SAAU,SAACC,GACTyE,EAAYzE,MAGb,gBACCA,EADD,EACCA,OACAC,EAFD,EAECA,aACA4E,EAHD,EAGCA,WAEAC,GALD,EAICC,aAJD,EAKCD,eALD,OAOC,0BAAM/E,SAAUE,GACd,6BACE,2BACE3E,KAAK,OACL6E,UAAU,eACVnF,KAAK,aACLsF,YAAY,SACZ0E,OAAQH,EACRpE,MAAOT,EAAO2E,WACdN,SAAU,SAACC,GACTQ,EAAc,aAAcR,EAAEC,OAAO9D,OACrCR,OAGJ,2BAAOE,UAAU,wBACf,qCADF,wBAQV,yBAAKA,UAAU,qCACf,yBAAKA,UAAU,+CACb,4BACE7E,KAAK,SACL6E,UAAU,kBACVQ,QAAS,kBAAMoO,EAAaV,+BAH9B,gC,cC7ELvT,GAAWkU,KAAXlU,QAEMmU,GAAsB,SAACnS,EAAayL,GAAd,OAA4B,SAAAxL,GAE7D,OADAA,EAASjC,GAAQW,UAAU,CAAED,SAAUX,KAAUuN,QAC5CG,ECcA,SAA4BzL,EAAayL,GAC9C,OAAOvL,IAAMC,KAAN,UApByB,iBAoBzB,gBAAwCsL,GAAa,CAAEzL,gBDTvDI,CACeJ,EAAayL,GAChCpL,MAAK,SAAAC,GAAa,IAAD,EACiBA,EAASC,KAAlC7C,EADQ,EACRA,WAAYC,EADJ,EACIA,SACpBsC,EAASjC,GAAQoU,sBAAsB,CAAE1U,aAAYC,iBAEtD6C,OAAM,SAAAjC,GACLA,EAAMkC,cAAgB,4BACtBR,EAASjC,GAAQK,WAAW,CAAEE,QAAOG,SAAUX,KAAUuN,WAbpDrL,EACLjC,GAAQoU,sBAAsB,CAAE1U,WAAY,EAAGC,SAAU,UAgBlD0U,GAAqB,SAAAhT,GAAE,OAAI,SAAAY,GACtC,OAAKZ,GAMLY,EAASjC,GAAQW,UAAU,CAAED,SAAUX,KAAUO,WCjBdgU,EDmBXjT,EClBjBa,IAAMU,IAAN,UAdyB,iBAczB,YAAmC0R,KDmBvCjS,MAAK,SAAAC,GACJ,IAAMiS,EAAgBjS,EAASC,KAC/BN,EACEjC,GAAQwU,qBAAqB,CAAEC,qBAAsBF,QAGxD/R,OAAM,SAAAjC,GACLA,EAAMkC,cAAgB,2BACtBR,EAASjC,GAAQK,WAAW,CAAEE,QAAOG,SAAUX,KAAUO,cAhBpD2B,EACLjC,GAAQwU,qBAAqB,CAAEC,0BAAsB5U,KCbpD,IAA8ByU,IDgCxBI,GAAsB,SAAArT,GAAE,OAAI,SAAAY,GAEvC,OADAA,EAASjC,GAAQW,UAAU,CAAED,SAAUX,KAAUO,WCffgU,EDiBXjT,EChBhBa,IAAMY,OAAN,UAhCyB,iBAgCzB,YAAsCwR,KDiB1CjS,MAAK,SAAAC,GACJL,EAASjC,GAAQ2U,qBAAqB,CAAEtT,WAEzCmB,OAAM,SAAAjC,GACLA,EAAMkC,cAAgB,6BACtBR,EAASjC,GAAQK,WAAW,CAAEE,QAAOG,SAAUX,KAAUO,aCvBxD,IAA6BgU,ID2BvBM,GAAsB,SAAAC,GAAwB,OAAI,SAAA5S,GAE7D,OADAA,EAASjC,GAAQW,UAAU,CAAED,SAAUX,KAAUO,WCxDfiU,ED0DXM,ECzDhB3S,IAAMC,KAJmB,iBAIM,CAAEoS,mBD0DrClS,MAAK,SAAAC,GAAa,IACTiS,EAAkBjS,EAASC,KAA3BgS,cACRtS,EAASjC,GAAQ8U,qBAAqB,CAAEP,sBAEzC/R,OAAM,SAAAjC,GACLA,EAAMkC,cAAgB,6BACtBR,EAASjC,GAAQK,WAAW,CAAEE,QAAOG,SAAUX,KAAUO,aCjExD,IAA6BiU,IDqEvBQ,GAAsB,SAAAR,GAAa,OAAI,SAAAtS,GAElD,OADAA,EAASjC,GAAQW,UAAU,CAAED,SAAUX,KAAUO,UCjD5C,SAA6BiU,GAClC,OAAOrS,IAAMgB,IAAN,UAzByB,iBAyBzB,YAAmCqR,EAAclT,IAAM,CAC5DkT,kBDgDKnS,CACgBmS,GACpBlS,MAAK,WACJJ,EAASjC,GAAQgV,qBAAqB,CAAET,sBAEzC/R,OAAM,SAAAjC,GACLA,EAAMkC,cAAgB,6BACtBR,EAASjC,GAAQK,WAAW,CAAEE,QAAOG,SAAUX,KAAUO,eAIlD2U,GAAuB,SAAAvT,GAAG,OAAI,SAAAO,GAEzC,OADAA,EAASjC,GAAQW,UAAU,CAAED,SAAUX,KAAUO,UClD5C,SAA8BoB,GACnC,OAAOQ,IAAMC,KAAN,UArCyB,iBAqCzB,yBAAyD,CAAET,QDkD3DU,CACiBV,GACrBW,MAAK,WACJJ,EAASjC,GAAQkV,sBAAsB,CAAExT,YAE1Cc,OAAM,SAAAjC,GACLA,EAAMkC,cAAgB,8BACtBR,EAASjC,GAAQK,WAAW,CAAEE,QAAOG,SAAUX,KAAUO,eE1FxD,SAASiK,GACdH,EACAC,EACAG,EAHK,GAKJ,IADC8I,EACF,EADEA,4BAA6BG,EAC/B,EAD+BA,8BAE/B,OACE,oCACE,kBAACvC,GAAA,EAAD,CACEC,QAAS,kBAACC,GAAA,EAAD,CAAS/P,GAAG,sBAAZ,uBAET,uBACEgE,UAAU,uDACVQ,QAAS,kBAAMyN,EAA4BjJ,EAAIhJ,MAE/C,0BAAMgE,UAAU,yCACd,kBAAC,KAAD,CACEoF,IAAKC,aAAc,iDAM3B,yCACA,kBAACwG,GAAA,EAAD,CACEC,QACE,kBAACC,GAAA,EAAD,CAAS/P,GAAG,uBAAZ,yBAGF,uBACEgE,UAAU,iDACVQ,QAAS,kBAAM4N,EAA8BpJ,EAAIhJ,MAEjD,0BAAMgE,UAAU,wCACd,kBAAC,KAAD,CAAKoF,IAAKC,aAAc,4CClB7B,SAASyK,KAEd,IAAMnB,EAAiB3B,KACjB4B,EAAezL,mBAAQ,WAC3B,MAAO,CACLxG,YAAagS,EAAehS,YAC5BqF,eAAgB2M,EAAe3M,eAC/BiM,4BAA6BU,EAAeV,4BAC5CG,8BACEO,EAAeP,8BACjB/R,IAAKsS,EAAetS,IACpB0F,OAAQ4M,EAAe5M,OACvBqG,UAAWuG,EAAevG,aAE3B,CAACuG,IAIIpJ,EAAiB3L,aACvB,SAACC,GAAD,MAAY,CAAE0L,aAAc1L,EAAMkW,kBAClC/V,KAFMuL,aAIAlL,EAAsCkL,EAAtClL,WAAYC,EAA0BiL,EAA1BjL,SAAUP,EAAgBwL,EAAhBxL,YACxB6C,EAAWwG,cACjBnJ,qBAAU,WACR2U,EAAa7M,OAAO,IACpBnF,EACEjC,GAA4BiU,EAAajS,YAAYiS,EAAaxG,cAGnE,CAACwG,EAAajS,YAAaC,EAAUgS,EAAaxG,YAErD,IAAM5C,EAAU,CACd,CACE1E,UAAW,OACX5G,KAAM,qBACNuL,MAAM,EACNC,UAAWA,MAEb,CACE5E,UAAW,QACX5G,KAAM,QACNuL,MAAM,EACNC,UAAWA,MAEb,CACE5E,UAAW,SACX5G,KAAM,UACN0L,UAAWV,GACXY,gBAAiB,CACfmI,4BAA6BW,EAAaX,4BAC1CG,8BACEQ,EAAaR,+BAEjBrI,QAAS,iBACTC,cAAe,kBACfC,MAAO,CACLC,SAAU,WAKVC,EAAoB,CACxBC,QAAQ,EACRC,UAAWhM,EACX2G,gBAAiBsF,GACjBC,YAAaqI,EAAajS,YAAY0E,SACtCmF,KAAMoI,EAAajS,YAAYyE,YAEjC,OACE,oCACE,kBAAC,qBAAD,CAAoBqF,WAAYC,IAAkBP,KAC/C,YAAgD,IAA7CQ,EAA4C,EAA5CA,gBAAiBC,EAA2B,EAA3BA,qBACnB,OACE,kBAAC,IAAD,CACEjN,UAAWI,EACX4M,gBAAiBA,GAEjB,kBAAC,IAAD,eACEE,eAAe,mBACfd,QAAQ,gEACRe,UAAU,EACVC,YAAU,EACVC,QAAM,EACNC,SAAS,KACT/J,KAAmB,OAAb5C,EAAoB,GAAKA,EAC/BkL,QAASA,EACT3E,cAAeyF,GACfY,cAAeC,aACbyH,EAAa5M,gBAEfoF,UAAWC,aAAa,CACtB/M,WACA+B,IAAKuS,EAAavS,IAClB0F,OAAQ6M,EAAa7M,UAEnB6E,GAEJ,kBAAC,KAAD,CAAmBtM,SAAUA,IAC7B,kBAAC,KAAD,CAAuBA,SAAUA,UCrH1C,SAAS0V,KAA+B,IACrCrW,EAAcC,aACpB,SAACC,GAAD,MAAY,CAAEF,UAAWE,EAAMkW,eAAehW,eAC9CC,KAFML,UAKR,OADAM,qBAAU,cAAU,CAACN,IACd,kBAAC,IAAD,CAAeA,UAAWA,EAAWO,KAAK,gBCF5C,SAAS+V,KAEd,IAAMtB,EAAiB3B,KACjB4B,EAAezL,mBAAQ,WAC3B,MAAO,CACLiF,UAAWuG,EAAevG,UAC1B/L,IAAKsS,EAAetS,IACpB2G,KAAM2L,EAAed,+BACrBrO,OAAQmP,EAAeJ,gCACvBxM,OAAQ4M,EAAe5M,OACvBpF,YAAagS,EAAehS,eAE7B,CAACgS,IAGE/R,EAAWwG,cACTzJ,EAAcC,aACpB,SAACC,GAAD,MAAY,CAAEF,UAAWE,EAAMkW,eAAe3V,kBAC9CJ,KAFML,UAMRM,qBAAU,cAAU,CAACN,EAAWiD,IAGhC3C,qBAAU,WACH2U,EAAavS,KAAmC,IAA5BuS,EAAavS,IAAIoH,QACxCmL,EAAapP,WAGd,CAACoP,EAAavS,MAkBjB,OACE,kBAACkC,EAAA,EAAD,CACEyE,KAAM4L,EAAa5L,KACnBxD,OAAQoP,EAAapP,OACrB8D,kBAAgB,gCAEf3J,GAAa,kBAAC,IAAD,CAAkB8Q,QAAQ,UACxC,kBAAClM,EAAA,EAAMC,OAAP,CAAcC,aAAW,GACvB,kBAACF,EAAA,EAAMG,MAAP,CAAa1C,GAAG,gCAAhB,0BAIF,kBAACuC,EAAA,EAAMwB,KAAP,MACIpG,GACA,6FAIDA,GAAa,iEAEhB,kBAAC4E,EAAA,EAAMgC,OAAP,KACE,6BACE,4BACEpF,KAAK,SACLqF,QAASoO,EAAapP,OACtBQ,UAAU,6BAHZ,UAOA,yCACA,4BACE7E,KAAK,SACLqF,QAhDmB,WAE3B5D,EAASjC,GAA6BiU,EAAavS,MAAMW,MAAK,WAE5DJ,EACEjC,GACEiU,EAAajS,YACbiS,EAAaxG,YAEfpL,MAAK,WACL4R,EAAa7M,OAAO,IACpB6M,EAAapP,gBAsCTQ,UAAU,+BAHZ,aC9EH,SAASkQ,KAEd,IAAMvB,EAAiB3B,KACjB4B,EAAezL,mBAAQ,WAC3B,MAAO,CACLnH,GAAI2S,EAAevB,WACnBhF,UAAWuG,EAAevG,UAC1BpF,KAAM2L,EAAehB,8BACrBnO,OAAQmP,EAAeN,+BACvB1R,YAAagS,EAAehS,YAC5BoF,OAAQ4M,EAAe5M,UAExB,CAAC4M,IAGE/R,EAAWwG,cACTzJ,EAAcC,aACpB,SAACC,GAAD,MAAY,CAAEF,UAAWE,EAAMkW,eAAe3V,kBAC9CJ,KAFML,UAMRM,qBAAU,WACH2U,EAAa5S,IAChB4S,EAAapP,WAGd,CAACoP,EAAa5S,KAGjB/B,qBAAU,cAAU,CAACN,EAAWiD,IAiBhC,OACE,kBAAC2B,EAAA,EAAD,CACEyE,KAAM4L,EAAa5L,KACnBxD,OAAQoP,EAAapP,OACrB8D,kBAAgB,gCAEf3J,GAAa,kBAAC,IAAD,CAAkB8Q,QAAQ,UACxC,kBAAClM,EAAA,EAAMC,OAAP,CAAcC,aAAW,GACvB,kBAACF,EAAA,EAAMG,MAAP,CAAa1C,GAAG,gCAAhB,yBAIF,kBAACuC,EAAA,EAAMwB,KAAP,MACIpG,GACA,wFAEDA,GAAa,+DAEhB,kBAAC4E,EAAA,EAAMgC,OAAP,KACE,6BACE,4BACEpF,KAAK,SACLqF,QAASoO,EAAapP,OACtBQ,UAAU,6BAHZ,UAOA,yCACA,4BACE7E,KAAK,SACLqF,QA7CkB,WAE1B5D,EAASjC,GAA4BiU,EAAa5S,KAAKgB,MAAK,WAE1DJ,EACEjC,GACEiU,EAAajS,YACbiS,EAAaxG,YAGjBwG,EAAa7M,OAAO,IACpB6M,EAAapP,aAmCPQ,UAAU,+BAHZ,aC9EV,IAAMmQ,GAAyB,SAAC7V,EAAU+B,GACxC,IAAM+T,EAAkB,GAOxB,OANA/T,EAAIuH,SAAQ,SAAC5H,GACX,IAAMkT,EAAgB5U,EAASuJ,MAAK,SAAC1H,GAAD,OAAQA,EAAGH,KAAOA,KAClDkT,GACFkB,EAAgBzU,KAAKuT,MAGlBkB,GAGF,SAASC,KAEd,IAAM1B,EAAiB3B,KACjB4B,EAAezL,mBAAQ,WAC3B,MAAO,CACL9G,IAAKsS,EAAetS,IACpB2G,KAAM2L,EAAeZ,8BACrBvO,OAAQmP,EAAeF,+BACvB9R,YAAagS,EAAehS,eAE7B,CAACgS,IAGIoB,EAAmBnW,aACzB,SAACC,GAAD,MAAY,CACVkW,eAAgBI,GACdtW,EAAMkW,eAAezV,SACrBsU,EAAavS,QAGjBrC,KAPM+V,eAiBR,OAPA9V,qBAAU,WACH2U,EAAavS,KAAmC,IAA5BuS,EAAavS,IAAIoH,QACxCmL,EAAapP,WAGd,CAACoP,EAAavS,MAGf,kBAACkC,EAAA,EAAD,CACEyE,KAAM4L,EAAa5L,KACnBxD,OAAQoP,EAAapP,OACrB8D,kBAAgB,gCAEhB,kBAAC/E,EAAA,EAAMC,OAAP,CAAcC,aAAW,GACvB,kBAACF,EAAA,EAAMG,MAAP,CAAa1C,GAAG,gCAAhB,4BAIF,kBAACuC,EAAA,EAAMwB,KAAP,KACE,yBAAKC,UAAU,qDACb,yBAAKA,UAAU,uBACZ+P,EAAejU,KAAI,SAACoT,GAAD,OAClB,yBAAKlP,UAAU,0BAA0B+D,IAAKmL,EAAclT,IAC1D,0BAAMgE,UAAU,sBACd,0BACEA,UAAU,kDACViG,MAAO,CAAE6E,MAAO,SAFlB,OAIOoE,EAAclT,IACb,IACR,0BAAMgE,UAAU,QACbkP,EAAcrU,KADjB,KACyBqU,EAAc5O,MAAO,aAQ1D,kBAAC/B,EAAA,EAAMgC,OAAP,KACE,6BACE,4BACEpF,KAAK,SACLqF,QAASoO,EAAapP,OACtBQ,UAAU,6BAHZ,UAOA,yCACA,4BACE7E,KAAK,SACLqF,QAASoO,EAAapP,OACtBQ,UAAU,+BAHZ,SCrFH,SAASsQ,KAEd,IAAM3B,EAAiB3B,KACjB4B,EAAezL,mBAAQ,WAC3B,MAAO,CACL9G,IAAKsS,EAAetS,IACpBiS,+BACEK,EAAeL,+BACjBE,8BACEG,EAAeH,iCAElB,CAACG,IAEJ,OACE,yBAAK3O,UAAU,QACb,yBAAKA,UAAU,2DACb,yBAAKA,UAAU,aACb,yBAAKA,UAAU,gCACb,yBAAKA,UAAU,iCACb,2BAAOA,UAAU,8BACf,yDAA+B4O,EAAavS,IAAIoH,UAGpD,yBAAKzD,UAAU,qBACb,4BACE7E,KAAK,SACL6E,UAAU,iDACVQ,QAASoO,EAAaN,gCAEtB,uBAAGtO,UAAU,gBALf,eADF,OASE,4BACE7E,KAAK,SACL6E,UAAU,wDACVQ,QAASoO,EAAaJ,+BAEtB,uBAAGxO,UAAU,iBALf,wBC7BP,SAASuQ,GAAT,GAAgD,IAAPvU,EAAM,EAANA,GAAM,EAC1BiC,mBAAS,IADiB,mBAC7CC,EAD6C,KACtCC,EADsC,OAGHvE,aAC/C,SAACC,GAAD,MAAY,CACVuV,qBAAsBvV,EAAMkW,eAAeX,qBAC3ChV,eAAgBP,EAAMkW,eAAe3V,kBAEvCJ,KALMoV,EAH4C,EAG5CA,qBAAsBhV,EAHsB,EAGtBA,eAiB9B,OATAH,qBAAU,WACR,IAAImE,EAASpC,EAAK,GAAK,oBACnBoT,GAAwBpT,IAC1BoC,EAAS,sBAGXD,EAASC,KAER,CAACgR,EAAsBhV,IAExB,oCACGA,GAAkB,kBAAC,IAAD,CAAkBqQ,QAAQ,UAC7C,kBAAClM,EAAA,EAAMC,OAAP,CAAcC,aAAW,GACvB,kBAACF,EAAA,EAAMG,MAAP,CAAa1C,GAAG,gCAAgCkC,KCfxD,IAAMsS,GAA0B5R,MAAaC,MAAM,CACjDyB,MAAO1B,MACJE,IAAI,EAAG,qBACPC,IAAI,GAAI,sBACRC,SAAS,qBACZuO,OAAQ3O,MAAaI,SAAS,oCAGzB,SAASyR,GAAT,GAKH,IAJFC,EAIC,EAJDA,kBACAxB,EAGC,EAHDA,cACA9U,EAEC,EAFDA,eACAoF,EACC,EADDA,OAEA,OACE,oCACE,kBAAC,IAAD,CACEC,oBAAoB,EACpBC,cAAewP,EACfvP,iBAAkB6Q,GAClB5Q,SAAU,SAACC,GACT6Q,EAAkB7Q,MAGnB,gBAAGC,EAAH,EAAGA,aAAH,OACC,oCACE,kBAACvB,EAAA,EAAMwB,KAAP,CAAYC,UAAU,wCACnB5F,GACC,yBAAK4F,UAAU,gCACb,yBAAKA,UAAU,wCAGnB,kBAAC,IAAD,CAAMA,UAAU,yBACd,yBAAKA,UAAU,kBACb,yBAAKA,UAAU,aACb,kBAAC,IAAD,CAAQnF,KAAK,SAASuF,MAAM,sBACzB0M,GAA0BhR,KAAI,SAAC6U,GAAD,OAC7B,4BAAQ5M,IAAK4M,EAAK3U,GAAIsE,MAAOqQ,EAAK3U,IAC/B2U,EAAK9V,YAMhB,yBAAKmF,UAAU,kBACb,yBAAKA,UAAU,aACb,kBAAC,IAAD,CACEnF,KAAK,QACLoF,UAAWC,IACXC,YAAY,QACZC,MAAM,cAMhB,kBAAC7B,EAAA,EAAMgC,OAAP,KACE,4BACEpF,KAAK,SACLqF,QAAShB,EACTQ,UAAU,6BAHZ,UAOA,yCACA,4BACE7E,KAAK,SACLqF,QAAS,kBAAMV,KACfE,UAAU,+BAHZ,cCxEP,SAAS4Q,KAEd,IAAMjC,EAAiB3B,KACjB4B,EAAezL,mBAAQ,WAC3B,MAAO,CACLnH,GAAI2S,EAAevB,WACnBpK,KAAM2L,EAAelB,4BACrBjO,OAAQmP,EAAeR,6BACvB/F,UAAWuG,EAAevG,UAC1BzL,YAAagS,EAAehS,YAC5B2Q,kBAAmBqB,EAAerB,qBAEnC,CAACqB,IAGE/R,EAAWwG,cAfuB,EAgBSxJ,aAC/C,SAACC,GAAD,MAAY,CACVO,eAAgBP,EAAMkW,eAAe3V,eACrCgV,qBAAsBvV,EAAMkW,eAAeX,wBAE7CpV,KALMI,EAhBgC,EAgBhCA,eAAgBgV,EAhBgB,EAgBhBA,qBAQxBnV,qBAAU,WAER2C,EAASjC,GAA2BiU,EAAa5S,OAChD,CAAC4S,EAAa5S,GAAIY,IAwBrB,OACE,kBAAC2B,EAAA,EAAD,CACEyE,KAAM4L,EAAa5L,KACnBxD,OAAQoP,EAAapP,OACrB8D,kBAAgB,gCAEhB,kBAACiN,GAAD,CAA+BvU,GAAI4S,EAAa5S,KAChD,kBAACyU,GAAD,CACEC,kBA9BoB,SAACxB,GACpBN,EAAa5S,GAUhBY,EAASjC,GAA4BuU,IAAgBlS,MAAK,WACxDJ,EACEjC,GACEiU,EAAajS,YACbiS,EAAaxG,YAEfpL,MAAK,kBAAM4R,EAAapP,eAf5B5C,EAASjC,GAA4BuU,IAAgBlS,MAAK,WACxDJ,EACEjC,GACEiU,EAAajS,YACbiS,EAAaxG,YAEfpL,MAAK,kBAAM4R,EAAapP,gBAuB1BpF,eAAgBA,EAChB8U,cAAeE,GAAwBR,EAAatB,kBACpD9N,OAAQoP,EAAapP,UC3DtB,SAASqR,KAEd,IAAMlC,EAAiB3B,KACjB4B,EAAezL,mBAAQ,WAC3B,MAAO,CAAE9G,IAAKsS,EAAetS,OAC5B,CAACsS,IAEJ,OACE,oCACE,kBAACqB,GAAD,MACA,kBAACY,GAAD,MACA,kBAACV,GAAD,MACA,kBAACD,GAAD,MACA,kBAACI,GAAD,MACA,yBAAKrQ,UAAU,oBACb,kBAAC0O,GAAD,MACCE,EAAavS,IAAIoH,OAAS,GACzB,oCACE,kBAAC6M,GAAD,MACA,+BAIN,kBAACR,GAAD,O,aClCOjP,GAAgB,CAAC,CAAEC,UAAW,KAAMC,MAAO,QAC3CC,GAAkB,CAC7B,CAAE9G,KAAM,IAAKoG,MAAO,GACpB,CAAEpG,KAAM,IAAKoG,MAAO,GACpB,CAAEpG,KAAM,IAAKoG,MAAO,IAETW,GAAgB,CAC3B/E,OAAQ,CACNhC,KAAM,IAERgH,UAAW,MACXC,UAAW,KACXC,WAAY,EACZC,SAAU,GCRNyP,GAAmBvP,0BAElB,SAASwP,KACd,OAAOtP,qBAAWqP,IAGaA,GAAiBpP,SAE3C,SAASsP,GAAT,GAA4D,IAA/B9D,EAA8B,EAA9BA,iBAAkBrL,EAAY,EAAZA,SAAY,EAC9B5D,mBAASiP,GADqB,mBACzD9E,EADyD,KAC9C+E,EAD8C,OAEtBlP,mBAASgD,IAFa,mBAEzDtE,EAFyD,KAE5CmF,EAF4C,OAG1C7D,mBAAS,IAHiC,mBAGzD5B,EAHyD,KAGpD0F,EAHoD,KAI1DC,EAAiBC,uBAAY,SAAAC,GACjCJ,GAAmB,SAAAK,GAKjB,OAJIC,qBAAWF,KACbA,EAAkBA,EAAgBC,IAGhCE,kBAAQF,EAAiBD,GACpBC,EAGFD,OAER,IAhB6D,EAiB5BjE,mBAAS,MAjBmB,mBAiBzDmP,EAjByD,KAiB7CC,EAjB6C,OAkBRpP,oBAAS,GAlBD,mBAkBzDgT,EAlByD,KAkBnCC,EAlBmC,KAmB1DC,EAAa,CACjBnV,QAAIxB,EACJN,KAAM,GACNiB,KAAM,EACNiW,QAAS,aACT5D,MAAOpF,GAETnO,qBAAU,WACRkX,EAAW/I,UAAY8E,EACvBiE,EAAW3D,MAAQN,EACnBC,EAAaD,KAEZ,CAACA,IACJ,IAhCgE,EA4CJjP,oBAAS,GA5CL,mBA4CzDoT,EA5CyD,KA4CjCC,EA5CiC,OAsDFrT,oBAAS,GAtDP,mBAsDzDsT,EAtDyD,KAsDhCC,EAtDgC,OA8DJvT,oBAAS,GA9DL,mBA8DzDwT,EA9DyD,KA8DjCC,EA9DiC,KAsE1DpR,EAAQ,CACZjE,MACA0F,SACAqG,YACA+E,eACAxQ,cACAqF,iBACAmP,aACA/D,aACA6D,uBACAU,oBAhD0B,WAC1BtE,OAAc7S,GACd0W,GAAwB,IA+CxBU,qBA7C2B,SAAA5V,GAC3BqR,EAAcrR,GACdkV,GAAwB,IA4CxBW,sBA1C4B,WAC5BxE,OAAc7S,GACd0W,GAAwB,IAyCxBG,yBACAS,uBAvC6B,SAAA9V,GAC7BqR,EAAcrR,GACdsV,GAA0B,IAsC1BS,wBApC8B,WAC9B1E,OAAc7S,GACd8W,GAA0B,IAmC1BC,0BACAS,wBAhC8B,WAC9BR,GAA2B,IAgC3BS,yBA9B+B,WAC/BT,GAA2B,IA8B3BU,uBA1B6B,WAC7BR,GAA0B,IA0B1BS,wBAxB8B,WAC9BT,GAA0B,IAwB1BD,0BAGF,OACE,kBAACX,GAAiBhO,SAAlB,CAA2BxC,MAAOA,GAC/BuB,GC/FA,SAASuQ,KAEd,IAAMC,EAAmBtB,KACnBuB,EAAiBnP,mBAAQ,WAC7B,MAAO,CACLnB,eAAgBqQ,EAAiBrQ,eACjC2P,oBAAqBU,EAAiBV,oBACtChV,YAAa0V,EAAiB1V,eAE/B,CAAC0V,IAEE/N,EAAc,SAACzE,GACnB,IAAM0E,EArBY,SAAC5H,EAAakD,GAAY,IACtC2E,EAAe3E,EAAf2E,WACFD,EAAc,eAAQ5H,GACtBT,EAAS,GAGf,OAFAA,EAAOhC,KAAOsK,EACdD,EAAerI,OAASA,EACjBqI,EAekBE,CAAc6N,EAAe3V,YAAakD,GAC5DwC,kBAAQkC,EAAgB+N,EAAe3V,eAC1C4H,EAAenD,WAAa,EAC5BkR,EAAetQ,eAAeuC,KAIlC,OACE,oCACE,yBAAKvE,UAAU,mBACb,yBAAKA,UAAU,0BACb,yBAAKA,UAAU,oCACb,kBAAC,IAAD,CACEN,cAAe,CACb8E,WAAY,IAEd5E,SAAU,SAACC,GACTyE,EAAYzE,MAGb,gBACCA,EADD,EACCA,OACAC,EAFD,EAECA,aACA4E,EAHD,EAGCA,WAEAC,GALD,EAICC,aAJD,EAKCD,eALD,OAOC,0BAAM/E,SAAUE,GACd,6BACE,2BACE3E,KAAK,OACL6E,UAAU,eACVnF,KAAK,aACLsF,YAAY,SACZ0E,OAAQH,EACRpE,MAAOT,EAAO2E,WACdN,SAAU,SAACC,GACTQ,EAAc,aAAcR,EAAEC,OAAO9D,OACrCR,OAGJ,2BAAOE,UAAU,wBACf,qCADF,wBAQV,yBAAKA,UAAU,qCACf,yBAAKA,UAAU,+CACb,4BACE7E,KAAK,SACL6E,UAAU,kBACVQ,QAAS,kBAAM8R,EAAeX,wBAHhC,yB,cC1ELhX,GAAW4X,KAAX5X,QAEM6X,GAAe,SAAC7V,EAAayL,GAAd,OAA4B,SAAAxL,GAEtD,OADAA,EAASjC,GAAQW,UAAU,CAAED,SAAUX,KAAUuN,QAC5CG,ECcA,SAAqBzL,EAAayL,GACvC,OAAOvL,IAAMC,KAAN,UApBkB,UAoBlB,gBAAiCsL,GAAa,CAAEzL,gBDXhDI,CACQJ,EAAayL,GACzBpL,MAAK,SAAAC,GAAa,IAAD,EACiBA,EAASC,KAAlC7C,EADQ,EACRA,WAAYC,EADJ,EACIA,SACpBsC,EAASjC,GAAQ8X,eAAe,CAAEpY,aAAYC,iBAE/C6C,OAAM,SAAAjC,GACLA,EAAMkC,cAAgB,qBACtBR,EAASjC,GAAQK,WAAW,CAAEE,QAAOG,SAAUX,KAAUuN,WAXpDrL,EAASjC,GAAQ8X,eAAe,CAAEpY,WAAY,EAAGC,SAAU,UAezDoY,GAAc,SAAA1W,GAAE,OAAI,SAAAY,GAC/B,OAAKZ,GAILY,EAASjC,GAAQW,UAAU,CAAED,SAAUX,KAAUO,WCbrB0X,EDeX3W,ECdVa,IAAMU,IAAN,UAdkB,UAclB,YAA4BoV,KDehC3V,MAAK,SAAAC,GACJ,IAAM2V,EAAS3V,EAASC,KACxBN,EAASjC,GAAQkY,cAAc,CAAEC,cAAeF,QAEjDzV,OAAM,SAAAjC,GACLA,EAAMkC,cAAgB,oBACtBR,EAASjC,GAAQK,WAAW,CAAEE,QAAOG,SAAUX,KAAUO,cAZpD2B,EAASjC,GAAQkY,cAAc,CAAEC,mBAAetY,KCVpD,IAAuBmY,ID0BjBI,GAAe,SAAA/W,GAAE,OAAI,SAAAY,GAEhC,OADAA,EAASjC,GAAQW,UAAU,CAAED,SAAUX,KAAUO,WCXtB0X,EDaX3W,ECZTa,IAAMY,OAAN,UA9BkB,UA8BlB,YAA+BkV,KDanC3V,MAAK,SAAAC,GACJL,EAASjC,GAAQqY,cAAc,CAAEhX,WAElCmB,OAAM,SAAAjC,GACLA,EAAMkC,cAAgB,sBACtBR,EAASjC,GAAQK,WAAW,CAAEE,QAAOG,SAAUX,KAAUO,aCnBxD,IAAsB0X,IDuBhBM,GAAe,SAAAC,GAAiB,OAAI,SAAAtW,GAE/C,OADAA,EAASjC,GAAQW,UAAU,CAAED,SAAUX,KAAUO,WClDtB2X,EDoDXM,ECnDTrW,IAAMC,KAJY,UAIM,CAAE8V,YDoD9B5V,MAAK,SAAAC,GAAa,IACT2V,EAAW3V,EAASC,KAApB0V,OACRhW,EAASjC,GAAQwY,cAAc,CAAEP,eAElCzV,OAAM,SAAAjC,GACLA,EAAMkC,cAAgB,sBACtBR,EAASjC,GAAQK,WAAW,CAAEE,QAAOG,SAAUX,KAAUO,aC3DxD,IAAsB2X,ID+DhBQ,GAAe,SAAAR,GAAM,OAAI,SAAAhW,GAEpC,OADAA,EAASjC,GAAQW,UAAU,CAAED,SAAUX,KAAUO,UC3C5C,SAAsB2X,GAC3B,OAAO/V,IAAMgB,IAAN,UAzBkB,UAyBlB,YAA4B+U,EAAO5W,IAAM,CAAE4W,WD2C3C7V,CACS6V,GACb5V,MAAK,WACJJ,EAASjC,GAAQ0Y,cAAc,CAAET,eAElCzV,OAAM,SAAAjC,GACLA,EAAMkC,cAAgB,sBACtBR,EAASjC,GAAQK,WAAW,CAAEE,QAAOG,SAAUX,KAAUO,eAIlDqY,GAAgB,SAAAjX,GAAG,OAAI,SAAAO,GAElC,OADAA,EAASjC,GAAQW,UAAU,CAAED,SAAUX,KAAUO,UC9C5C,SAAuBoB,GAC5B,OAAOQ,IAAMC,KAAN,UAnCkB,UAmClB,kBAA2C,CAAET,QD8C7CU,CACUV,GACdW,MAAK,WACJuW,QAAQC,IAAI,iBACZ5W,EAASjC,GAAQ8Y,eAAe,CAAEpX,YAEnCc,OAAM,SAAAjC,GACLA,EAAMkC,cAAgB,uBACtBR,EAASjC,GAAQK,WAAW,CAAEE,QAAOG,SAAUX,KAAUO,eErFlDiK,GAAyB,SACpCH,EACAC,EACAG,EAHoC,OAIlCyM,EAJkC,EAIlCA,qBAAsBE,EAJY,EAIZA,uBAJY,OAMpC,oCACE,kBAACjG,GAAA,EAAD,CACEC,QAAS,kBAACC,GAAA,EAAD,CAAS/P,GAAG,0BAAZ,gBAET,uBACEgE,UAAU,uDACVQ,QAAS,kBAAMoR,EAAqB5M,EAAIhJ,MAExC,0BAAMgE,UAAU,yCACd,kBAAC,KAAD,CACEoF,IAAKC,aAAc,iDAM3B,yCACA,kBAACwG,GAAA,EAAD,CACEC,QAAS,kBAACC,GAAA,EAAD,CAAS/P,GAAG,4BAAZ,kBAET,uBACEgE,UAAU,iDACVQ,QAAS,kBAAMsR,EAAuB9M,EAAIhJ,MAE1C,0BAAMgE,UAAU,wCACd,kBAAC,KAAD,CAAKoF,IAAKC,aAAc,6CCf3B,SAASqO,KAEd,IAAMrB,EAAmBtB,KACnBuB,EAAiBnP,mBAAQ,WAC7B,MAAO,CACL9G,IAAKgW,EAAiBhW,IACtB0F,OAAQsQ,EAAiBtQ,OACzBpF,YAAa0V,EAAiB1V,YAC9BqF,eAAgBqQ,EAAiBrQ,eACjCoG,UAAWiK,EAAiBjK,UAC5BwJ,qBAAsBS,EAAiBT,qBACvCE,uBAAwBO,EAAiBP,0BAE1C,CAACO,IAGI9M,EAAiB3L,aACvB,SAACC,GAAD,MAAY,CAAE0L,aAAc1L,EAAM8Z,WAClC3Z,KAFMuL,aAIAlL,EAAsCkL,EAAtClL,WAAYC,EAA0BiL,EAA1BjL,SAAUP,EAAgBwL,EAAhBxL,YACxB6C,EAAWwG,cACjBnJ,qBAAU,WACRqY,EAAevQ,OAAO,IACtBnF,EACEjC,GAAqB2X,EAAe3V,YAAa2V,EAAelK,cAGjE,CAACkK,EAAe3V,YAAaC,EAAU0V,EAAelK,YACzD,IAAM5C,EAAU,CACd,CACE1E,UAAW,KACX5G,KAAM,KACNuL,MAAM,EACNC,UAAWA,MAEb,CACE5E,UAAW,OACX5G,KAAM,OACNuL,MAAM,EACNC,UAAWA,MAEb,CACE5E,UAAW,UACX5G,KAAM,WACNuL,MAAM,GAER,CACE3E,UAAW,SACX5G,KAAM,UACN0L,UAAWV,GACXY,gBAAiB,CACf8L,qBAAsBU,EAAeV,qBACrCE,uBAAwBQ,EAAeR,wBAEzC/L,QAAS,iBACTC,cAAe,kBACfC,MAAO,CACLC,SAAU,WAKVC,EAAoB,CACxBC,QAAQ,EACRC,UAAWhM,EACX2G,gBAAiBsF,GACjBC,YAAa+L,EAAe3V,YAAY0E,SACxCmF,KAAM8L,EAAe3V,YAAYyE,YAEnC,OACE,oCACE,kBAAC,qBAAD,CAAoBqF,WAAYC,IAAkBP,KAC/C,YAAgD,IAA7CQ,EAA4C,EAA5CA,gBAAiBC,EAA2B,EAA3BA,qBACnB,OACE,kBAAC,IAAD,CACEjN,UAAWI,EACX4M,gBAAiBA,GAEjB,kBAAC,IAAD,eACEE,eAAe,mBACfd,QAAQ,gEACRe,UAAU,EACVC,YAAU,EACVC,QAAM,EACNC,SAAS,KACT/J,KAAmB,OAAb5C,EAAoB,GAAKA,EAC/BkL,QAASA,EACT3E,cAAeyF,GACfY,cAAeC,aACbmL,EAAetQ,gBAEjBoF,UAAWC,aAAa,CACtB/M,WACA+B,IAAKiW,EAAejW,IACpB0F,OAAQuQ,EAAevQ,UAErB6E,GAEJ,kBAAC,KAAD,CAAmBtM,SAAUA,IAC7B,kBAAC,KAAD,CAAuBA,SAAUA,UCtH1C,SAASsZ,KAAwB,IAC9Bja,EAAcC,aACpB,SAAAC,GAAK,MAAK,CAAEF,UAAWE,EAAM8Z,QAAQ5Z,eACrCC,KAFML,UAKR,OADAM,qBAAU,cAAU,CAACN,IACd,kBAAC,IAAD,CAAeA,UAAWA,EAAWO,KAAK,gBCF5C,SAAS2Z,KAEd,IAAMxB,EAAmBtB,KACnBuB,EAAiBnP,mBAAQ,WAC7B,MAAO,CACL9G,IAAKgW,EAAiBhW,IACtB0F,OAAQsQ,EAAiBtQ,OACzBqG,UAAWiK,EAAiBjK,UAC5BzL,YAAa0V,EAAiB1V,YAC9B4U,wBAAyBc,EAAiBd,wBAC1CU,yBAA0BI,EAAiBJ,4BAE5C,CAACI,IAEEzV,EAAWwG,cACTzJ,EAAcC,aACpB,SAACC,GAAD,MAAY,CAAEF,UAAWE,EAAM8Z,QAAQvZ,kBACvCJ,KAFML,UAKRM,qBAAU,cAAU,CAACN,EAAWiD,IAChC3C,qBAAU,WACHqY,EAAejW,KAAqC,IAA9BiW,EAAejW,IAAIoH,QAC5C6O,EAAeL,6BAGhB,CAACK,EAAejW,MAgBnB,OACE,kBAACkC,EAAA,EAAD,CACEyE,KAAMsP,EAAef,wBACrB/R,OAAQ8S,EAAeL,yBACvB3O,kBAAgB,gCAEf3J,GAAa,kBAAC,IAAD,CAAkB8Q,QAAQ,UACxC,kBAAClM,EAAA,EAAMC,OAAP,CAAcC,aAAW,GACvB,kBAACF,EAAA,EAAMG,MAAP,CAAa1C,GAAG,gCAAhB,mBAIF,kBAACuC,EAAA,EAAMwB,KAAP,MACIpG,GACA,sFAEDA,GAAa,0DAEhB,kBAAC4E,EAAA,EAAMgC,OAAP,KACE,6BACE,4BACEpF,KAAK,SACLqF,QAAS8R,EAAeL,yBACxBjS,UAAU,6BAHZ,UAOA,yCACA,4BACE7E,KAAK,SACLqF,QA5CY,WACpB5D,EAASjC,GAAsB2X,EAAejW,MAAMW,MAAK,WACvDJ,EACEjC,GACE2X,EAAe3V,YACf2V,EAAelK,YAEjBpL,MAAK,WACLsV,EAAevQ,OAAO,IACtBuQ,EAAeL,kCAoCXjS,UAAU,+BAHZ,aCtEH,SAAS8T,KAEd,IAAMzB,EAAmBtB,KACnBuB,EAAiBnP,mBAAQ,WAC7B,MAAO,CACLnH,GAAIqW,EAAiBjF,WACrBrL,OAAQsQ,EAAiBtQ,OACzBqG,UAAWiK,EAAiBjK,UAC5BzL,YAAa0V,EAAiB1V,YAC9B0U,uBAAwBgB,EAAiBhB,uBACzCU,wBAAyBM,EAAiBN,2BAE3C,CAACM,IAGEzV,EAAWwG,cACTzJ,EAAcC,aACpB,SAACC,GAAD,MAAY,CAAEF,UAAWE,EAAM8Z,QAAQvZ,kBACvCJ,KAFML,UAMRM,qBAAU,WACHqY,EAAetW,IAClBsW,EAAeP,4BAGhB,CAACO,EAAetW,KAGnB/B,qBAAU,cAAU,CAACN,EAAWiD,IAmBhC,OACE,kBAAC2B,EAAA,EAAD,CACEyE,KAAMsP,EAAejB,uBACrB7R,OAAQ8S,EAAeP,wBACvBzO,kBAAgB,gCAEf3J,GAAa,kBAAC,IAAD,CAAkB8Q,QAAQ,UACxC,kBAAClM,EAAA,EAAMC,OAAP,CAAcC,aAAW,GACvB,kBAACF,EAAA,EAAMG,MAAP,CAAa1C,GAAG,gCAAhB,kBAIF,kBAACuC,EAAA,EAAMwB,KAAP,MACIpG,GACA,iFAEDA,GAAa,wDAEhB,kBAAC4E,EAAA,EAAMgC,OAAP,KACE,6BACE,4BACEpF,KAAK,SACLqF,QAAS8R,EAAeP,wBACxB/R,UAAU,6BAHZ,UAOA,yCACA,4BACE7E,KAAK,SACLqF,QA/CW,WAEnB5D,EAASjC,GAAqB2X,EAAetW,KAAKgB,MAAK,WAErDJ,EACEjC,GACE2X,EAAe3V,YACf2V,EAAelK,YAInBkK,EAAevQ,OAAO,IAEtBuQ,EAAeP,8BAmCT/R,UAAU,+BAHZ,aChFV,IAAM+T,GAAkB,SAACzZ,EAAU+B,GACjC,IAAM2X,EAAW,GAOjB,OANA3X,EAAIuH,SAAQ,SAAC5H,GACX,IAAM4W,EAAStY,EAASuJ,MAAK,SAAC1H,GAAD,OAAQA,EAAGH,KAAOA,KAC3C4W,GACFoB,EAASrY,KAAKiX,MAGXoB,GAGF,SAASC,KAEd,IAAM5B,EAAmBtB,KACnBuB,EAAiBnP,mBAAQ,WAC7B,MAAO,CACL9G,IAAKgW,EAAiBhW,IACtBM,YAAa0V,EAAiB1V,YAC9B8U,uBAAwBY,EAAiBZ,uBACzCU,wBAAyBE,EAAiBF,2BAE3C,CAACE,IAEIsB,EAAY/Z,aAClB,SAACC,GAAD,MAAY,CACV8Z,QAASI,GAAgBla,EAAM8Z,QAAQrZ,SAAUgY,EAAejW,QAElErC,KAJM2Z,QAcR,OAPA1Z,qBAAU,WACHqY,EAAejW,KAAqC,IAA9BiW,EAAejW,IAAIoH,QAC5C6O,EAAeH,4BAGhB,CAACG,EAAejW,MAGjB,kBAACkC,EAAA,EAAD,CACEyE,KAAMsP,EAAeb,uBACrBjS,OAAQ8S,EAAeH,wBACvB7O,kBAAgB,gCAEhB,kBAAC/E,EAAA,EAAMC,OAAP,CAAcC,aAAW,GACvB,kBAACF,EAAA,EAAMG,MAAP,CAAa1C,GAAG,gCAAhB,4BAIF,kBAACuC,EAAA,EAAMwB,KAAP,KACE,yBAAKC,UAAU,qDACb,yBAAKA,UAAU,uBACZ2T,EAAQ7X,KAAI,SAAC8W,GAAD,OACX,yBAAK5S,UAAU,0BAA0B+D,IAAK6O,EAAO5W,IACnD,0BAAMgE,UAAU,sBACd,0BACEA,UAAU,kDACViG,MAAO,CAAE6E,MAAO,SAFlB,OAIO8H,EAAO5W,IACN,IACR,0BAAMgE,UAAU,QAAQ4S,EAAO1Y,KAA/B,aAOZ,kBAACqE,EAAA,EAAMgC,OAAP,KACE,6BACE,4BACEpF,KAAK,SACLqF,QAAS8R,EAAeH,wBACxBnS,UAAU,6BAHZ,UAOA,yCACA,4BACE7E,KAAK,SACLqF,QAAS8R,EAAeH,wBACxBnS,UAAU,+BAHZ,SC/EH,SAASkU,KAEd,IAAM7B,EAAmBtB,KACnBuB,EAAiBnP,mBAAQ,WAC7B,MAAO,CACL9G,IAAKgW,EAAiBhW,IACtB2V,wBAAyBK,EAAiBL,wBAC1CE,uBAAwBG,EAAiBH,0BAE1C,CAACG,IAEJ,OACE,yBAAKrS,UAAU,QACb,yBAAKA,UAAU,2DACb,yBAAKA,UAAU,aACb,yBAAKA,UAAU,gCACb,yBAAKA,UAAU,iCACb,2BAAOA,UAAU,8BACf,yDAA+BsS,EAAejW,IAAIoH,UAGtD,yBAAKzD,UAAU,qBACb,4BACE7E,KAAK,SACL6E,UAAU,iDACVQ,QAAS8R,EAAeN,yBAExB,uBAAGhS,UAAU,gBALf,eADF,OASE,4BACE7E,KAAK,SACL6E,UAAU,wDACVQ,QAAS8R,EAAeJ,wBAExB,uBAAGlS,UAAU,iBALf,wBC3BP,SAASmU,GAAT,GAAyC,IAAPnY,EAAM,EAANA,GAAM,EACnBiC,mBAAS,IADU,mBACtCC,EADsC,KAC/BC,EAD+B,OAGHvE,aACxC,SAACC,GAAD,MAAY,CACViZ,cAAejZ,EAAM8Z,QAAQb,cAC7B1Y,eAAgBP,EAAM8Z,QAAQvZ,kBAEhCJ,KALM8Y,EAHqC,EAGrCA,cAAe1Y,EAHsB,EAGtBA,eAkBvB,OAVAH,qBAAU,WACR,IAAImE,EAASpC,EAAK,GAAK,aACnB8W,GAAiB9W,IACnBoC,EAAS,eAGXD,EAASC,KAER,CAAC0U,EAAe1Y,IAGjB,oCACGA,GAAkB,kBAAC,IAAD,CAAkBqQ,QAAQ,UAC7C,kBAAClM,EAAA,EAAMC,OAAP,CAAcC,aAAW,GACvB,kBAACF,EAAA,EAAMG,MAAP,CAAa1C,GAAG,gCAAgCkC,KChBxD,IAAMkW,GAAmBxV,MAAaC,MAAM,CAC1C3E,KAAM0E,MACHE,IAAI,EAAG,qBACPC,IAAI,GAAI,sBACRC,SAAS,oBACZ7D,KAAMyD,MAAaI,SAAS,oBAC5BoS,QAASxS,MACNQ,UAAS,GACTJ,SAAS,0BAGP,SAASqV,GAAT,GAAyE,IAA/CC,EAA8C,EAA9CA,WAAY1B,EAAkC,EAAlCA,OAAQxY,EAA0B,EAA1BA,eAAgBoF,EAAU,EAAVA,OACnE,OACE,oCACE,kBAAC,IAAD,CACEC,oBAAoB,EACpBC,cAAekT,EACfjT,iBAAkByU,GAClBxU,SAAU,SAACC,GAAD,OAAYyU,EAAWzU,MAEhC,gBAAGC,EAAH,EAAGA,aAAH,OACC,oCACE,kBAACvB,EAAA,EAAMwB,KAAP,CAAYC,UAAU,wCACnB5F,GACC,yBAAK4F,UAAU,gCACb,yBAAKA,UAAU,wCAGnB,kBAAC,IAAD,CAAMA,UAAU,yBACd,yBAAKA,UAAU,kBACb,yBAAKA,UAAU,aACb,kBAAC,IAAD,CACEnF,KAAK,OACLoF,UAAWC,IACXC,YAAY,OACZC,MAAM,WAIZ,yBAAKJ,UAAU,kBACb,yBAAKA,UAAU,aACb,kBAAC,IAAD,CAAiBnF,KAAK,UAAUuF,MAAM,eAG1C,yBAAKJ,UAAU,kBACb,yBAAKA,UAAU,aACb,kBAAC,IAAD,CAAQnF,KAAK,OAAOuF,MAAM,QACxB,4BAAQE,MAAM,KAAd,QACA,4BAAQA,MAAM,KAAd,QACA,4BAAQA,MAAM,KAAd,iBAMV,kBAAC/B,EAAA,EAAMgC,OAAP,KACE,4BACEpF,KAAK,SACLqF,QAAShB,EACTQ,UAAU,6BAHZ,UAOA,yCACA,4BACE7E,KAAK,SACLqF,QAAS,kBAAMV,KACfE,UAAU,+BAHZ,cCvDP,SAASuU,KAEd,IAAMlC,EAAmBtB,KACnBuB,EAAiBnP,mBAAQ,WAC7B,MAAO,CACLnH,GAAIqW,EAAiBjF,WACrBrL,OAAQsQ,EAAiBtQ,OACzBqG,UAAWiK,EAAiBjK,UAC5BzL,YAAa0V,EAAiB1V,YAC9BsU,qBAAsBoB,EAAiBpB,qBACvCY,sBAAuBQ,EAAiBR,sBACxCV,WAAYkB,EAAiBlB,cAE9B,CAACkB,IAGEzV,EAAWwG,cAhBgB,EAiBSxJ,aACxC,SAACC,GAAD,MAAY,CACVO,eAAgBP,EAAM8Z,QAAQvZ,eAC9B0Y,cAAejZ,EAAM8Z,QAAQb,iBAE/B9Y,KALMI,EAjByB,EAiBzBA,eAAgB0Y,EAjBS,EAiBTA,cAQxB7Y,qBAAU,WAER2C,EAASjC,GAAoB2X,EAAetW,OAC3C,CAACsW,EAAetW,GAAIY,IAwCvB,OACE,kBAAC2B,EAAA,EAAD,CACEyE,KAAMsP,EAAerB,qBACrBzR,OAAQ8S,EAAeT,sBACvBvO,kBAAgB,gCAEhB,kBAAC6Q,GAAD,CAAwBnY,GAAIsW,EAAetW,KAC3C,kBAACqY,GAAD,CACEC,WA9Ca,SAAC1B,GAClBA,EAAOxB,QA/CX,SAA0BoD,GACxB,GAAoB,kBAATA,EACT,OAAOA,EAGT,IAAIC,EAAOD,EAAKE,cAEZC,GAAS,EAAIH,EAAKI,YAAYC,WAClCF,EAAQA,EAAMlR,OAAS,EAAIkR,EAAQ,IAAMA,EAEzC,IAAIG,EAAMN,EAAKO,UAAUF,WAGzB,OAAOF,EAAQ,KAFfG,EAAMA,EAAIrR,OAAS,EAAIqR,EAAM,IAAMA,GAER,IAAML,EAkCdO,CAAiBpC,EAAOxB,SACpCkB,EAAetW,GAkBlBY,EAASjC,GAAqBiY,IAAS5V,MAAK,WAE1CJ,EAEEjC,GACE2X,EAAe3V,YACf2V,EAAelK,YAEjBpL,MAAK,WAELsV,EAAevQ,OAAO,IAEtBuQ,EAAeT,8BA5BnBjV,EAASjC,GAAqBiY,IAAS5V,MAAK,WAE1CJ,EACEjC,GACE2X,EAAe3V,YACf2V,EAAelK,YAEjBpL,MAAK,WAELsV,EAAevQ,OAAO,IAEtBuQ,EAAeT,+BAgCjBzX,eAAgBA,EAChBwY,OAAQE,GAAiBR,EAAenB,WACxC3R,OAAQ8S,EAAeT,yBC5FxB,SAASoD,KAEd,IAAM5C,EAAmBtB,KACnBuB,EAAiBnP,mBAAQ,WAC7B,MAAO,CAAE9G,IAAKgW,EAAiBhW,OAC9B,CAACgW,IAEJ,OACE,oCACE,kBAACuB,GAAD,MACA,kBAACW,GAAD,MACA,kBAACT,GAAD,MACA,kBAACD,GAAD,MACA,kBAACI,GAAD,MACA,yBAAKjU,UAAU,oBACb,kBAACoS,GAAD,MACCE,EAAejW,IAAIoH,OAAS,GAAK,kBAACyQ,GAAD,OAEpC,kBAACR,GAAD,OCVN,IAAMwB,GAAc,CAClBlZ,QAAIxB,EACJ+O,MAAO,GACPC,YAAa,UACb6C,UAAW,KACXC,QAAS,EACT6I,YAAa,GACb/J,MAAO,KACPE,MAAO,IACPL,UAAW,EACXzO,OAAQ,EACRiN,QAAS,IAGJ,SAAS2L,GAAT,GAKH,IAJF3N,EAIC,EAJDA,QAEYzL,EAEX,EAHD2L,MACEC,OAAU5L,GAINqZ,EAAYC,eAFjB,EAKqBrX,mBAAS,SAL9B,mBAKMsX,EALN,KAKWC,EALX,OAMyBvX,mBAAS,IANlC,mBAMMC,EANN,KAMaC,EANb,KAOKvB,EAAWwG,cAPhB,EAS0CxJ,aACzC,SAACC,GAAD,MAAY,CACVO,eAAgBP,EAAMiO,SAAS1N,eAC/BmO,eAAgB1O,EAAMiO,SAASS,kBAEjCvO,KALMI,EATP,EASOA,eAAgBmO,EATvB,EASuBA,eAQxBtO,qBAAU,WACR2C,EAASjC,GAAqBqB,MAC7B,CAACA,EAAIY,IAER3C,qBAAU,WACR,IAAImE,EAASpC,EAAK,GAAK,cACnBuM,GAAkBvM,IACpBoC,EAAM,wBAAoBmK,EAAeiB,YAAnC,YAAkDjB,EAAegB,MAAjE,cAA4EhB,EAAe8D,UAA3F,MAGRlO,EAASC,GACTiX,EAAUlX,SAASC,KAElB,CAACmK,EAAgBvM,IAEpB,IAQMwQ,EAASiJ,mBAOTC,EAAqB,WACzBjO,EAAQ9L,KAAR,yBAGF,OACE,kBAAC,IAAD,KACGvB,GAAkB,kBAAC,IAAD,MACnB,kBAAC,IAAD,CAAY8D,MAAOA,GACjB,kBAAC,IAAD,KACE,4BACE/C,KAAK,SACLqF,QAASkV,EACT1V,UAAU,iBAEV,uBAAGA,UAAU,qBALf,QADF,KAUE,4BAAQA,UAAU,sBAChB,uBAAGA,UAAU,eADf,SAVF,KAeE,4BACE7E,KAAK,SACL6E,UAAU,uBACVQ,QAhCe,WACnBgM,GAAUA,EAAOmJ,SACnBnJ,EAAOmJ,QAAQC,UA2BX,UASJ,kBAAC,IAAD,KACE,wBAAI5V,UAAU,8BAA8B6V,KAAK,WAC/C,wBAAI7V,UAAU,WAAWQ,QAAS,kBAAMgV,EAAO,WAC7C,uBACExV,UAAS,mBAAsB,UAARuV,GAAmB,UAC1CO,cAAY,MACZD,KAAK,MACLE,iBAAwB,UAARR,GAAiBV,YAJnC,eASD7Y,GACC,oCACG,IACD,wBAAIgE,UAAU,WAAWQ,QAAS,kBAAMgV,EAAO,aAC7C,uBACExV,UAAS,mBAAsB,YAARuV,GAAqB,UAC5CO,cAAY,MACZD,KAAK,SACLE,iBAAwB,YAARR,GAAmBV,YAJrC,oBASF,wBAAI7U,UAAU,WAAWQ,QAAS,kBAAMgV,EAAO,WAC7C,uBACExV,UAAS,mBAAsB,UAARuV,GAAmB,UAC1CO,cAAY,MACZD,KAAK,MACLE,iBAAwB,UAARR,GAAiBV,YAJnC,6BAYR,yBAAK7U,UAAU,QACJ,UAARuV,GACC,kBAAChJ,GAAD,CACEnS,eAAgBA,EAChBiO,QAASE,GAAkB2M,GAC3B1I,OAAQA,EACRC,YA3FQ,SAAC5M,GACd7D,EAGHY,EAASjC,GAAsBkF,IAAS7C,MAAK,kBAAM0Y,OAFnD9Y,EAASjC,GAAsBkF,IAAS7C,MAAK,kBAAM0Y,UA4FtC,YAARH,GAAqBvZ,GACpB,kBAACgV,GAAD,CAAmB9D,iBAAkBlR,GACnC,kBAACiZ,GAAD,OAGK,UAARM,GAAmBvZ,GAClB,kBAACiR,GAAD,CAA0BC,iBAAkBlR,GAC1C,kBAAC6U,GAAD,UCpKC,SAASmF,KACtB,OACE,kBAAC,WAAD,CAAUC,SAAU,kBAAC,KAAD,OAClB,kBAAC,IAAD,KAGI,kBAAC,IAAD,CACEC,OAAO,EACPC,KAAK,cACLC,GAAG,0BAGP,kBAAC,KAAD,CAAc1O,KAAK,wBAAwBzH,UAAWuH,KACtD,kBAAC,KAAD,CAAcE,KAAK,2BAA2BzH,UAAWmV,KACzD,kBAAC,KAAD,CACE1N,KAAK,gCACLzH,UAAWmV,KAGb,kBAAC,KAAD,CAAc1N,KAAK,uBAAuBzH,UAAWkM,OA1B7D","file":"static/js/13.b26641ed.chunk.js","sourcesContent":["import React, { useEffect } from \"react\";\r\nimport { shallowEqual, useSelector } from \"react-redux\";\r\nimport { LoadingDialog } from \"../../../../../../_metronic/_partials/controls\";\r\n\r\nexport function CustomersLoadingDialog() {\r\n  // Customers Redux state\r\n  const { isLoading } = useSelector(\r\n    (state) => ({ isLoading: state.customers.listLoading }),\r\n    shallowEqual\r\n  );\r\n  // looking for loading/dispatch\r\n  useEffect(() => {}, [isLoading]);\r\n  return <LoadingDialog isLoading={isLoading} text=\"Loading ...\" />;\r\n}\r\n","import {createSlice} from \"@reduxjs/toolkit\";\r\n\r\nconst initialCustomersState = {\r\n  listLoading: false,\r\n  actionsLoading: false,\r\n  totalCount: 0,\r\n  entities: null,\r\n  customerForEdit: undefined,\r\n  lastError: null\r\n};\r\nexport const callTypes = {\r\n  list: \"list\",\r\n  action: \"action\"\r\n};\r\n\r\nexport const customersSlice = createSlice({\r\n  name: \"customers\",\r\n  initialState: initialCustomersState,\r\n  reducers: {\r\n    catchError: (state, action) => {\r\n      state.error = `${action.type}: ${action.payload.error}`;\r\n      if (action.payload.callType === callTypes.list) {\r\n        state.listLoading = false;\r\n      } else {\r\n        state.actionsLoading = false;\r\n      }\r\n    },\r\n    startCall: (state, action) => {\r\n      state.error = null;\r\n      if (action.payload.callType === callTypes.list) {\r\n        state.listLoading = true;\r\n      } else {\r\n        state.actionsLoading = true;\r\n      }\r\n    },\r\n    // getCustomerById\r\n    customerFetched: (state, action) => {\r\n      state.actionsLoading = false;\r\n      state.customerForEdit = action.payload.customerForEdit;\r\n      state.error = null;\r\n    },\r\n    // findCustomers\r\n    customersFetched: (state, action) => {\r\n      const { totalCount, entities } = action.payload;\r\n      state.listLoading = false;\r\n      state.error = null;\r\n      state.entities = entities;\r\n      state.totalCount = totalCount;\r\n    },\r\n    // createCustomer\r\n    customerCreated: (state, action) => {\r\n      state.ewactionsLoading = false;\r\n      state.error = null;\r\n      state.entities.push(action.payload.customer);\r\n    },\r\n    // updateCustomer\r\n    customerUpdated: (state, action) => {\r\n      state.error = null;\r\n      state.actionsLoading = false;\r\n      state.entities = state.entities.map(entity => {\r\n        if (entity.id === action.payload.customer.id) {\r\n          return action.payload.customer;\r\n        }\r\n        return entity;\r\n      });\r\n    },\r\n    // deleteCustomer\r\n    customerDeleted: (state, action) => {\r\n      state.error = null;\r\n      state.actionsLoading = false;\r\n      state.entities = state.entities.filter(el => el.id !== action.payload.id);\r\n    },\r\n    // deleteCustomers\r\n    customersDeleted: (state, action) => {\r\n      state.error = null;\r\n      state.actionsLoading = false;\r\n      state.entities = state.entities.filter(\r\n        el => !action.payload.ids.includes(el.id)\r\n      );\r\n    },\r\n    // customersUpdateState\r\n    customersStatusUpdated: (state, action) => {\r\n      state.actionsLoading = false;\r\n      state.error = null;\r\n      const { ids, status } = action.payload;\r\n      state.entities = state.entities.map(entity => {\r\n        if (ids.findIndex(id => id === entity.id) > -1) {\r\n          entity.status = status;\r\n        }\r\n        return entity;\r\n      });\r\n    }\r\n  }\r\n});\r\n","import * as requestFromServer from \"./customersCrud\";\r\nimport {customersSlice, callTypes} from \"./customersSlice\";\r\n\r\nconst {actions} = customersSlice;\r\n\r\nexport const fetchCustomers = queryParams => dispatch => {\r\n  dispatch(actions.startCall({ callType: callTypes.list }));\r\n  return requestFromServer\r\n    .findCustomers(queryParams)\r\n    .then(response => {\r\n      const { totalCount, entities } = response.data;\r\n      dispatch(actions.customersFetched({ totalCount, entities }));\r\n    })\r\n    .catch(error => {\r\n      error.clientMessage = \"Can't find customers\";\r\n      dispatch(actions.catchError({ error, callType: callTypes.list }));\r\n    });\r\n};\r\n\r\nexport const fetchCustomer = id => dispatch => {\r\n  if (!id) {\r\n    return dispatch(actions.customerFetched({ customerForEdit: undefined }));\r\n  }\r\n\r\n  dispatch(actions.startCall({ callType: callTypes.action }));\r\n  return requestFromServer\r\n    .getCustomerById(id)\r\n    .then(response => {\r\n      const customer = response.data;\r\n      dispatch(actions.customerFetched({ customerForEdit: customer }));\r\n    })\r\n    .catch(error => {\r\n      error.clientMessage = \"Can't find customer\";\r\n      dispatch(actions.catchError({ error, callType: callTypes.action }));\r\n    });\r\n};\r\n\r\nexport const deleteCustomer = id => dispatch => {\r\n  dispatch(actions.startCall({ callType: callTypes.action }));\r\n  return requestFromServer\r\n    .deleteCustomer(id)\r\n    .then(response => {\r\n      dispatch(actions.customerDeleted({ id }));\r\n    })\r\n    .catch(error => {\r\n      error.clientMessage = \"Can't delete customer\";\r\n      dispatch(actions.catchError({ error, callType: callTypes.action }));\r\n    });\r\n};\r\n\r\nexport const createCustomer = customerForCreation => dispatch => {\r\n  dispatch(actions.startCall({ callType: callTypes.action }));\r\n  return requestFromServer\r\n    .createCustomer(customerForCreation)\r\n    .then(response => {\r\n      const { customer } = response.data;\r\n      dispatch(actions.customerCreated({ customer }));\r\n    })\r\n    .catch(error => {\r\n      error.clientMessage = \"Can't create customer\";\r\n      dispatch(actions.catchError({ error, callType: callTypes.action }));\r\n    });\r\n};\r\n\r\nexport const updateCustomer = customer => dispatch => {\r\n  dispatch(actions.startCall({ callType: callTypes.action }));\r\n  return requestFromServer\r\n    .updateCustomer(customer)\r\n    .then(() => {\r\n      dispatch(actions.customerUpdated({ customer }));\r\n    })\r\n    .catch(error => {\r\n      error.clientMessage = \"Can't update customer\";\r\n      dispatch(actions.catchError({ error, callType: callTypes.action }));\r\n    });\r\n};\r\n\r\nexport const updateCustomersStatus = (ids, status) => dispatch => {\r\n  dispatch(actions.startCall({ callType: callTypes.action }));\r\n  return requestFromServer\r\n    .updateStatusForCustomers(ids, status)\r\n    .then(() => {\r\n      dispatch(actions.customersStatusUpdated({ ids, status }));\r\n    })\r\n    .catch(error => {\r\n      error.clientMessage = \"Can't update customers status\";\r\n      dispatch(actions.catchError({ error, callType: callTypes.action }));\r\n    });\r\n};\r\n\r\nexport const deleteCustomers = ids => dispatch => {\r\n  dispatch(actions.startCall({ callType: callTypes.action }));\r\n  return requestFromServer\r\n    .deleteCustomers(ids)\r\n    .then(() => {\r\n      dispatch(actions.customersDeleted({ ids }));\r\n    })\r\n    .catch(error => {\r\n      error.clientMessage = \"Can't delete customers\";\r\n      dispatch(actions.catchError({ error, callType: callTypes.action }));\r\n    });\r\n};\r\n","import axios from \"axios\";\r\n\r\nexport const CUSTOMERS_URL = \"customers\";\r\n\r\n// CREATE =>  POST: add a new customer to the server\r\nexport function createCustomer(customer) {\r\n  return axios.post(CUSTOMERS_URL, { customer });\r\n}\r\n\r\n// READ\r\nexport function getAllCustomers() {\r\n  return axios.get(CUSTOMERS_URL);\r\n}\r\n\r\nexport function getCustomerById(customerId) {\r\n  return axios.get(`${CUSTOMERS_URL}/${customerId}`);\r\n}\r\n\r\n// Method from server should return QueryResultsModel(items: any[], totalsCount: number)\r\n// items => filtered/sorted result\r\nexport function findCustomers(queryParams) {\r\n  return axios.post(`${CUSTOMERS_URL}/find`, { queryParams });\r\n}\r\n\r\n// UPDATE => PUT: update the customer on the server\r\nexport function updateCustomer(customer) {\r\n  return axios.put(`${CUSTOMERS_URL}/${customer.id}`, { customer });\r\n}\r\n\r\n// UPDATE Status\r\nexport function updateStatusForCustomers(ids, status) {\r\n  return axios.post(`${CUSTOMERS_URL}/updateStatusForCustomers`, {\r\n    ids,\r\n    status\r\n  });\r\n}\r\n\r\n// DELETE => delete the customer from the server\r\nexport function deleteCustomer(customerId) {\r\n  return axios.delete(`${CUSTOMERS_URL}/${customerId}`);\r\n}\r\n\r\n// DELETE Customers by ids\r\nexport function deleteCustomers(ids) {\r\n  return axios.post(`${CUSTOMERS_URL}/deleteCustomers`, { ids });\r\n}\r\n","import React, { useState, useEffect } from \"react\";\r\nimport { shallowEqual, useSelector } from \"react-redux\";\r\nimport { Modal } from \"react-bootstrap\";\r\nimport {ModalProgressBar} from \"../../../../../../_metronic/_partials/controls\";\r\n\r\nexport function CustomerEditDialogHeader({ id }) {\r\n  // Customers Redux state\r\n  const { customerForEdit, actionsLoading } = useSelector(\r\n    (state) => ({\r\n      customerForEdit: state.customers.customerForEdit,\r\n      actionsLoading: state.customers.actionsLoading,\r\n    }),\r\n    shallowEqual\r\n  );\r\n\r\n  const [title, setTitle] = useState(\"\");\r\n  // Title couting\r\n  useEffect(() => {\r\n    let _title = id ? \"\" : \"New Customer\";\r\n    if (customerForEdit && id) {\r\n\r\n      _title = `Edit customer '${customerForEdit.firstname} ${customerForEdit.lastname}'`;\r\n\r\n    }\r\n\r\n    setTitle(_title);\r\n    // eslint-disable-next-line\r\n  }, [customerForEdit, actionsLoading]);\r\n\r\n  return (\r\n    <>\r\n      {actionsLoading && <ModalProgressBar />}\r\n      <Modal.Header closeButton>\r\n        <Modal.Title id=\"example-modal-sizes-title-lg\">{title}</Modal.Title>\r\n      </Modal.Header>\r\n    </>\r\n  );\r\n}\r\n","// Form is based on Formik\r\n// Data validation is based on Yup\r\n// Please, be familiar with article first:\r\n// https://hackernoon.com/react-form-validation-with-formik-and-yup-8b76bda62e10\r\nimport React from \"react\";\r\nimport { Modal } from \"react-bootstrap\";\r\nimport { Formik, Form, Field } from \"formik\";\r\nimport * as Yup from \"yup\";\r\nimport {\r\n  Input,\r\n  Select,\r\n  DatePickerField,\r\n} from \"../../../../../../_metronic/_partials/controls\";\r\n\r\n// Validation schema\r\nconst CustomerEditSchema = Yup.object().shape({\r\n  firstname: Yup.string()\r\n    .min(3, \"Minimum 3 symbols\")\r\n    .max(50, \"Maximum 50 symbols\")\r\n    .required(\"Firstname is required\"),\r\n  lastname: Yup.string()\r\n    .min(3, \"Minimum 3 symbols\")\r\n    .max(50, \"Maximum 50 symbols\")\r\n    .required(\"Lastname is required\"),\r\n  email: Yup.string()\r\n    .email(\"Invalid email\")\r\n    .required(\"Email is required\"),\r\n  userName: Yup.string().required(\"Username is required\"),\r\n  dateOfBbirth: Yup.mixed()\r\n    .nullable(false)\r\n    .required(\"Date of Birth is required\"),\r\n  ipAddress: Yup.string().required(\"IP Address is required\"),\r\n});\r\n\r\nexport function CustomerEditForm({\r\n  saveCustomer,\r\n  customer,\r\n  actionsLoading,\r\n  onHide,\r\n}) {\r\n  return (\r\n    <>\r\n      <Formik\r\n        enableReinitialize={true}\r\n        initialValues={customer}\r\n        validationSchema={CustomerEditSchema}\r\n        onSubmit={(values) => {\r\n          saveCustomer(values);\r\n        }}\r\n      >\r\n        {({ handleSubmit }) => (\r\n          <>\r\n            <Modal.Body className=\"overlay overlay-block cursor-default\">\r\n              {actionsLoading && (\r\n                <div className=\"overlay-layer bg-transparent\">\r\n                  <div className=\"spinner spinner-lg spinner-success\" />\r\n                </div>\r\n              )}\r\n              <Form className=\"form form-label-right\">\r\n                <div className=\"form-group row\">\r\n                  {/* First Name */}\r\n                  <div className=\"col-lg-4\">\r\n                    <Field\r\n                      name=\"firstname\"\r\n                      component={Input}\r\n                      placeholder=\"First Name\"\r\n                      label=\"First Name\"\r\n                    />\r\n                  </div>\r\n                  {/* Last Name */}\r\n                  <div className=\"col-lg-4\">\r\n                    <Field\r\n                      name=\"lastname\"\r\n                      component={Input}\r\n                      placeholder=\"Last Name\"\r\n                      label=\"Last Name\"\r\n                    />\r\n                  </div>\r\n                  {/* Login */}\r\n                  <div className=\"col-lg-4\">\r\n                    <Field\r\n                      name=\"userName\"\r\n                      component={Input}\r\n                      placeholder=\"Login\"\r\n                      label=\"Login\"\r\n                    />\r\n                  </div>\r\n                </div>\r\n                {/* Email */}\r\n                <div className=\"form-group row\">\r\n                  <div className=\"col-lg-4\">\r\n                    <Field\r\n                      type=\"email\"\r\n                      name=\"email\"\r\n                      component={Input}\r\n                      placeholder=\"Email\"\r\n                      label=\"Email\"\r\n                    />\r\n                  </div>\r\n                  {/* Date of birth */}\r\n                  <div className=\"col-lg-4\">\r\n                    <DatePickerField\r\n                      name=\"dateOfBbirth\"\r\n                      label=\"Date of Birth\"\r\n                    />\r\n                  </div>\r\n                  {/* IP Address */}\r\n                  <div className=\"col-lg-4\">\r\n                    <Field\r\n                      name=\"ipAddress\"\r\n                      component={Input}\r\n                      placeholder=\"IP Address\"\r\n                      label=\"IP Address\"\r\n                      customFeedbackLabel=\"We'll never share customer IP Address with anyone else\"\r\n                    />\r\n                  </div>\r\n                </div>\r\n                <div className=\"form-group row\">\r\n                  {/* Gender */}\r\n                  <div className=\"col-lg-4\">\r\n                    <Select name=\"Gender\" label=\"Gender\">\r\n                      <option value=\"Female\">Female</option>\r\n                      <option value=\"Male\">Male</option>\r\n                    </Select>\r\n                  </div>\r\n                  {/* Type */}\r\n                  <div className=\"col-lg-4\">\r\n                    <Select name=\"type\" label=\"Type\">\r\n                      <option value=\"0\">Business</option>\r\n                      <option value=\"1\">Individual</option>\r\n                    </Select>\r\n                  </div>\r\n                </div>\r\n              </Form>\r\n            </Modal.Body>\r\n            <Modal.Footer>\r\n              <button\r\n                type=\"button\"\r\n                onClick={onHide}\r\n                className=\"btn btn-light btn-elevate\"\r\n              >\r\n                Cancel\r\n              </button>\r\n              <> </>\r\n              <button\r\n                type=\"submit\"\r\n                onClick={() => handleSubmit()}\r\n                className=\"btn btn-primary btn-elevate\"\r\n              >\r\n                Save\r\n              </button>\r\n            </Modal.Footer>\r\n          </>\r\n        )}\r\n      </Formik>\r\n    </>\r\n  );\r\n}\r\n","export const CustomerStatusCssClasses = [\"danger\", \"success\", \"info\", \"\"];\r\nexport const CustomerStatusTitles = [\"Suspended\", \"Active\", \"Pending\", \"\"];\r\nexport const CustomerTypeCssClasses = [\"success\", \"primary\", \"\"];\r\nexport const CustomerTypeTitles = [\"Business\", \"Individual\", \"\"];\r\nexport const defaultSorted = [{ dataField: \"id\", order: \"asc\" }];\r\nexport const sizePerPageList = [\r\n  { text: \"3\", value: 3 },\r\n  { text: \"5\", value: 5 },\r\n  { text: \"10\", value: 10 }\r\n];\r\nexport const initialFilter = {\r\n  filter: {\r\n    lastname: \"\",\r\n    firstname: \"\",\r\n    email: \"\",\r\n    ipAddress: \"\"\r\n  },\r\n  sortOrder: \"asc\", // asc||desc\r\n  sortField: \"id\",\r\n  pageNumber: 1,\r\n  pageSize: 10\r\n};\r\n","import React, {createContext, useContext, useState, useCallback} from \"react\";\r\nimport {isEqual, isFunction} from \"lodash\";\r\nimport {initialFilter} from \"./CustomersUIHelpers\";\r\n\r\nconst CustomersUIContext = createContext();\r\n\r\nexport function useCustomersUIContext() {\r\n  return useContext(CustomersUIContext);\r\n}\r\n\r\nexport const CustomersUIConsumer = CustomersUIContext.Consumer;\r\n\r\nexport function CustomersUIProvider({customersUIEvents, children}) {\r\n  const [queryParams, setQueryParamsBase] = useState(initialFilter);\r\n  const [ids, setIds] = useState([]);\r\n  const setQueryParams = useCallback(nextQueryParams => {\r\n    setQueryParamsBase(prevQueryParams => {\r\n      if (isFunction(nextQueryParams)) {\r\n        nextQueryParams = nextQueryParams(prevQueryParams);\r\n      }\r\n\r\n      if (isEqual(prevQueryParams, nextQueryParams)) {\r\n        return prevQueryParams;\r\n      }\r\n\r\n      return nextQueryParams;\r\n    });\r\n  }, []);\r\n\r\n  const initCustomer = {\r\n    id: undefined,\r\n    lastname: \"\",\r\n    firstname: \"\",\r\n    email: \"\",\r\n    userName: \"\",\r\n    gender: \"Female\",\r\n    status: 0,\r\n    dateOfBbirth: \"\",\r\n    ipAddress: \"\",\r\n    type: 1\r\n  };\r\n\r\n  const value = {\r\n    queryParams,\r\n    setQueryParamsBase,\r\n    ids,\r\n    setIds,\r\n    setQueryParams,\r\n    initCustomer,\r\n    newCustomerButtonClick: customersUIEvents.newCustomerButtonClick,\r\n    openEditCustomerDialog: customersUIEvents.openEditCustomerDialog,\r\n    openDeleteCustomerDialog: customersUIEvents.openDeleteCustomerDialog,\r\n    openDeleteCustomersDialog: customersUIEvents.openDeleteCustomersDialog,\r\n    openFetchCustomersDialog: customersUIEvents.openFetchCustomersDialog,\r\n    openUpdateCustomersStatusDialog: customersUIEvents.openUpdateCustomersStatusDialog\r\n  };\r\n\r\n  return <CustomersUIContext.Provider value={value}>{children}</CustomersUIContext.Provider>;\r\n}","import React, { useEffect, useMemo } from \"react\";\r\nimport { Modal } from \"react-bootstrap\";\r\nimport { shallowEqual, useDispatch, useSelector } from \"react-redux\";\r\nimport * as actions from \"../../../_redux/customers/customersActions\";\r\nimport { CustomerEditDialogHeader } from \"./CustomerEditDialogHeader\";\r\nimport { CustomerEditForm } from \"./CustomerEditForm\";\r\nimport { useCustomersUIContext } from \"../CustomersUIContext\";\r\n\r\nexport function CustomerEditDialog({ id, show, onHide }) {\r\n  // Customers UI Context\r\n  const customersUIContext = useCustomersUIContext();\r\n  const customersUIProps = useMemo(() => {\r\n    return {\r\n      initCustomer: customersUIContext.initCustomer,\r\n    };\r\n  }, [customersUIContext]);\r\n\r\n  // Customers Redux state\r\n  const dispatch = useDispatch();\r\n  const { actionsLoading, customerForEdit } = useSelector(\r\n    (state) => ({\r\n      actionsLoading: state.customers.actionsLoading,\r\n      customerForEdit: state.customers.customerForEdit,\r\n    }),\r\n    shallowEqual\r\n  );\r\n\r\n  useEffect(() => {\r\n    // server call for getting Customer by id\r\n    dispatch(actions.fetchCustomer(id));\r\n  }, [id, dispatch]);\r\n\r\n  // server request for saving customer\r\n  const saveCustomer = (customer) => {\r\n    if (!id) {\r\n      // server request for creating customer\r\n      dispatch(actions.createCustomer(customer)).then(() => onHide());\r\n    } else {\r\n      // server request for updating customer\r\n      dispatch(actions.updateCustomer(customer)).then(() => onHide());\r\n    }\r\n  };\r\n\r\n  return (\r\n    <Modal\r\n      size=\"lg\"\r\n      show={show}\r\n      onHide={onHide}\r\n      aria-labelledby=\"example-modal-sizes-title-lg\"\r\n    >\r\n      <CustomerEditDialogHeader id={id} />\r\n      <CustomerEditForm\r\n        saveCustomer={saveCustomer}\r\n        actionsLoading={actionsLoading}\r\n        customer={customerForEdit || customersUIProps.initCustomer}\r\n        onHide={onHide}\r\n      />\r\n    </Modal>\r\n  );\r\n}\r\n","import React, { useEffect, useMemo } from \"react\";\r\nimport { Modal } from \"react-bootstrap\";\r\nimport { shallowEqual, useDispatch, useSelector } from \"react-redux\";\r\nimport {ModalProgressBar} from \"../../../../../../_metronic/_partials/controls\";\r\nimport * as actions from \"../../../_redux/customers/customersActions\";\r\nimport {useCustomersUIContext} from \"../CustomersUIContext\";\r\n\r\nexport function CustomerDeleteDialog({ id, show, onHide }) {\r\n  // Customers UI Context\r\n  const customersUIContext = useCustomersUIContext();\r\n  const customersUIProps = useMemo(() => {\r\n    return {\r\n      setIds: customersUIContext.setIds,\r\n      queryParams: customersUIContext.queryParams\r\n    };\r\n  }, [customersUIContext]);\r\n\r\n  // Customers Redux state\r\n  const dispatch = useDispatch();\r\n  const { isLoading } = useSelector(\r\n    (state) => ({ isLoading: state.customers.actionsLoading }),\r\n    shallowEqual\r\n  );\r\n\r\n  // if !id we should close modal\r\n  useEffect(() => {\r\n    if (!id) {\r\n      onHide();\r\n    }\r\n    // eslint-disable-next-line react-hooks/exhaustive-deps\r\n  }, [id]);\r\n\r\n  // looking for loading/dispatch\r\n  useEffect(() => {}, [isLoading, dispatch]);\r\n\r\n  const deleteCustomer = () => {\r\n    // server request for deleting customer by id\r\n    dispatch(actions.deleteCustomer(id)).then(() => {\r\n      // refresh list after deletion\r\n      dispatch(actions.fetchCustomers(customersUIProps.queryParams));\r\n      // clear selections list\r\n      customersUIProps.setIds([]);\r\n      // closing delete modal\r\n      onHide();\r\n    });\r\n  };\r\n\r\n  return (\r\n    <Modal\r\n      show={show}\r\n      onHide={onHide}\r\n      aria-labelledby=\"example-modal-sizes-title-lg\"\r\n    >\r\n      {/*begin::Loading*/}\r\n      {isLoading && <ModalProgressBar />}\r\n      {/*end::Loading*/}\r\n      <Modal.Header closeButton>\r\n        <Modal.Title id=\"example-modal-sizes-title-lg\">\r\n          Customer Delete\r\n        </Modal.Title>\r\n      </Modal.Header>\r\n      <Modal.Body>\r\n        {!isLoading && (\r\n          <span>Are you sure to permanently delete this customer?</span>\r\n        )}\r\n        {isLoading && <span>Customer is deleting...</span>}\r\n      </Modal.Body>\r\n      <Modal.Footer>\r\n        <div>\r\n          <button\r\n            type=\"button\"\r\n            onClick={onHide}\r\n            className=\"btn btn-light btn-elevate\"\r\n          >\r\n            Cancel\r\n          </button>\r\n          <> </>\r\n          <button\r\n            type=\"button\"\r\n            onClick={deleteCustomer}\r\n            className=\"btn btn-primary btn-elevate\"\r\n          >\r\n            Delete\r\n          </button>\r\n        </div>\r\n      </Modal.Footer>\r\n    </Modal>\r\n  );\r\n}\r\n","import React, { useEffect, useMemo } from \"react\";\r\nimport { Modal } from \"react-bootstrap\";\r\nimport { shallowEqual, useDispatch, useSelector } from \"react-redux\";\r\nimport * as actions from \"../../../_redux/customers/customersActions\";\r\nimport { useCustomersUIContext } from \"../CustomersUIContext\";\r\nimport {ModalProgressBar} from \"../../../../../../_metronic/_partials/controls\";\r\n\r\nexport function CustomersDeleteDialog({ show, onHide }) {\r\n  // Customers UI Context\r\n  const customersUIContext = useCustomersUIContext();\r\n  const customersUIProps = useMemo(() => {\r\n    return {\r\n      ids: customersUIContext.ids,\r\n      setIds: customersUIContext.setIds,\r\n      queryParams: customersUIContext.queryParams,\r\n    };\r\n  }, [customersUIContext]);\r\n\r\n  // Customers Redux state\r\n  const dispatch = useDispatch();\r\n  const { isLoading } = useSelector(\r\n    (state) => ({ isLoading: state.customers.actionsLoading }),\r\n    shallowEqual\r\n  );\r\n\r\n  // if customers weren't selected we should close modal\r\n  useEffect(() => {\r\n    if (!customersUIProps.ids || customersUIProps.ids.length === 0) {\r\n      onHide();\r\n    }\r\n    // eslint-disable-next-line react-hooks/exhaustive-deps\r\n  }, [customersUIProps.ids]);\r\n\r\n  // looking for loading/dispatch\r\n  useEffect(() => {}, [isLoading, dispatch]);\r\n\r\n  const deleteCustomers = () => {\r\n    // server request for deleting customer by selected ids\r\n    dispatch(actions.deleteCustomers(customersUIProps.ids)).then(() => {\r\n      // refresh list after deletion\r\n      dispatch(actions.fetchCustomers(customersUIProps.queryParams)).then(\r\n        () => {\r\n          // clear selections list\r\n          customersUIProps.setIds([]);\r\n          // closing delete modal\r\n          onHide();\r\n        }\r\n      );\r\n    });\r\n  };\r\n\r\n  return (\r\n    <Modal\r\n      show={show}\r\n      onHide={onHide}\r\n      aria-labelledby=\"example-modal-sizes-title-lg\"\r\n    >\r\n      {/*begin::Loading*/}\r\n      {isLoading && <ModalProgressBar />}\r\n      {/*end::Loading*/}\r\n      <Modal.Header closeButton>\r\n        <Modal.Title id=\"example-modal-sizes-title-lg\">\r\n          Customers Delete\r\n        </Modal.Title>\r\n      </Modal.Header>\r\n      <Modal.Body>\r\n        {!isLoading && (\r\n          <span>Are you sure to permanently delete selected customers?</span>\r\n        )}\r\n        {isLoading && <span>Customer are deleting...</span>}\r\n      </Modal.Body>\r\n      <Modal.Footer>\r\n        <div>\r\n          <button\r\n            type=\"button\"\r\n            onClick={onHide}\r\n            className=\"btn btn-light btn-elevate\"\r\n          >\r\n            Cancel\r\n          </button>\r\n          <> </>\r\n          <button\r\n            type=\"button\"\r\n            onClick={deleteCustomers}\r\n            className=\"btn btn-primary btn-elevate\"\r\n          >\r\n            Delete\r\n          </button>\r\n        </div>\r\n      </Modal.Footer>\r\n    </Modal>\r\n  );\r\n}\r\n","import React, { useEffect, useMemo } from \"react\";\r\nimport { Modal } from \"react-bootstrap\";\r\nimport { shallowEqual, useSelector } from \"react-redux\";\r\nimport {\r\n  CustomerStatusCssClasses,\r\n  CustomerStatusTitles,\r\n} from \"../CustomersUIHelpers\";\r\nimport { useCustomersUIContext } from \"../CustomersUIContext\";\r\n\r\nconst selectedCustomers = (entities, ids) => {\r\n  const _customers = [];\r\n  ids.forEach((id) => {\r\n    const customer = entities.find((el) => el.id === id);\r\n    if (customer) {\r\n      _customers.push(customer);\r\n    }\r\n  });\r\n  return _customers;\r\n};\r\n\r\nexport function CustomersFetchDialog({ show, onHide }) {\r\n  // Customers UI Context\r\n  const customersUIContext = useCustomersUIContext();\r\n  const customersUIProps = useMemo(() => {\r\n    return {\r\n      ids: customersUIContext.ids,\r\n    };\r\n  }, [customersUIContext]);\r\n\r\n  // Customers Redux state\r\n  const { customers } = useSelector(\r\n    (state) => ({\r\n      customers: selectedCustomers(\r\n        state.customers.entities,\r\n        customersUIProps.ids\r\n      ),\r\n    }),\r\n    shallowEqual\r\n  );\r\n\r\n  // if customers weren't selected we should close modal\r\n  useEffect(() => {\r\n    if (!customersUIProps.ids || customersUIProps.ids.length === 0) {\r\n      onHide();\r\n    }\r\n    // eslint-disable-next-line react-hooks/exhaustive-deps\r\n  }, [customersUIProps.ids]);\r\n\r\n  return (\r\n    <Modal\r\n      show={show}\r\n      onHide={onHide}\r\n      aria-labelledby=\"example-modal-sizes-title-lg\"\r\n    >\r\n      <Modal.Header closeButton>\r\n        <Modal.Title id=\"example-modal-sizes-title-lg\">\r\n          Fetch selected elements\r\n        </Modal.Title>\r\n      </Modal.Header>\r\n      <Modal.Body>\r\n        <table className=\"table table table-head-custom table-vertical-center overflow-hidden\">\r\n          <thead>\r\n            <tr>\r\n              <th>ID</th>\r\n              <th>STATUS</th>\r\n              <th>CUSTOMER</th>\r\n            </tr>\r\n          </thead>\r\n          <tbody>\r\n            {customers.map((customer) => (\r\n              <tr key={`id${customer.id}`}>\r\n                <td>{customer.id}</td>\r\n                <td>\r\n                  <span\r\n                    className={`label label-lg label-light-${\r\n                      CustomerStatusCssClasses[customer.status]\r\n                    } label-inline`}\r\n                  >\r\n                    {\" \"}\r\n                    {CustomerStatusTitles[customer.status]}\r\n                  </span>\r\n                </td>\r\n                <td>\r\n                  <span className=\"ml-3\">\r\n\r\n                  {customer.firstname}, {customer.lastname}\r\n\r\n                  </span>\r\n                </td>\r\n              </tr>\r\n            ))}\r\n          </tbody>\r\n        </table>\r\n      </Modal.Body>\r\n      <Modal.Footer>\r\n        <div>\r\n          <button\r\n            type=\"button\"\r\n            onClick={onHide}\r\n            className=\"btn btn-light btn-elevate\"\r\n          >\r\n            Cancel\r\n          </button>\r\n          <> </>\r\n          <button\r\n            type=\"button\"\r\n            onClick={onHide}\r\n            className=\"btn btn-primary btn-elevate\"\r\n          >\r\n            Ok\r\n          </button>\r\n        </div>\r\n      </Modal.Footer>\r\n    </Modal>\r\n  );\r\n}\r\n","import React, { useEffect, useState, useMemo } from \"react\";\r\nimport { Modal } from \"react-bootstrap\";\r\nimport { shallowEqual, useDispatch, useSelector } from \"react-redux\";\r\nimport {\r\n  CustomerStatusCssClasses,\r\n  CustomerStatusTitles,\r\n} from \"../CustomersUIHelpers\";\r\nimport * as actions from \"../../../_redux/customers/customersActions\";\r\nimport { useCustomersUIContext } from \"../CustomersUIContext\";\r\n\r\nconst selectedCustomers = (entities, ids) => {\r\n  const _customers = [];\r\n  ids.forEach((id) => {\r\n    const customer = entities.find((el) => el.id === id);\r\n    if (customer) {\r\n      _customers.push(customer);\r\n    }\r\n  });\r\n  return _customers;\r\n};\r\n\r\nexport function CustomersUpdateStateDialog({ show, onHide }) {\r\n  // Customers UI Context\r\n  const customersUIContext = useCustomersUIContext();\r\n  const customersUIProps = useMemo(() => {\r\n    return {\r\n      ids: customersUIContext.ids,\r\n      setIds: customersUIContext.setIds,\r\n      queryParams: customersUIContext.queryParams,\r\n    };\r\n  }, [customersUIContext]);\r\n\r\n  // Customers Redux state\r\n  const { customers, isLoading } = useSelector(\r\n    (state) => ({\r\n      customers: selectedCustomers(\r\n        state.customers.entities,\r\n        customersUIProps.ids\r\n      ),\r\n      isLoading: state.customers.actionsLoading,\r\n    }),\r\n    shallowEqual\r\n  );\r\n\r\n  // if !id we should close modal\r\n  useEffect(() => {\r\n    if (!customersUIProps.ids || customersUIProps.ids.length === 0) {\r\n      onHide();\r\n    }\r\n    // eslint-disable-next-line react-hooks/exhaustive-deps\r\n  }, [customersUIProps.ids]);\r\n\r\n  const [status, setStatus] = useState(0);\r\n\r\n  const dispatch = useDispatch();\r\n  const updateStatus = () => {\r\n    // server request for update customers status by selected ids\r\n    dispatch(actions.updateCustomersStatus(customersUIProps.ids, status)).then(\r\n      () => {\r\n        // refresh list after deletion\r\n        dispatch(actions.fetchCustomers(customersUIProps.queryParams)).then(\r\n          () => {\r\n            // clear selections list\r\n            customersUIProps.setIds([]);\r\n            // closing delete modal\r\n            onHide();\r\n          }\r\n        );\r\n      }\r\n    );\r\n  };\r\n\r\n  return (\r\n    <Modal\r\n      show={show}\r\n      onHide={onHide}\r\n      aria-labelledby=\"example-modal-sizes-title-lg\"\r\n    >\r\n      <Modal.Header closeButton>\r\n        <Modal.Title id=\"example-modal-sizes-title-lg\">\r\n          Status has been updated for selected customers\r\n        </Modal.Title>\r\n      </Modal.Header>\r\n      <Modal.Body className=\"overlay overlay-block cursor-default\">\r\n        {/*begin::Loading*/}\r\n        {isLoading && (\r\n          <div className=\"overlay-layer\">\r\n            <div className=\"spinner spinner-lg spinner-primary\" />\r\n          </div>\r\n        )}\r\n        {/*end::Loading*/}\r\n        <table className=\"table table table-head-custom table-vertical-center overflow-hidden\">\r\n          <thead>\r\n            <tr>\r\n              <th>ID</th>\r\n              <th>STATUS</th>\r\n              <th>CUSTOMER</th>\r\n            </tr>\r\n          </thead>\r\n          <tbody>\r\n            {customers.map((customer) => (\r\n              <tr key={`id${customer.id}`}>\r\n                <td>{customer.id}</td>\r\n                <td>\r\n                  <span\r\n                    className={`label label-lg label-light-${\r\n                      CustomerStatusCssClasses[customer.status]\r\n                    } label-inline`}\r\n                  >\r\n                    {\" \"}\r\n                    {CustomerStatusTitles[customer.status]}\r\n                  </span>\r\n                </td>\r\n                <td>\r\n                  <span className=\"ml-3\">\r\n\r\n                  {customer.firstname},{customer.lastname}\r\n\r\n                  </span>\r\n                </td>\r\n              </tr>\r\n            ))}\r\n          </tbody>\r\n        </table>\r\n      </Modal.Body>\r\n      <Modal.Footer className=\"form\">\r\n        <div className=\"form-group\">\r\n          <select\r\n            className=\"form-control\"\r\n            value={status}\r\n            onChange={(e) => setStatus(+e.target.value)}\r\n          >\r\n            <option value=\"0\">Suspended</option>\r\n            <option value=\"1\">Active</option>\r\n            <option value=\"2\">Pending</option>\r\n          </select>\r\n        </div>\r\n        <div className=\"form-group\">\r\n          <button\r\n            type=\"button\"\r\n            onClick={onHide}\r\n            className=\"btn btn-light btn-elevate mr-3\"\r\n          >\r\n            Cancel\r\n          </button>\r\n          <button\r\n            type=\"button\"\r\n            onClick={updateStatus}\r\n            className=\"btn btn-primary btn-elevate\"\r\n          >\r\n            Update Status\r\n          </button>\r\n        </div>\r\n      </Modal.Footer>\r\n    </Modal>\r\n  );\r\n}\r\n","import React, { useMemo } from \"react\";\r\nimport { Formik } from \"formik\";\r\nimport { isEqual } from \"lodash\";\r\nimport { useCustomersUIContext } from \"../CustomersUIContext\";\r\n\r\nconst prepareFilter = (queryParams, values) => {\r\n  const { status, type, searchText } = values;\r\n  const newQueryParams = { ...queryParams };\r\n  const filter = {};\r\n  // Filter by status\r\n  filter.status = status !== \"\" ? +status : undefined;\r\n  // Filter by type\r\n  filter.type = type !== \"\" ? +type : undefined;\r\n  // Filter by all fields\r\n  filter.lastname = searchText;\r\n  if (searchText) {\r\n    filter.firstname = searchText;\r\n    filter.email = searchText;\r\n    filter.ipAddress = searchText;\r\n  }\r\n  newQueryParams.filter = filter;\r\n  return newQueryParams;\r\n};\r\n\r\nexport function CustomersFilter({ listLoading }) {\r\n  // Customers UI Context\r\n  const customersUIContext = useCustomersUIContext();\r\n  const customersUIProps = useMemo(() => {\r\n    return {\r\n      queryParams: customersUIContext.queryParams,\r\n      setQueryParams: customersUIContext.setQueryParams,\r\n    };\r\n  }, [customersUIContext]);\r\n\r\n  // queryParams, setQueryParams,\r\n  const applyFilter = (values) => {\r\n    const newQueryParams = prepareFilter(customersUIProps.queryParams, values);\r\n    if (!isEqual(newQueryParams, customersUIProps.queryParams)) {\r\n      newQueryParams.pageNumber = 1;\r\n      // update list by queryParams\r\n      customersUIProps.setQueryParams(newQueryParams);\r\n    }\r\n  };\r\n\r\n  return (\r\n    <>\r\n      <Formik\r\n        initialValues={{\r\n          status: \"\", // values => All=\"\"/Susspended=0/Active=1/Pending=2\r\n          type: \"\", // values => All=\"\"/Business=0/Individual=1\r\n          searchText: \"\",\r\n        }}\r\n        onSubmit={(values) => {\r\n          applyFilter(values);\r\n        }}\r\n      >\r\n        {({\r\n          values,\r\n          handleSubmit,\r\n          handleBlur,\r\n          handleChange,\r\n          setFieldValue,\r\n        }) => (\r\n          <form onSubmit={handleSubmit} className=\"form form-label-right\">\r\n            <div className=\"form-group row\">\r\n              <div className=\"col-lg-2\">\r\n                <select\r\n                  className=\"form-control\"\r\n                  name=\"status\"\r\n                  placeholder=\"Filter by Status\"\r\n                  // TODO: Change this code\r\n                  onChange={(e) => {\r\n                    setFieldValue(\"status\", e.target.value);\r\n                    handleSubmit();\r\n                  }}\r\n                  onBlur={handleBlur}\r\n                  value={values.status}\r\n                >\r\n                  <option value=\"\">All</option>\r\n                  <option value=\"0\">Susspended</option>\r\n                  <option value=\"1\">Active</option>\r\n                  <option value=\"2\">Pending</option>\r\n                </select>\r\n                <small className=\"form-text text-muted\">\r\n                  <b>Filter</b> by Status\r\n                </small>\r\n              </div>\r\n              <div className=\"col-lg-2\">\r\n                <select\r\n                  className=\"form-control\"\r\n                  placeholder=\"Filter by Type\"\r\n                  name=\"type\"\r\n                  onBlur={handleBlur}\r\n                  onChange={(e) => {\r\n                    setFieldValue(\"type\", e.target.value);\r\n                    handleSubmit();\r\n                  }}\r\n                  value={values.type}\r\n                >\r\n                  <option value=\"\">All</option>\r\n                  <option value=\"0\">Business</option>\r\n                  <option value=\"1\">Individual</option>\r\n                </select>\r\n                <small className=\"form-text text-muted\">\r\n                  <b>Filter</b> by Type\r\n                </small>\r\n              </div>\r\n              <div className=\"col-lg-2\">\r\n                <input\r\n                  type=\"text\"\r\n                  className=\"form-control\"\r\n                  name=\"searchText\"\r\n                  placeholder=\"Search\"\r\n                  onBlur={handleBlur}\r\n                  value={values.searchText}\r\n                  onChange={(e) => {\r\n                    setFieldValue(\"searchText\", e.target.value);\r\n                    handleSubmit();\r\n                  }}\r\n                />\r\n                <small className=\"form-text text-muted\">\r\n                  <b>Search</b> in all fields\r\n                </small>\r\n              </div>\r\n            </div>\r\n          </form>\r\n        )}\r\n      </Formik>\r\n    </>\r\n  );\r\n}\r\n","// please be familiar with react-bootstrap-table-next column formaters\r\n// https://react-bootstrap-table.github.io/react-bootstrap-table2/storybook/index.html?selectedKind=Work%20on%20Columns&selectedStory=Column%20Formatter&full=0&addons=1&stories=1&panelRight=0&addonPanel=storybook%2Factions%2Factions-panel\r\nimport React from \"react\";\r\nimport {\r\n  CustomerStatusCssClasses,\r\n  CustomerStatusTitles,\r\n} from \"../../CustomersUIHelpers\";\r\n\r\nexport function StatusColumnFormatter(cellContent, row) {\r\n  const getLabelCssClasses = () => {\r\n    return `label label-lg label-light-${\r\n      CustomerStatusCssClasses[row.status]\r\n    } label-inline`;\r\n  };\r\n  return (\r\n    <span className={getLabelCssClasses()}>\r\n      {CustomerStatusTitles[row.status]}\r\n    </span>\r\n  );\r\n}\r\n","// please be familiar with react-bootstrap-table-next column formaters\r\n// https://react-bootstrap-table.github.io/react-bootstrap-table2/storybook/index.html?selectedKind=Work%20on%20Columns&selectedStory=Column%20Formatter&full=0&addons=1&stories=1&panelRight=0&addonPanel=storybook%2Factions%2Factions-panel\r\nimport React from \"react\";\r\nimport {\r\n  CustomerTypeCssClasses,\r\n  CustomerTypeTitles,\r\n} from \"../../CustomersUIHelpers\";\r\n\r\nexport function TypeColumnFormatter(cellContent, row) {\r\n  return (\r\n    <>\r\n      <span\r\n        className={`label label-dot label-${\r\n          CustomerTypeCssClasses[row.type]\r\n        } mr-2`}\r\n      ></span>\r\n      &nbsp;\r\n      <span className={`font-bold font-${CustomerTypeCssClasses[row.type]}`}>\r\n        {CustomerTypeTitles[row.type]}\r\n      </span>\r\n    </>\r\n  );\r\n}\r\n","// please be familiar with react-bootstrap-table-next column formaters\r\n// https://react-bootstrap-table.github.io/react-bootstrap-table2/storybook/index.html?selectedKind=Work%20on%20Columns&selectedStory=Column%20Formatter&full=0&addons=1&stories=1&panelRight=0&addonPanel=storybook%2Factions%2Factions-panel\r\n/* eslint-disable no-script-url,jsx-a11y/anchor-is-valid */\r\nimport React from \"react\";\r\nimport SVG from \"react-inlinesvg\";\r\nimport { toAbsoluteUrl } from \"../../../../../../../_metronic/_helpers\";\r\n\r\nexport function ActionsColumnFormatter(\r\n  cellContent,\r\n  row,\r\n  rowIndex,\r\n  { openEditCustomerDialog, openDeleteCustomerDialog }\r\n) {\r\n  return (\r\n    <>\r\n      <a\r\n        title=\"Edit customer\"\r\n        className=\"btn btn-icon btn-light btn-hover-primary btn-sm mx-3\"\r\n        onClick={() => openEditCustomerDialog(row.id)}\r\n      >\r\n        <span className=\"svg-icon svg-icon-md svg-icon-primary\">\r\n          <SVG\r\n            src={toAbsoluteUrl(\"/media/svg/icons/Communication/Write.svg\")}\r\n          />\r\n        </span>\r\n      </a>\r\n      <> </>\r\n\r\n      <a\r\n        title=\"Delete customer\"\r\n        className=\"btn btn-icon btn-light btn-hover-danger btn-sm\"\r\n        onClick={() => openDeleteCustomerDialog(row.id)}\r\n      >\r\n        <span className=\"svg-icon svg-icon-md svg-icon-danger\">\r\n          <SVG src={toAbsoluteUrl(\"/media/svg/icons/General/Trash.svg\")} />\r\n        </span>\r\n      </a>\r\n    </>\r\n  );\r\n}\r\n","// React bootstrap table next =>\r\n// DOCS: https://react-bootstrap-table.github.io/react-bootstrap-table2/docs/\r\n// STORYBOOK: https://react-bootstrap-table.github.io/react-bootstrap-table2/storybook/index.html\r\nimport React, { useEffect, useMemo } from \"react\";\r\nimport BootstrapTable from \"react-bootstrap-table-next\";\r\nimport paginationFactory, {\r\n  PaginationProvider,\r\n} from \"react-bootstrap-table2-paginator\";\r\nimport { shallowEqual, useDispatch, useSelector } from \"react-redux\";\r\nimport * as actions from \"../../../_redux/customers/customersActions\";\r\nimport {\r\n  getSelectRow,\r\n  getHandlerTableChange,\r\n  NoRecordsFoundMessage,\r\n  PleaseWaitMessage,\r\n  sortCaret,\r\n  headerSortingClasses,\r\n} from \"../../../../../../_metronic/_helpers\";\r\nimport * as uiHelpers from \"../CustomersUIHelpers\";\r\nimport * as columnFormatters from \"./column-formatters\";\r\nimport { Pagination } from \"../../../../../../_metronic/_partials/controls\";\r\nimport { useCustomersUIContext } from \"../CustomersUIContext\";\r\n\r\nexport function CustomersTable() {\r\n  // Customers UI Context\r\n  const customersUIContext = useCustomersUIContext();\r\n  const customersUIProps = useMemo(() => {\r\n    return {\r\n      ids: customersUIContext.ids,\r\n      setIds: customersUIContext.setIds,\r\n      queryParams: customersUIContext.queryParams,\r\n      setQueryParams: customersUIContext.setQueryParams,\r\n      openEditCustomerDialog: customersUIContext.openEditCustomerDialog,\r\n      openDeleteCustomerDialog: customersUIContext.openDeleteCustomerDialog,\r\n    };\r\n  }, [customersUIContext]);\r\n\r\n  // Getting curret state of customers list from store (Redux)\r\n  const { currentState } = useSelector(\r\n    (state) => ({ currentState: state.customers }),\r\n    shallowEqual\r\n  );\r\n  const { totalCount, entities, listLoading } = currentState;\r\n\r\n  // Customers Redux state\r\n  const dispatch = useDispatch();\r\n  useEffect(() => {\r\n    // clear selections list\r\n    customersUIProps.setIds([]);\r\n    // server call by queryParams\r\n    dispatch(actions.fetchCustomers(customersUIProps.queryParams));\r\n    // eslint-disable-next-line react-hooks/exhaustive-deps\r\n  }, [customersUIProps.queryParams, dispatch]);\r\n  // Table columns\r\n  const columns = [\r\n    {\r\n      dataField: \"id\",\r\n      text: \"ID\",\r\n      sort: true,\r\n      sortCaret: sortCaret,\r\n      headerSortingClasses,\r\n    },\r\n    {\r\n      dataField: \"firstname\",\r\n      text: \"Firstname\",\r\n      sort: true,\r\n      sortCaret: sortCaret,\r\n      headerSortingClasses,\r\n    },\r\n    {\r\n      dataField: \"lastname\",\r\n      text: \"Lastname\",\r\n      sort: true,\r\n      sortCaret: sortCaret,\r\n      headerSortingClasses,\r\n    },\r\n    {\r\n      dataField: \"email\",\r\n      text: \"Email\",\r\n      sort: true,\r\n      sortCaret: sortCaret,\r\n      headerSortingClasses,\r\n    },\r\n    {\r\n      dataField: \"gender\",\r\n      text: \"Gender\",\r\n      sort: false,\r\n      sortCaret: sortCaret,\r\n    },\r\n    {\r\n      dataField: \"status\",\r\n      text: \"Status\",\r\n      sort: true,\r\n      sortCaret: sortCaret,\r\n      formatter: columnFormatters.StatusColumnFormatter,\r\n      headerSortingClasses,\r\n    },\r\n    {\r\n      dataField: \"type\",\r\n      text: \"Type\",\r\n      sort: true,\r\n      sortCaret: sortCaret,\r\n      formatter: columnFormatters.TypeColumnFormatter,\r\n    },\r\n    {\r\n      dataField: \"action\",\r\n      text: \"Actions\",\r\n      formatter: columnFormatters.ActionsColumnFormatter,\r\n      formatExtraData: {\r\n        openEditCustomerDialog: customersUIProps.openEditCustomerDialog,\r\n        openDeleteCustomerDialog: customersUIProps.openDeleteCustomerDialog,\r\n      },\r\n      classes: \"text-right p-0\",\r\n      headerClasses: \"text-right pr-3\",\r\n      style: {\r\n        minWidth: \"100px\",\r\n      },\r\n    },\r\n  ];\r\n  // Table pagination properties\r\n  const paginationOptions = {\r\n    custom: true,\r\n    totalSize: totalCount,\r\n    sizePerPageList: uiHelpers.sizePerPageList,\r\n    sizePerPage: customersUIProps.queryParams.pageSize,\r\n    page: customersUIProps.queryParams.pageNumber,\r\n  };\r\n  return (\r\n    <>\r\n      <PaginationProvider pagination={paginationFactory(paginationOptions)}>\r\n        {({ paginationProps, paginationTableProps }) => {\r\n          return (\r\n            <Pagination\r\n              isLoading={listLoading}\r\n              paginationProps={paginationProps}\r\n            >\r\n              <BootstrapTable\r\n                wrapperClasses=\"table-responsive\"\r\n                bordered={false}\r\n                classes=\"table table-head-custom table-vertical-center overflow-hidden\"\r\n                bootstrap4\r\n                remote\r\n                keyField=\"id\"\r\n                data={entities === null ? [] : entities}\r\n                columns={columns}\r\n                defaultSorted={uiHelpers.defaultSorted}\r\n                onTableChange={getHandlerTableChange(\r\n                  customersUIProps.setQueryParams\r\n                )}\r\n                selectRow={getSelectRow({\r\n                  entities,\r\n                  ids: customersUIProps.ids,\r\n                  setIds: customersUIProps.setIds,\r\n                })}\r\n                {...paginationTableProps}\r\n              >\r\n                <PleaseWaitMessage entities={entities} />\r\n                <NoRecordsFoundMessage entities={entities} />\r\n              </BootstrapTable>\r\n            </Pagination>\r\n          );\r\n        }}\r\n      </PaginationProvider>\r\n    </>\r\n  );\r\n}\r\n","import React, { useMemo } from \"react\";\r\nimport { useCustomersUIContext } from \"../CustomersUIContext\";\r\n\r\nexport function CustomersGrouping() {\r\n  // Customers UI Context\r\n  const customersUIContext = useCustomersUIContext();\r\n  const customersUIProps = useMemo(() => {\r\n    return {\r\n      ids: customersUIContext.ids,\r\n      setIds: customersUIContext.setIds,\r\n      openDeleteCustomersDialog: customersUIContext.openDeleteCustomersDialog,\r\n      openFetchCustomersDialog: customersUIContext.openFetchCustomersDialog,\r\n      openUpdateCustomersStatusDialog:\r\n        customersUIContext.openUpdateCustomersStatusDialog,\r\n    };\r\n  }, [customersUIContext]);\r\n\r\n  return (\r\n    <div className=\"form\">\r\n      <div className=\"row align-items-center form-group-actions margin-top-20 margin-bottom-20\">\r\n        <div className=\"col-xl-12\">\r\n          <div className=\"form-group form-group-inline\">\r\n            <div className=\"form-label form-label-no-wrap\">\r\n              <label className=\"font-bold font-danger\">\r\n                <span>\r\n                  Selected records count: <b>{customersUIProps.ids.length}</b>\r\n                </span>\r\n              </label>\r\n            </div>\r\n            <div>\r\n              <button\r\n                type=\"button\"\r\n                className=\"btn btn-danger font-weight-bolder font-size-sm\"\r\n                onClick={customersUIProps.openDeleteCustomersDialog}\r\n              >\r\n                <i className=\"fa fa-trash\"></i> Delete All\r\n              </button>\r\n              &nbsp;\r\n              <button\r\n                type=\"button\"\r\n                className=\"btn btn-light-primary font-weight-bolder font-size-sm\"\r\n                onClick={customersUIProps.openFetchCustomersDialog}\r\n              >\r\n                <i className=\"fa fa-stream\"></i> Fetch Selected\r\n              </button>\r\n              &nbsp;\r\n              <button\r\n                type=\"button\"\r\n                className=\"btn btn-light-primary font-weight-bolder font-size-sm\"\r\n                onClick={customersUIProps.openUpdateCustomersStatusDialog}\r\n              >\r\n                <i className=\"fa fa-sync-alt\"></i> Update Status\r\n              </button>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n","import React, { useMemo } from \"react\";\r\nimport {\r\n  Card,\r\n  CardBody,\r\n  CardHeader,\r\n  CardHeaderToolbar,\r\n} from \"../../../../../_metronic/_partials/controls\";\r\nimport { CustomersFilter } from \"./customers-filter/CustomersFilter\";\r\nimport { CustomersTable } from \"./customers-table/CustomersTable\";\r\nimport { CustomersGrouping } from \"./customers-grouping/CustomersGrouping\";\r\nimport { useCustomersUIContext } from \"./CustomersUIContext\";\r\n\r\nexport function CustomersCard() {\r\n  const customersUIContext = useCustomersUIContext();\r\n  const customersUIProps = useMemo(() => {\r\n    return {\r\n      ids: customersUIContext.ids,\r\n      newCustomerButtonClick: customersUIContext.newCustomerButtonClick,\r\n    };\r\n  }, [customersUIContext]);\r\n\r\n  return (\r\n    <Card>\r\n      <CardHeader title=\"Customers list\">\r\n        <CardHeaderToolbar>\r\n          <button\r\n            type=\"button\"\r\n            className=\"btn btn-primary\"\r\n            onClick={customersUIProps.newCustomerButtonClick}\r\n          >\r\n            New Customer\r\n          </button>\r\n        </CardHeaderToolbar>\r\n      </CardHeader>\r\n      <CardBody>\r\n        <CustomersFilter />\r\n        {customersUIProps.ids.length > 0 && <CustomersGrouping />}\r\n        <CustomersTable />\r\n      </CardBody>\r\n    </Card>\r\n  );\r\n}\r\n","import React from \"react\";\r\nimport { Route } from \"react-router-dom\";\r\nimport { CustomersLoadingDialog } from \"./customers-loading-dialog/CustomersLoadingDialog\";\r\nimport { CustomerEditDialog } from \"./customer-edit-dialog/CustomerEditDialog\";\r\nimport { CustomerDeleteDialog } from \"./customer-delete-dialog/CustomerDeleteDialog\";\r\nimport { CustomersDeleteDialog } from \"./customers-delete-dialog/CustomersDeleteDialog\";\r\nimport { CustomersFetchDialog } from \"./customers-fetch-dialog/CustomersFetchDialog\";\r\nimport { CustomersUpdateStateDialog } from \"./customers-update-status-dialog/CustomersUpdateStateDialog\";\r\nimport { CustomersUIProvider } from \"./CustomersUIContext\";\r\nimport { CustomersCard } from \"./CustomersCard\";\r\n\r\nexport function CustomersPage({ history }) {\r\n  const customersUIEvents = {\r\n    newCustomerButtonClick: () => {\r\n      history.push(\"/e-commerce/customers/new\");\r\n    },\r\n    openEditCustomerDialog: (id) => {\r\n      history.push(`/e-commerce/customers/${id}/edit`);\r\n    },\r\n    openDeleteCustomerDialog: (id) => {\r\n      history.push(`/e-commerce/customers/${id}/delete`);\r\n    },\r\n    openDeleteCustomersDialog: () => {\r\n      history.push(`/e-commerce/customers/deleteCustomers`);\r\n    },\r\n    openFetchCustomersDialog: () => {\r\n      history.push(`/e-commerce/customers/fetch`);\r\n    },\r\n    openUpdateCustomersStatusDialog: () => {\r\n      history.push(\"/e-commerce/customers/updateStatus\");\r\n    }\r\n  }\r\n\r\n  return (\r\n    <CustomersUIProvider customersUIEvents={customersUIEvents}>\r\n      <CustomersLoadingDialog />\r\n      <Route path=\"/e-commerce/customers/new\">\r\n        {({ history, match }) => (\r\n          <CustomerEditDialog\r\n            show={match != null}\r\n            onHide={() => {\r\n              history.push(\"/e-commerce/customers\");\r\n            }}\r\n          />\r\n        )}\r\n      </Route>\r\n      <Route path=\"/e-commerce/customers/:id/edit\">\r\n        {({ history, match }) => (\r\n          <CustomerEditDialog\r\n            show={match != null}\r\n            id={match && match.params.id}\r\n            onHide={() => {\r\n              history.push(\"/e-commerce/customers\");\r\n            }}\r\n          />\r\n        )}\r\n      </Route>\r\n      <Route path=\"/e-commerce/customers/deleteCustomers\">\r\n        {({ history, match }) => (\r\n          <CustomersDeleteDialog\r\n            show={match != null}\r\n            onHide={() => {\r\n              history.push(\"/e-commerce/customers\");\r\n            }}\r\n          />\r\n        )}\r\n      </Route>\r\n      <Route path=\"/e-commerce/customers/:id/delete\">\r\n        {({ history, match }) => (\r\n          <CustomerDeleteDialog\r\n            show={match != null}\r\n            id={match && match.params.id}\r\n            onHide={() => {\r\n              history.push(\"/e-commerce/customers\");\r\n            }}\r\n          />\r\n        )}\r\n      </Route>\r\n      <Route path=\"/e-commerce/customers/fetch\">\r\n        {({ history, match }) => (\r\n          <CustomersFetchDialog\r\n            show={match != null}\r\n            onHide={() => {\r\n              history.push(\"/e-commerce/customers\");\r\n            }}\r\n          />\r\n        )}\r\n      </Route>\r\n      <Route path=\"/e-commerce/customers/updateStatus\">\r\n        {({ history, match }) => (\r\n          <CustomersUpdateStateDialog\r\n            show={match != null}\r\n            onHide={() => {\r\n              history.push(\"/e-commerce/customers\");\r\n            }}\r\n          />\r\n        )}\r\n      </Route>\r\n      <CustomersCard />\r\n    </CustomersUIProvider>\r\n  );\r\n}\r\n","import React, {useEffect} from \"react\";\r\nimport {shallowEqual, useSelector} from \"react-redux\";\r\nimport {LoadingDialog} from \"../../../../../../_metronic/_partials/controls\";\r\n\r\nexport function ProductsLoadingDialog() {\r\n  const { isLoading } = useSelector(\r\n    state => ({ isLoading: state.products.listLoading }),\r\n    shallowEqual\r\n  );\r\n  useEffect(() => {}, [isLoading]);\r\n  return <LoadingDialog isLoading={isLoading} text=\"Loading ...\" />;\r\n}\r\n","import * as requestFromServer from \"./productsCrud\";\r\nimport {productsSlice, callTypes} from \"./productsSlice\";\r\n\r\nconst {actions} = productsSlice;\r\n\r\nexport const fetchProducts = queryParams => dispatch => {\r\n  dispatch(actions.startCall({ callType: callTypes.list }));\r\n  return requestFromServer\r\n    .findProducts(queryParams)\r\n    .then(response => {\r\n      const { totalCount, entities } = response.data;\r\n      dispatch(actions.productsFetched({ totalCount, entities }));\r\n    })\r\n    .catch(error => {\r\n      error.clientMessage = \"Can't find products\";\r\n      dispatch(actions.catchError({ error, callType: callTypes.list }));\r\n    });\r\n};\r\n\r\nexport const fetchProduct = id => dispatch => {\r\n  if (!id) {\r\n    return dispatch(actions.productFetched({ productForEdit: undefined }));\r\n  }\r\n\r\n  dispatch(actions.startCall({ callType: callTypes.action }));\r\n  return requestFromServer\r\n    .getProductById(id)\r\n    .then(response => {\r\n      const product = response.data;\r\n      dispatch(actions.productFetched({ productForEdit: product }));\r\n    })\r\n    .catch(error => {\r\n      error.clientMessage = \"Can't find product\";\r\n      dispatch(actions.catchError({ error, callType: callTypes.action }));\r\n    });\r\n};\r\n\r\nexport const deleteProduct = id => dispatch => {\r\n  dispatch(actions.startCall({ callType: callTypes.action }));\r\n  return requestFromServer\r\n    .deleteProduct(id)\r\n    .then(response => {\r\n      dispatch(actions.productDeleted({ id }));\r\n    })\r\n    .catch(error => {\r\n      error.clientMessage = \"Can't delete product\";\r\n      dispatch(actions.catchError({ error, callType: callTypes.action }));\r\n    });\r\n};\r\n\r\nexport const createProduct = productForCreation => dispatch => {\r\n  dispatch(actions.startCall({ callType: callTypes.action }));\r\n  return requestFromServer\r\n    .createProduct(productForCreation)\r\n    .then(response => {\r\n      const { product } = response.data;\r\n      dispatch(actions.productCreated({ product }));\r\n    })\r\n    .catch(error => {\r\n      error.clientMessage = \"Can't create product\";\r\n      dispatch(actions.catchError({ error, callType: callTypes.action }));\r\n    });\r\n};\r\n\r\nexport const updateProduct = product => dispatch => {\r\n  dispatch(actions.startCall({ callType: callTypes.action }));\r\n  return requestFromServer\r\n    .updateProduct(product)\r\n    .then(() => {\r\n      dispatch(actions.productUpdated({ product }));\r\n    })\r\n    .catch(error => {\r\n      error.clientMessage = \"Can't update product\";\r\n      dispatch(actions.catchError({ error, callType: callTypes.action }));\r\n    });\r\n};\r\n\r\nexport const updateProductsStatus = (ids, status) => dispatch => {\r\n  dispatch(actions.startCall({ callType: callTypes.action }));\r\n  return requestFromServer\r\n    .updateStatusForProducts(ids, status)\r\n    .then(() => {\r\n      dispatch(actions.productsStatusUpdated({ ids, status }));\r\n    })\r\n    .catch(error => {\r\n      error.clientMessage = \"Can't update products status\";\r\n      dispatch(actions.catchError({ error, callType: callTypes.action }));\r\n    });\r\n};\r\n\r\nexport const deleteProducts = ids => dispatch => {\r\n  dispatch(actions.startCall({ callType: callTypes.action }));\r\n  return requestFromServer\r\n    .deleteProducts(ids)\r\n    .then(() => {\r\n      dispatch(actions.productsDeleted({ ids }));\r\n    })\r\n    .catch(error => {\r\n      error.clientMessage = \"Can't delete products\";\r\n      dispatch(actions.catchError({ error, callType: callTypes.action }));\r\n    });\r\n};\r\n","import axios from \"axios\";\r\n\r\nexport const PRODUCTS_URL = \"products\";\r\n\r\n// CREATE =>  POST: add a new product to the server\r\nexport function createProduct(product) {\r\n  return axios.post(PRODUCTS_URL, { product });\r\n}\r\n\r\n// READ\r\nexport function getAllProducts() {\r\n  return axios.get(PRODUCTS_URL);\r\n}\r\n\r\nexport function getProductById(productId) {\r\n  return axios.get(`${PRODUCTS_URL}/${productId}`);\r\n}\r\n\r\n// Method from server should return QueryResultsModel(items: any[], totalsCount: number)\r\n// items => filtered/sorted result\r\nexport function findProducts(queryParams) {\r\n  return axios.post(`${PRODUCTS_URL}/find`, { queryParams });\r\n}\r\n\r\n// UPDATE => PUT: update the procuct on the server\r\nexport function updateProduct(product) {\r\n  return axios.put(`${PRODUCTS_URL}/${product.id}`, { product });\r\n}\r\n\r\n// UPDATE Status\r\nexport function updateStatusForProducts(ids, status) {\r\n  return axios.post(`${PRODUCTS_URL}/updateStatusForProducts`, {\r\n    ids,\r\n    status\r\n  });\r\n}\r\n\r\n// DELETE => delete the product from the server\r\nexport function deleteProduct(productId) {\r\n  return axios.delete(`${PRODUCTS_URL}/${productId}`);\r\n}\r\n\r\n// DELETE Products by ids\r\nexport function deleteProducts(ids) {\r\n  return axios.post(`${PRODUCTS_URL}/deleteProducts`, { ids });\r\n}\r\n","export const ProductStatusCssClasses = [\"success\", \"info\", \"\"];\r\nexport const ProductStatusTitles = [\"Selling\", \"Sold\"];\r\nexport const ProductConditionCssClasses = [\"success\", \"danger\", \"\"];\r\nexport const ProductConditionTitles = [\"New\", \"Used\"];\r\nexport const defaultSorted = [{ dataField: \"id\", order: \"asc\" }];\r\nexport const sizePerPageList = [\r\n  { text: \"3\", value: 3 },\r\n  { text: \"5\", value: 5 },\r\n  { text: \"10\", value: 10 }\r\n];\r\nexport const initialFilter = {\r\n  filter: {\r\n    model: \"\",\r\n    manufacture: \"\",\r\n    VINCode: \"\"\r\n  },\r\n  sortOrder: \"asc\", // asc||desc\r\n  sortField: \"VINCode\",\r\n  pageNumber: 1,\r\n  pageSize: 10\r\n};\r\nexport const AVAILABLE_COLORS = [\r\n  \"Red\",\r\n  \"CadetBlue\",\r\n  \"Eagle\",\r\n  \"Gold\",\r\n  \"LightSlateGrey\",\r\n  \"RoyalBlue\",\r\n  \"Crimson\",\r\n  \"Blue\",\r\n  \"Sienna\",\r\n  \"Indigo\",\r\n  \"Green\",\r\n  \"Violet\",\r\n  \"GoldenRod\",\r\n  \"OrangeRed\",\r\n  \"Khaki\",\r\n  \"Teal\",\r\n  \"Purple\",\r\n  \"Orange\",\r\n  \"Pink\",\r\n  \"Black\",\r\n  \"DarkTurquoise\"\r\n];\r\n\r\nexport const AVAILABLE_MANUFACTURES = [\r\n  \"Pontiac\",\r\n  \"Kia\",\r\n  \"Lotus\",\r\n  \"Subaru\",\r\n  \"Jeep\",\r\n  \"Isuzu\",\r\n  \"Mitsubishi\",\r\n  \"Oldsmobile\",\r\n  \"Chevrolet\",\r\n  \"Chrysler\",\r\n  \"Audi\",\r\n  \"Suzuki\",\r\n  \"GMC\",\r\n  \"Cadillac\",\r\n  \"Infinity\",\r\n  \"Mercury\",\r\n  \"Dodge\",\r\n  \"Ram\",\r\n  \"Lexus\",\r\n  \"Lamborghini\",\r\n  \"Honda\",\r\n  \"Nissan\",\r\n  \"Ford\",\r\n  \"Hyundai\",\r\n  \"Saab\",\r\n  \"Toyota\"\r\n];\r\n","import React, { createContext, useContext, useState, useCallback } from \"react\";\r\nimport { isEqual, isFunction } from \"lodash\";\r\nimport { initialFilter } from \"./ProductsUIHelpers\";\r\n\r\nconst ProductsUIContext = createContext();\r\n\r\nexport function useProductsUIContext() {\r\n  return useContext(ProductsUIContext);\r\n}\r\n\r\nexport const ProductsUIConsumer = ProductsUIContext.Consumer;\r\n\r\nexport function ProductsUIProvider({ productsUIEvents, children }) {\r\n  const [queryParams, setQueryParamsBase] = useState(initialFilter);\r\n  const [ids, setIds] = useState([]);\r\n  const setQueryParams = useCallback((nextQueryParams) => {\r\n    setQueryParamsBase((prevQueryParams) => {\r\n      if (isFunction(nextQueryParams)) {\r\n        nextQueryParams = nextQueryParams(prevQueryParams);\r\n      }\r\n\r\n      if (isEqual(prevQueryParams, nextQueryParams)) {\r\n        return prevQueryParams;\r\n      }\r\n\r\n      return nextQueryParams;\r\n    });\r\n  }, []);\r\n\r\n  const value = {\r\n    queryParams,\r\n    setQueryParamsBase,\r\n    ids,\r\n    setIds,\r\n    setQueryParams,\r\n    newProductButtonClick: productsUIEvents.newProductButtonClick,\r\n    openEditProductPage: productsUIEvents.openEditProductPage,\r\n    openDeleteProductDialog: productsUIEvents.openDeleteProductDialog,\r\n    openDeleteProductsDialog: productsUIEvents.openDeleteProductsDialog,\r\n    openFetchProductsDialog: productsUIEvents.openFetchProductsDialog,\r\n    openUpdateProductsStatusDialog:\r\n      productsUIEvents.openUpdateProductsStatusDialog,\r\n  };\r\n\r\n  return (\r\n    <ProductsUIContext.Provider value={value}>\r\n      {children}\r\n    </ProductsUIContext.Provider>\r\n  );\r\n}\r\n","/* eslint-disable no-restricted-imports */\r\nimport React, { useEffect, useMemo } from \"react\";\r\nimport { Modal } from \"react-bootstrap\";\r\nimport { shallowEqual, useDispatch, useSelector } from \"react-redux\";\r\nimport { ModalProgressBar } from \"../../../../../../_metronic/_partials/controls\";\r\nimport * as actions from \"../../../_redux/products/productsActions\";\r\nimport { useProductsUIContext } from \"../ProductsUIContext\";\r\n\r\nexport function ProductDeleteDialog({ id, show, onHide }) {\r\n  // Products UI Context\r\n  const productsUIContext = useProductsUIContext();\r\n  const productsUIProps = useMemo(() => {\r\n    return {\r\n      setIds: productsUIContext.setIds,\r\n      queryParams: productsUIContext.queryParams,\r\n    };\r\n  }, [productsUIContext]);\r\n\r\n  // Products Redux state\r\n  const dispatch = useDispatch();\r\n  const { isLoading } = useSelector(\r\n    (state) => ({ isLoading: state.products.actionsLoading }),\r\n    shallowEqual\r\n  );\r\n\r\n  // if !id we should close modal\r\n  useEffect(() => {\r\n    if (!id) {\r\n      onHide();\r\n    }\r\n    // eslint-disable-next-line react-hooks/exhaustive-deps\r\n  }, [id]);\r\n\r\n  // looking for loading/dispatch\r\n  useEffect(() => {}, [isLoading, dispatch]);\r\n\r\n  const deleteProduct = () => {\r\n    // server request for deleting product by id\r\n    dispatch(actions.deleteProduct(id)).then(() => {\r\n      // refresh list after deletion\r\n      dispatch(actions.fetchProducts(productsUIProps.queryParams));\r\n      // clear selections list\r\n      productsUIProps.setIds([]);\r\n      // closing delete modal\r\n      onHide();\r\n    });\r\n  };\r\n\r\n  return (\r\n    <Modal\r\n      show={show}\r\n      onHide={onHide}\r\n      aria-labelledby=\"example-modal-sizes-title-lg\"\r\n    >\r\n      {isLoading && <ModalProgressBar variant=\"query\" />}\r\n      <Modal.Header closeButton>\r\n        <Modal.Title id=\"example-modal-sizes-title-lg\">\r\n          Product Delete\r\n        </Modal.Title>\r\n      </Modal.Header>\r\n      <Modal.Body>\r\n        {!isLoading && (\r\n          <span>Are you sure to permanently delete this product?</span>\r\n        )}\r\n        {isLoading && <span>Product is deleting...</span>}\r\n      </Modal.Body>\r\n      <Modal.Footer>\r\n        <div>\r\n          <button\r\n            type=\"button\"\r\n            onClick={onHide}\r\n            className=\"btn btn-light btn-elevate\"\r\n          >\r\n            Cancel\r\n          </button>\r\n          <> </>\r\n          <button\r\n            type=\"button\"\r\n            onClick={deleteProduct}\r\n            className=\"btn btn-primary btn-elevate\"\r\n          >\r\n            Delete\r\n          </button>\r\n        </div>\r\n      </Modal.Footer>\r\n    </Modal>\r\n  );\r\n}\r\n","/* eslint-disable no-restricted-imports */\r\nimport React, { useEffect, useMemo } from \"react\";\r\nimport { Modal } from \"react-bootstrap\";\r\nimport { shallowEqual, useDispatch, useSelector } from \"react-redux\";\r\nimport { ModalProgressBar } from \"../../../../../../_metronic/_partials/controls\";\r\nimport * as actions from \"../../../_redux/products/productsActions\";\r\nimport { useProductsUIContext } from \"../ProductsUIContext\";\r\n\r\nexport function ProductsDeleteDialog({ show, onHide }) {\r\n  // Products UI Context\r\n  const productsUIContext = useProductsUIContext();\r\n  const productsUIProps = useMemo(() => {\r\n    return {\r\n      ids: productsUIContext.ids,\r\n      setIds: productsUIContext.setIds,\r\n      queryParams: productsUIContext.queryParams,\r\n    };\r\n  }, [productsUIContext]);\r\n\r\n  // Products Redux state\r\n  const dispatch = useDispatch();\r\n  const { isLoading } = useSelector(\r\n    (state) => ({ isLoading: state.products.actionsLoading }),\r\n    shallowEqual\r\n  );\r\n\r\n  // looking for loading/dispatch\r\n  useEffect(() => {}, [isLoading, dispatch]);\r\n\r\n  // if there weren't selected products we should close modal\r\n  useEffect(() => {\r\n    if (!productsUIProps.ids || productsUIProps.ids.length === 0) {\r\n      onHide();\r\n    }\r\n    // eslint-disable-next-line react-hooks/exhaustive-deps\r\n  }, [productsUIProps.ids]);\r\n\r\n  const deleteProducts = () => {\r\n    // server request for deleting product by seleted ids\r\n    dispatch(actions.deleteProducts(productsUIProps.ids)).then(() => {\r\n      // refresh list after deletion\r\n      dispatch(actions.fetchProducts(productsUIProps.queryParams)).then(() => {\r\n        // clear selections list\r\n        productsUIProps.setIds([]);\r\n        // closing delete modal\r\n        onHide();\r\n      });\r\n    });\r\n  };\r\n\r\n  return (\r\n    <Modal\r\n      show={show}\r\n      onHide={onHide}\r\n      aria-labelledby=\"example-modal-sizes-title-lg\"\r\n    >\r\n      {isLoading && <ModalProgressBar />}\r\n      <Modal.Header closeButton>\r\n        <Modal.Title id=\"example-modal-sizes-title-lg\">\r\n          Products Delete\r\n        </Modal.Title>\r\n      </Modal.Header>\r\n      <Modal.Body>\r\n        {!isLoading && (\r\n          <span>Are you sure to permanently delete selected products?</span>\r\n        )}\r\n        {isLoading && <span>Products are deleting...</span>}\r\n      </Modal.Body>\r\n      <Modal.Footer>\r\n        <div>\r\n          <button\r\n            type=\"button\"\r\n            onClick={onHide}\r\n            className=\"btn btn-light btn-elevate\"\r\n          >\r\n            Cancel\r\n          </button>\r\n          <> </>\r\n          <button\r\n            type=\"button\"\r\n            onClick={deleteProducts}\r\n            className=\"btn btn-primary btn-elevate\"\r\n          >\r\n            Delete\r\n          </button>\r\n        </div>\r\n      </Modal.Footer>\r\n    </Modal>\r\n  );\r\n}\r\n","import React, { useEffect, useMemo } from \"react\";\r\nimport { Modal } from \"react-bootstrap\";\r\nimport { shallowEqual, useSelector } from \"react-redux\";\r\nimport { ProductStatusCssClasses } from \"../ProductsUIHelpers\";\r\nimport { useProductsUIContext } from \"../ProductsUIContext\";\r\n\r\nconst selectedProducts = (entities, ids) => {\r\n  const _products = [];\r\n  ids.forEach((id) => {\r\n    const product = entities.find((el) => el.id === id);\r\n    if (product) {\r\n      _products.push(product);\r\n    }\r\n  });\r\n  return _products;\r\n};\r\n\r\nexport function ProductsFetchDialog({ show, onHide }) {\r\n  // Products UI Context\r\n  const productsUIContext = useProductsUIContext();\r\n  const productsUIProps = useMemo(() => {\r\n    return {\r\n      ids: productsUIContext.ids,\r\n      queryParams: productsUIContext.queryParams,\r\n    };\r\n  }, [productsUIContext]);\r\n\r\n  // Products Redux state\r\n  const { products } = useSelector(\r\n    (state) => ({\r\n      products: selectedProducts(state.products.entities, productsUIProps.ids),\r\n    }),\r\n    shallowEqual\r\n  );\r\n\r\n  // if there weren't selected ids we should close modal\r\n  useEffect(() => {\r\n    if (!productsUIProps.ids || productsUIProps.ids.length === 0) {\r\n      onHide();\r\n    }\r\n    // eslint-disable-next-line react-hooks/exhaustive-deps\r\n  }, [productsUIProps.ids]);\r\n\r\n  return (\r\n    <Modal\r\n      show={show}\r\n      onHide={onHide}\r\n      aria-labelledby=\"example-modal-sizes-title-lg\"\r\n    >\r\n      <Modal.Header closeButton>\r\n        <Modal.Title id=\"example-modal-sizes-title-lg\">\r\n          Fetch selected elements\r\n        </Modal.Title>\r\n      </Modal.Header>\r\n      <Modal.Body>\r\n        <div className=\"list-timeline list-timeline-skin-light padding-30\">\r\n          <div className=\"list-timeline-items\">\r\n            {products.map((product) => (\r\n              <div className=\"list-timeline-item mb-3\" key={product.id}>\r\n                <span className=\"list-timeline-text\">\r\n                  <span\r\n                    className={`label label-lg label-light-${\r\n                      ProductStatusCssClasses[product.status]\r\n                    } label-inline`}\r\n                    style={{ width: \"60px\" }}\r\n                  >\r\n                    ID: {product.id}\r\n                  </span>{\" \"}\r\n                  <span className=\"ml-5\">\r\n                    {product.manufacture}, {product.model}\r\n                  </span>\r\n                </span>\r\n              </div>\r\n            ))}\r\n          </div>\r\n        </div>\r\n      </Modal.Body>\r\n      <Modal.Footer>\r\n        <div>\r\n          <button\r\n            type=\"button\"\r\n            onClick={onHide}\r\n            className=\"btn btn-light btn-elevate\"\r\n          >\r\n            Cancel\r\n          </button>\r\n          <> </>\r\n          <button\r\n            type=\"button\"\r\n            onClick={onHide}\r\n            className=\"btn btn-primary btn-elevate\"\r\n          >\r\n            Ok\r\n          </button>\r\n        </div>\r\n      </Modal.Footer>\r\n    </Modal>\r\n  );\r\n}\r\n","import React, { useEffect, useState, useMemo } from \"react\";\r\nimport { Modal } from \"react-bootstrap\";\r\nimport { shallowEqual, useDispatch, useSelector } from \"react-redux\";\r\nimport { ProductStatusCssClasses } from \"../ProductsUIHelpers\";\r\nimport * as actions from \"../../../_redux/products/productsActions\";\r\nimport { useProductsUIContext } from \"../ProductsUIContext\";\r\n\r\nconst selectedProducts = (entities, ids) => {\r\n  const _products = [];\r\n  ids.forEach((id) => {\r\n    const product = entities.find((el) => el.id === id);\r\n    if (product) {\r\n      _products.push(product);\r\n    }\r\n  });\r\n  return _products;\r\n};\r\n\r\nexport function ProductsUpdateStatusDialog({ show, onHide }) {\r\n  // Products UI Context\r\n  const productsUIContext = useProductsUIContext();\r\n  const productsUIProps = useMemo(() => {\r\n    return {\r\n      ids: productsUIContext.ids,\r\n      setIds: productsUIContext.setIds,\r\n      queryParams: productsUIContext.queryParams,\r\n    };\r\n  }, [productsUIContext]);\r\n\r\n  // Products Redux state\r\n  const { products, isLoading } = useSelector(\r\n    (state) => ({\r\n      products: selectedProducts(state.products.entities, productsUIProps.ids),\r\n      isLoading: state.products.actionsLoading,\r\n    }),\r\n    shallowEqual\r\n  );\r\n\r\n  // if there weren't selected products we should close modal\r\n  useEffect(() => {\r\n    if (productsUIProps.ids || productsUIProps.ids.length === 0) {\r\n      onHide();\r\n    }\r\n    // eslint-disable-next-line react-hooks/exhaustive-deps\r\n  }, [productsUIProps.ids]);\r\n\r\n  const [status, setStatus] = useState(0);\r\n\r\n  const dispatch = useDispatch();\r\n  const updateStatus = () => {\r\n    // server request for updateing product by ids\r\n    dispatch(actions.updateProductsStatus(productsUIProps.ids, status)).then(\r\n      () => {\r\n        // refresh list after deletion\r\n        dispatch(actions.fetchProducts(productsUIProps.queryParams)).then(\r\n          () => {\r\n            // clear selections list\r\n            productsUIProps.setIds([]);\r\n            // closing delete modal\r\n            onHide();\r\n          }\r\n        );\r\n      }\r\n    );\r\n  };\r\n\r\n  return (\r\n    <Modal\r\n      show={show}\r\n      onHide={onHide}\r\n      aria-labelledby=\"example-modal-sizes-title-lg\"\r\n    >\r\n      <Modal.Header closeButton>\r\n        <Modal.Title id=\"example-modal-sizes-title-lg\">\r\n          Status has been updated for selected products\r\n        </Modal.Title>\r\n      </Modal.Header>\r\n      <Modal.Body className=\"overlay overlay-block cursor-default\">\r\n        {isLoading && (\r\n          <div className=\"overlay-layer bg-transparent\">\r\n            <div className=\"spinner spinner-lg spinner-warning\" />\r\n          </div>\r\n        )}\r\n        <div className=\"list-timeline list-timeline-skin-light padding-30\">\r\n          <div className=\"list-timeline-items\">\r\n            {products.map((product) => (\r\n              <div className=\"list-timeline-item mb-3\" key={product.id}>\r\n                <span className=\"list-timeline-text\">\r\n                  <span\r\n                    className={`label label-lg label-light-${\r\n                      ProductStatusCssClasses[product.status]\r\n                    } label-inline`}\r\n                    style={{ width: \"60px\" }}\r\n                  >\r\n                    ID: {product.id}\r\n                  </span>{\" \"}\r\n                  <span className=\"ml-5\">\r\n                    {product.manufacture}, {product.model}\r\n                  </span>\r\n                </span>\r\n              </div>\r\n            ))}\r\n          </div>\r\n        </div>\r\n      </Modal.Body>\r\n      <Modal.Footer className=\"form\">\r\n        <div className=\"form-group\">\r\n          <select\r\n            className={`form-control ${ProductStatusCssClasses[status]}`}\r\n            value={status}\r\n            onChange={(e) => setStatus(+e.target.value)}\r\n          >\r\n            <option value=\"0\">Selling</option>\r\n            <option value=\"1\">Sold</option>\r\n          </select>\r\n        </div>\r\n        <div className=\"form-group\">\r\n          <button\r\n            type=\"button\"\r\n            onClick={onHide}\r\n            className=\"btn btn-light btn-elevate\"\r\n          >\r\n            Cancel\r\n          </button>\r\n          <> </>\r\n          <button\r\n            type=\"button\"\r\n            onClick={updateStatus}\r\n            className=\"btn btn-primary btn-elevate\"\r\n          >\r\n            Update Status\r\n          </button>\r\n        </div>\r\n      </Modal.Footer>\r\n    </Modal>\r\n  );\r\n}\r\n","import React, { useMemo } from \"react\";\r\nimport { Formik } from \"formik\";\r\nimport { isEqual } from \"lodash\";\r\nimport { useProductsUIContext } from \"../ProductsUIContext\";\r\n\r\nconst prepareFilter = (queryParams, values) => {\r\n  const { status, condition, searchText } = values;\r\n  const newQueryParams = { ...queryParams };\r\n  const filter = {};\r\n  // Filter by status\r\n  filter.status = status !== \"\" ? +status : undefined;\r\n  // Filter by condition\r\n  filter.condition = condition !== \"\" ? +condition : undefined;\r\n  // Filter by all fields\r\n  filter.model = searchText;\r\n  if (searchText) {\r\n    filter.manufacture = searchText;\r\n    filter.VINCode = searchText;\r\n  }\r\n  newQueryParams.filter = filter;\r\n  return newQueryParams;\r\n};\r\n\r\nexport function ProductsFilter({ listLoading }) {\r\n  // Products UI Context\r\n  const productsUIContext = useProductsUIContext();\r\n  const productsUIProps = useMemo(() => {\r\n    return {\r\n      setQueryParams: productsUIContext.setQueryParams,\r\n      queryParams: productsUIContext.queryParams,\r\n    };\r\n  }, [productsUIContext]);\r\n\r\n  const applyFilter = (values) => {\r\n    const newQueryParams = prepareFilter(productsUIProps.queryParams, values);\r\n    if (!isEqual(newQueryParams, productsUIProps.queryParams)) {\r\n      newQueryParams.pageNumber = 1;\r\n      productsUIProps.setQueryParams(newQueryParams);\r\n    }\r\n  };\r\n\r\n  return (\r\n    <>\r\n      <Formik\r\n        initialValues={{\r\n          status: \"\", // values => All=\"\"/Selling=0/Sold=1\r\n          condition: \"\", // values => All=\"\"/New=0/Used=1\r\n          searchText: \"\",\r\n        }}\r\n        onSubmit={(values) => {\r\n          applyFilter(values);\r\n        }}\r\n      >\r\n        {({\r\n          values,\r\n          handleSubmit,\r\n          handleBlur,\r\n          handleChange,\r\n          setFieldValue,\r\n        }) => (\r\n          <form onSubmit={handleSubmit} className=\"form form-label-right\">\r\n            <div className=\"form-group row\">\r\n              <div className=\"col-lg-2\">\r\n                <select\r\n                  className=\"form-control\"\r\n                  name=\"status\"\r\n                  placeholder=\"Filter by Status\"\r\n                  onChange={(e) => {\r\n                    setFieldValue(\"status\", e.target.value);\r\n                    handleSubmit();\r\n                  }}\r\n                  onBlur={handleBlur}\r\n                  value={values.status}\r\n                >\r\n                  <option value=\"\">All</option>\r\n                  <option value=\"0\">Selling</option>\r\n                  <option value=\"1\">Sold</option>\r\n                </select>\r\n                <small className=\"form-text text-muted\">\r\n                  <b>Filter</b> by Status\r\n                </small>\r\n              </div>\r\n              <div className=\"col-lg-2\">\r\n                <select\r\n                  className=\"form-control\"\r\n                  placeholder=\"Filter by Type\"\r\n                  name=\"condition\"\r\n                  onBlur={handleBlur}\r\n                  onChange={(e) => {\r\n                    setFieldValue(\"condition\", e.target.value);\r\n                    handleSubmit();\r\n                  }}\r\n                  value={values.condition}\r\n                >\r\n                  <option value=\"\">All</option>\r\n                  <option value=\"0\">New</option>\r\n                  <option value=\"1\">Used</option>\r\n                </select>\r\n                <small className=\"form-text text-muted\">\r\n                  <b>Filter</b> by Condition\r\n                </small>\r\n              </div>\r\n              <div className=\"col-lg-2\">\r\n                <input\r\n                  type=\"text\"\r\n                  className=\"form-control\"\r\n                  name=\"searchText\"\r\n                  placeholder=\"Search\"\r\n                  onBlur={handleBlur}\r\n                  value={values.searchText}\r\n                  onChange={(e) => {\r\n                    setFieldValue(\"searchText\", e.target.value);\r\n                    handleSubmit();\r\n                  }}\r\n                />\r\n                <small className=\"form-text text-muted\">\r\n                  <b>Search</b> in all fields\r\n                </small>\r\n              </div>\r\n            </div>\r\n          </form>\r\n        )}\r\n      </Formik>\r\n    </>\r\n  );\r\n}\r\n","import React from \"react\";\r\nimport {\r\n  ProductStatusCssClasses,\r\n  ProductStatusTitles\r\n} from \"../../ProductsUIHelpers\";\r\n\r\nexport const StatusColumnFormatter = (cellContent, row) => (\r\n  <span\r\n    className={`label label-lg label-light-${\r\n      ProductStatusCssClasses[row.status]\r\n    } label-inline`}\r\n  >\r\n    {ProductStatusTitles[row.status]}\r\n  </span>\r\n);\r\n","import React from \"react\";\r\nimport {\r\n  ProductConditionCssClasses,\r\n  ProductConditionTitles\r\n} from \"../../ProductsUIHelpers\";\r\n\r\nexport const ConditionColumnFormatter = (cellContent, row) => (\r\n  <>\r\n    <span\r\n      className={`badge badge-${\r\n        ProductConditionCssClasses[row.condition]\r\n      } badge-dot`}\r\n    ></span>\r\n    &nbsp;\r\n    <span\r\n      className={`font-bold font-${\r\n        ProductConditionCssClasses[row.condition]\r\n      }`}\r\n    >\r\n      {ProductConditionTitles[row.condition]}\r\n    </span>\r\n  </>\r\n);\r\n","import React from \"react\";\r\n\r\nexport const ColorColumnFormatter = (cellContent, row) => (\r\n  <span style={{ color: row.color }}>{row.color}</span>\r\n);\r\n","import React from \"react\";\r\nimport Currency from 'react-currency-formatter';\r\n\r\nexport const PriceColumnFormatter = (cellContent, row) => <>{formatMyMoney(row.price)}</>;\r\nfunction formatMyMoney(price) {\r\n  \r\n    var currency_symbol = \"\"\r\n  \r\n    var formattedOutput = new Intl.NumberFormat('tr-TR', {\r\n        style: 'currency',\r\n        currency: 'TRY',\r\n        minimumFractionDigits: 2,\r\n      });\r\n  \r\n    return formattedOutput.format(price).replace(currency_symbol, '')\r\n  }","/* eslint-disable no-script-url,jsx-a11y/anchor-is-valid */\r\nimport React from \"react\";\r\nimport { OverlayTrigger, Tooltip } from \"react-bootstrap\";\r\nimport SVG from \"react-inlinesvg\";\r\nimport { toAbsoluteUrl } from \"../../../../../../../_metronic/_helpers\";\r\n\r\nexport const ActionsColumnFormatter = (\r\n  cellContent,\r\n  row,\r\n  rowIndex,\r\n  { openEditProductPage, openDeleteProductDialog }\r\n) => (\r\n  <>\r\n    <OverlayTrigger\r\n      overlay={<Tooltip id=\"products-edit-tooltip\">Edit product</Tooltip>}\r\n    >\r\n      <a\r\n        className=\"btn btn-icon btn-light btn-hover-primary btn-sm mx-3\"\r\n        onClick={() => openEditProductPage(row.id)}\r\n      >\r\n        <span className=\"svg-icon svg-icon-md svg-icon-primary\">\r\n          <SVG\r\n            src={toAbsoluteUrl(\"/media/svg/icons/Communication/Write.svg\")}\r\n          />\r\n        </span>\r\n      </a>\r\n    </OverlayTrigger>\r\n\r\n    <> </>\r\n    <OverlayTrigger\r\n      overlay={<Tooltip id=\"products-delete-tooltip\">Delete product</Tooltip>}\r\n    >\r\n      <a\r\n        className=\"btn btn-icon btn-light btn-hover-danger btn-sm\"\r\n        onClick={() => openDeleteProductDialog(row.id)}\r\n      >\r\n        <span className=\"svg-icon svg-icon-md svg-icon-danger\">\r\n          <SVG src={toAbsoluteUrl(\"/media/svg/icons/General/Trash.svg\")} />\r\n        </span>\r\n      </a>\r\n    </OverlayTrigger>\r\n  </>\r\n);\r\n","// React bootstrap table next =>\r\n// DOCS: https://react-bootstrap-table.github.io/react-bootstrap-table2/docs/\r\n// STORYBOOK: https://react-bootstrap-table.github.io/react-bootstrap-table2/storybook/index.html\r\nimport React, { useEffect, useMemo } from \"react\";\r\nimport BootstrapTable from \"react-bootstrap-table-next\";\r\nimport paginationFactory, {\r\n  PaginationProvider,\r\n} from \"react-bootstrap-table2-paginator\";\r\nimport { shallowEqual, useDispatch, useSelector } from \"react-redux\";\r\nimport * as actions from \"../../../_redux/products/productsActions\";\r\nimport * as uiHelpers from \"../ProductsUIHelpers\";\r\nimport {\r\n  getSelectRow,\r\n  getHandlerTableChange,\r\n  NoRecordsFoundMessage,\r\n  PleaseWaitMessage,\r\n  sortCaret,\r\n} from \"../../../../../../_metronic/_helpers\";\r\nimport * as columnFormatters from \"./column-formatters\";\r\nimport { Pagination } from \"../../../../../../_metronic/_partials/controls\";\r\nimport { useProductsUIContext } from \"../ProductsUIContext\";\r\n\r\nexport function ProductsTable() {\r\n  // Products UI Context\r\n  const productsUIContext = useProductsUIContext();\r\n  const productsUIProps = useMemo(() => {\r\n    return {\r\n      ids: productsUIContext.ids,\r\n      setIds: productsUIContext.setIds,\r\n      queryParams: productsUIContext.queryParams,\r\n      setQueryParams: productsUIContext.setQueryParams,\r\n      openEditProductPage: productsUIContext.openEditProductPage,\r\n      openDeleteProductDialog: productsUIContext.openDeleteProductDialog,\r\n    };\r\n  }, [productsUIContext]);\r\n\r\n  // Getting curret state of products list from store (Redux)\r\n  const { currentState } = useSelector(\r\n    (state) => ({ currentState: state.products }),\r\n    shallowEqual\r\n  );\r\n  const { totalCount, entities, listLoading } = currentState;\r\n  // Products Redux state\r\n  const dispatch = useDispatch();\r\n  useEffect(() => {\r\n    // clear selections list\r\n    productsUIProps.setIds([]);\r\n    // server call by queryParams\r\n    dispatch(actions.fetchProducts(productsUIProps.queryParams));\r\n    // eslint-disable-next-line react-hooks/exhaustive-deps\r\n  }, [productsUIProps.queryParams, dispatch]);\r\n  // Table columns\r\n  const columns = [\r\n    {\r\n      dataField: \"VINCode\",\r\n      text: \"VIN Code (ID)\",\r\n      sort: true,\r\n      sortCaret: sortCaret,\r\n    },\r\n    {\r\n      dataField: \"manufacture\",\r\n      text: \"Manufacture\",\r\n      sort: true,\r\n      sortCaret: sortCaret,\r\n    },\r\n    {\r\n      dataField: \"model\",\r\n      text: \"Model\",\r\n      sort: true,\r\n      sortCaret: sortCaret,\r\n    },\r\n    {\r\n      dataField: \"modelYear\",\r\n      text: \"Model Year\",\r\n      sort: true,\r\n      sortCaret: sortCaret,\r\n    },\r\n    {\r\n      dataField: \"color\",\r\n      text: \"Color\",\r\n      sort: true,\r\n      sortCaret: sortCaret,\r\n      formatter: columnFormatters.ColorColumnFormatter,\r\n    },\r\n    {\r\n      dataField: \"price\",\r\n      text: \"Price\",\r\n      sort: true,\r\n      sortCaret: sortCaret,\r\n      formatter: columnFormatters.PriceColumnFormatter,\r\n    },\r\n    {\r\n      dataField: \"status\",\r\n      text: \"Status\",\r\n      sort: true,\r\n      sortCaret: sortCaret,\r\n      formatter: columnFormatters.StatusColumnFormatter,\r\n    },\r\n    {\r\n      dataField: \"condition\",\r\n      text: \"Condition\",\r\n      sort: true,\r\n      sortCaret: sortCaret,\r\n      formatter: columnFormatters.ConditionColumnFormatter,\r\n    },\r\n    {\r\n      dataField: \"action\",\r\n      text: \"Actions\",\r\n      formatter: columnFormatters.ActionsColumnFormatter,\r\n      formatExtraData: {\r\n        openEditProductPage: productsUIProps.openEditProductPage,\r\n        openDeleteProductDialog: productsUIProps.openDeleteProductDialog,\r\n      },\r\n      classes: \"text-right p-0\",\r\n      headerClasses: \"text-right pr-3\",\r\n      style: {\r\n        minWidth: \"100px\",\r\n      },\r\n    },\r\n  ];\r\n  // Table pagination properties\r\n  const paginationOptions = {\r\n    custom: true,\r\n    totalSize: totalCount,\r\n    sizePerPageList: uiHelpers.sizePerPageList,\r\n    sizePerPage: productsUIProps.queryParams.pageSize,\r\n    page: productsUIProps.queryParams.pageNumber,\r\n  };\r\n  return (\r\n    <>\r\n      <PaginationProvider pagination={paginationFactory(paginationOptions)}>\r\n        {({ paginationProps, paginationTableProps }) => {\r\n          return (\r\n            <Pagination\r\n              isLoading={listLoading}\r\n              paginationProps={paginationProps}\r\n            >\r\n              <BootstrapTable\r\n                wrapperClasses=\"table-responsive\"\r\n                classes=\"table table-head-custom table-vertical-center overflow-hidden\"\r\n                bootstrap4\r\n                bordered={false}\r\n                remote\r\n                keyField=\"id\"\r\n                data={entities === null ? [] : entities}\r\n                columns={columns}\r\n                defaultSorted={uiHelpers.defaultSorted}\r\n                onTableChange={getHandlerTableChange(\r\n                  productsUIProps.setQueryParams\r\n                )}\r\n                selectRow={getSelectRow({\r\n                  entities,\r\n                  ids: productsUIProps.ids,\r\n                  setIds: productsUIProps.setIds,\r\n                })}\r\n                {...paginationTableProps}\r\n              >\r\n                <PleaseWaitMessage entities={entities} />\r\n                <NoRecordsFoundMessage entities={entities} />\r\n              </BootstrapTable>\r\n            </Pagination>\r\n          );\r\n        }}\r\n      </PaginationProvider>\r\n    </>\r\n  );\r\n}\r\n","import React, { useMemo } from \"react\";\r\nimport { useProductsUIContext } from \"../ProductsUIContext\";\r\n\r\nexport function ProductsGrouping() {\r\n  // Products UI Context\r\n  const productsUIContext = useProductsUIContext();\r\n  const productsUIProps = useMemo(() => {\r\n    return {\r\n      ids: productsUIContext.ids,\r\n      setIds: productsUIContext.setIds,\r\n      openDeleteProductsDialog: productsUIContext.openDeleteProductsDialog,\r\n      openFetchProductsDialog: productsUIContext.openFetchProductsDialog,\r\n      openUpdateProductsStatusDialog:\r\n        productsUIContext.openUpdateProductsStatusDialog,\r\n    };\r\n  }, [productsUIContext]);\r\n\r\n  return (\r\n    <div className=\"form\">\r\n      <div className=\"row align-items-center form-group-actions margin-top-20 margin-bottom-20\">\r\n        <div className=\"col-xl-12\">\r\n          <div className=\"form-group form-group-inline\">\r\n            <div className=\"form-label form-label-no-wrap\">\r\n              <label className=\"-font-bold font-danger-\">\r\n                <span>\r\n                  Selected records count: <b>{productsUIProps.ids.length}</b>\r\n                </span>\r\n              </label>\r\n            </div>\r\n            <div>\r\n              <button\r\n                type=\"button\"\r\n                className=\"btn btn-danger font-weight-bolder font-size-sm\"\r\n                onClick={productsUIProps.openDeleteProductsDialog}\r\n              >\r\n                <i className=\"fa fa-trash\"></i> Delete All\r\n              </button>\r\n              &nbsp;\r\n              <button\r\n                type=\"button\"\r\n                className=\"btn btn-light-primary font-weight-bolder font-size-sm\"\r\n                onClick={productsUIProps.openFetchProductsDialog}\r\n              >\r\n                <i className=\"fa fa-stream\"></i> Fetch Selected\r\n              </button>\r\n              &nbsp;\r\n              <button\r\n                type=\"button\"\r\n                className=\"btn btn-light-primary font-weight-bolder font-size-sm\"\r\n                onClick={productsUIProps.openUpdateProductsStatusDialog}\r\n              >\r\n                <i className=\"fa fa-sync-alt\"></i> Update Status\r\n              </button>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n","import React, {useMemo} from \"react\";\r\nimport {\r\n  Card,\r\n  CardBody,\r\n  CardHeader,\r\n  CardHeaderToolbar,\r\n} from \"../../../../../_metronic/_partials/controls\";\r\nimport { ProductsFilter } from \"./products-filter/ProductsFilter\";\r\nimport { ProductsTable } from \"./products-table/ProductsTable\";\r\nimport { ProductsGrouping } from \"./products-grouping/ProductsGrouping\";\r\nimport { useProductsUIContext } from \"./ProductsUIContext\";\r\n\r\nexport function ProductsCard() {\r\n  const productsUIContext = useProductsUIContext();\r\n  const productsUIProps = useMemo(() => {\r\n    return {\r\n      ids: productsUIContext.ids,\r\n      queryParams: productsUIContext.queryParams,\r\n      setQueryParams: productsUIContext.setQueryParams,\r\n      newProductButtonClick: productsUIContext.newProductButtonClick,\r\n      openDeleteProductsDialog: productsUIContext.openDeleteProductsDialog,\r\n      openEditProductPage: productsUIContext.openEditProductPage,\r\n      openUpdateProductsStatusDialog:\r\n        productsUIContext.openUpdateProductsStatusDialog,\r\n      openFetchProductsDialog: productsUIContext.openFetchProductsDialog,\r\n    };\r\n  }, [productsUIContext]);\r\n\r\n  return (\r\n    <Card>\r\n      <CardHeader title=\"Products list\">\r\n        <CardHeaderToolbar>\r\n          <button\r\n            type=\"button\"\r\n            className=\"btn btn-primary\"\r\n            onClick={productsUIProps.newProductButtonClick}\r\n          >\r\n            New Product\r\n          </button>\r\n        </CardHeaderToolbar>\r\n      </CardHeader>\r\n      <CardBody>\r\n        <ProductsFilter />\r\n        {productsUIProps.ids.length > 0 && (\r\n          <>\r\n            <ProductsGrouping />\r\n          </>\r\n        )}\r\n        <ProductsTable />\r\n      </CardBody>\r\n    </Card>\r\n  );\r\n}\r\n","import React from \"react\";\r\nimport { Route } from \"react-router-dom\";\r\nimport { ProductsLoadingDialog } from \"./products-loading-dialog/ProductsLoadingDialog\";\r\nimport { ProductDeleteDialog } from \"./product-delete-dialog/ProductDeleteDialog\";\r\nimport { ProductsDeleteDialog } from \"./products-delete-dialog/ProductsDeleteDialog\";\r\nimport { ProductsFetchDialog } from \"./products-fetch-dialog/ProductsFetchDialog\";\r\nimport { ProductsUpdateStatusDialog } from \"./products-update-status-dialog/ProductsUpdateStatusDialog\";\r\nimport { ProductsCard } from \"./ProductsCard\";\r\nimport { ProductsUIProvider } from \"./ProductsUIContext\";\r\n\r\nexport function ProductsPage({ history }) {\r\n  const productsUIEvents = {\r\n    newProductButtonClick: () => {\r\n      history.push(\"/e-commerce/products/new\");\r\n    },\r\n    openEditProductPage: (id) => {\r\n      history.push(`/e-commerce/products/${id}/edit`);\r\n    },\r\n    openDeleteProductDialog: (id) => {\r\n      history.push(`/e-commerce/products/${id}/delete`);\r\n    },\r\n    openDeleteProductsDialog: () => {\r\n      history.push(`/e-commerce/products/deleteProducts`);\r\n    },\r\n    openFetchProductsDialog: () => {\r\n      history.push(`/e-commerce/products/fetch`);\r\n    },\r\n    openUpdateProductsStatusDialog: () => {\r\n      history.push(\"/e-commerce/products/updateStatus\");\r\n    },\r\n  };\r\n\r\n  return (\r\n    <ProductsUIProvider productsUIEvents={productsUIEvents}>\r\n      <ProductsLoadingDialog />\r\n      <Route path=\"/e-commerce/products/deleteProducts\">\r\n        {({ history, match }) => (\r\n          <ProductsDeleteDialog\r\n            show={match != null}\r\n            onHide={() => {\r\n              history.push(\"/e-commerce/products\");\r\n            }}\r\n          />\r\n        )}\r\n      </Route>\r\n      <Route path=\"/e-commerce/products/:id/delete\">\r\n        {({ history, match }) => (\r\n          <ProductDeleteDialog\r\n            show={match != null}\r\n            id={match && match.params.id}\r\n            onHide={() => {\r\n              history.push(\"/e-commerce/products\");\r\n            }}\r\n          />\r\n        )}\r\n      </Route>\r\n      <Route path=\"/e-commerce/products/fetch\">\r\n        {({ history, match }) => (\r\n          <ProductsFetchDialog\r\n            show={match != null}\r\n            onHide={() => {\r\n              history.push(\"/e-commerce/products\");\r\n            }}\r\n          />\r\n        )}\r\n      </Route>\r\n      <Route path=\"/e-commerce/products/updateStatus\">\r\n        {({ history, match }) => (\r\n          <ProductsUpdateStatusDialog\r\n            show={match != null}\r\n            onHide={() => {\r\n              history.push(\"/e-commerce/products\");\r\n            }}\r\n          />\r\n        )}\r\n      </Route>\r\n      <ProductsCard />\r\n    </ProductsUIProvider>\r\n  );\r\n}\r\n","// Form is based on Formik\r\n// Data validation is based on Yup\r\n// Please, be familiar with article first:\r\n// https://hackernoon.com/react-form-validation-with-formik-and-yup-8b76bda62e10\r\nimport React from \"react\";\r\nimport { Formik, Form, Field } from \"formik\";\r\nimport * as Yup from \"yup\";\r\nimport { Input, Select } from \"../../../../../../_metronic/_partials/controls\";\r\nimport {\r\n  AVAILABLE_COLORS,\r\n  AVAILABLE_MANUFACTURES,\r\n  ProductStatusTitles,\r\n  ProductConditionTitles,\r\n} from \"../ProductsUIHelpers\";\r\n\r\n// Validation schema\r\nconst ProductEditSchema = Yup.object().shape({\r\n  model: Yup.string()\r\n    .min(2, \"Minimum 2 symbols\")\r\n    .max(50, \"Maximum 50 symbols\")\r\n    .required(\"Model is required\"),\r\n  manufacture: Yup.string()\r\n    .min(2, \"Minimum 2 symbols\")\r\n    .max(50, \"Maximum 50 symbols\")\r\n    .required(\"Manufacture is required\"),\r\n  modelYear: Yup.number()\r\n    .min(1950, \"1950 is minimum\")\r\n    .max(2020, \"2020 is maximum\")\r\n    .required(\"Model year is required\"),\r\n  mileage: Yup.number()\r\n    .min(0, \"0 is minimum\")\r\n    .max(1000000, \"1000000 is maximum\")\r\n    .required(\"Mileage is required\"),\r\n  color: Yup.string().required(\"Color is required\"),\r\n  price: Yup.number()\r\n    .min(1, \"$1 is minimum\")\r\n    .max(1000000, \"$1000000 is maximum\")\r\n    .required(\"Price is required\"),\r\n  VINCode: Yup.string().required(\"VINCode is required\"),\r\n});\r\n\r\nexport function ProductEditForm({\r\n  product,\r\n  btnRef,\r\n  saveProduct,\r\n}) {\r\n  return (\r\n    <>\r\n      <Formik\r\n        enableReinitialize={true}\r\n        initialValues={product}\r\n        validationSchema={ProductEditSchema}\r\n        onSubmit={(values) => {\r\n          saveProduct(values);\r\n        }}\r\n      >\r\n        {({ handleSubmit }) => (\r\n          <>\r\n            <Form className=\"form form-label-right\">\r\n              <div className=\"form-group row\">\r\n                <div className=\"col-lg-4\">\r\n                  <Field\r\n                    name=\"model\"\r\n                    component={Input}\r\n                    placeholder=\"Model\"\r\n                    label=\"Model\"\r\n                  />\r\n                </div>\r\n                <div className=\"col-lg-4\">\r\n                  <Select name=\"manufacture\" label=\"Manufacture\">\r\n                    {AVAILABLE_MANUFACTURES.map((manufacture) => (\r\n                      <option key={manufacture} value={manufacture}>\r\n                        {manufacture}\r\n                      </option>\r\n                    ))}\r\n                  </Select>\r\n                </div>\r\n                <div className=\"col-lg-4\">\r\n                  <Field\r\n                    type=\"number\"\r\n                    name=\"modelYear\"\r\n                    component={Input}\r\n                    placeholder=\"Model year\"\r\n                    label=\"Model year\"\r\n                  />\r\n                </div>\r\n              </div>\r\n              <div className=\"form-group row\">\r\n                <div className=\"col-lg-4\">\r\n                  <Field\r\n                    type=\"number\"\r\n                    name=\"mileage\"\r\n                    component={Input}\r\n                    placeholder=\"Mileage\"\r\n                    label=\"Mileage\"\r\n                  />\r\n                </div>\r\n                <div className=\"col-lg-4\">\r\n                  <Select name=\"color\" label=\"Color\"  id=\"color\"   type=\"select\">\r\n                  <option value=\"\" label=\"Select a color\" />\r\n                    {AVAILABLE_COLORS.map((color) => (\r\n                      <option key={color} value={color}>\r\n                        {color}\r\n                      </option>\r\n                    ))}\r\n                  </Select>\r\n                </div>\r\n                <div className=\"col-lg-4\">\r\n                  <Field\r\n                    type=\"number\"\r\n                    name=\"price\"\r\n                    component={Input}\r\n                    placeholder=\"Price\"\r\n                    label=\"Price ($)\"\r\n                    customFeedbackLabel=\"Please enter Price\"\r\n                  />\r\n                </div>\r\n              </div>\r\n              <div className=\"form-group row\">\r\n                <div className=\"col-lg-4\">\r\n                  <Field\r\n                    name=\"VINCode\"\r\n                    component={Input}\r\n                    placeholder=\"VIN code\"\r\n                    label=\"VIN code\"\r\n                  />\r\n                </div>\r\n                <div className=\"col-lg-4\">\r\n                  <Select name=\"status\" label=\"Status\">\r\n                    {ProductStatusTitles.map((status, index) => (\r\n                      <option key={status} value={index}>\r\n                        {status}\r\n                      </option>\r\n                    ))}\r\n                  </Select>\r\n                </div>\r\n                <div className=\"col-lg-4\">\r\n                  <Select name=\"condition\" label=\"Condition\">\r\n                    {ProductConditionTitles.map((condition, index) => (\r\n                      <option key={condition} value={index}>\r\n                        {condition}\r\n                      </option>\r\n                    ))}\r\n                  </Select>\r\n                </div>\r\n              </div>\r\n              <div className=\"form-group\">\r\n                <label>Description</label>\r\n                <Field\r\n                  name=\"description\"\r\n                  as=\"textarea\"\r\n                  className=\"form-control\"\r\n                />\r\n              </div>\r\n              <button\r\n                type=\"submit\"\r\n                style={{ display: \"none\" }}\r\n                ref={btnRef}\r\n                onSubmit={() => handleSubmit()}\r\n              ></button>\r\n            </Form>\r\n          </>\r\n        )}\r\n      </Formik>\r\n    </>\r\n  );\r\n}\r\n","export const defaultSorted = [{ dataField: \"id\", order: \"asc\" }];\r\nexport const sizePerPageList = [\r\n  { text: \"1\", value: 1 },\r\n  { text: \"3\", value: 3 },\r\n  { text: \"5\", value: 5 },\r\n];\r\nexport const initialFilter = {\r\n  filter: {\r\n    value: \"\",\r\n  },\r\n  sortOrder: \"asc\", // asc||desc\r\n  sortField: \"name\",\r\n  pageNumber: 1,\r\n  pageSize: 5,\r\n};\r\n\r\nexport const SPECIFICATIONS_DICTIONARY = [\r\n  { id: 0, name: \"Seats\" },\r\n  { id: 1, name: \"Fuel Type\" },\r\n  { id: 2, name: \"Stock\" },\r\n  { id: 3, name: \"Door count\" },\r\n  { id: 4, name: \"Engine\" },\r\n  { id: 5, name: \"Transmission\" },\r\n  { id: 6, name: \"Drivetrain\" },\r\n  { id: 7, name: \"Combined MPG\" },\r\n  { id: 8, name: \"Warranty\" },\r\n  { id: 9, name: \"Wheels\" },\r\n];\r\n","/* eslint-disable no-unused-vars */\r\nimport React, {\r\n  useEffect,\r\n  useContext,\r\n  createContext,\r\n  useState,\r\n  useCallback,\r\n} from \"react\";\r\nimport { isEqual, isFunction } from \"lodash\";\r\nimport { initialFilter } from \"./SpecificationsUIHelper\";\r\n\r\nconst SpecificationsUIContext = createContext();\r\n\r\nexport function useSpecificationsUIContext() {\r\n  return useContext(SpecificationsUIContext);\r\n}\r\n\r\nexport const SpecificationsUIConsumer = SpecificationsUIContext.Consumer;\r\n\r\nexport function SpecificationsUIProvider({ currentProductId, children }) {\r\n  const [productId, setProductId] = useState(currentProductId);\r\n  const [queryParams, setQueryParamsBase] = useState(initialFilter);\r\n  const [ids, setIds] = useState([]);\r\n  const setQueryParams = useCallback((nextQueryParams) => {\r\n    setQueryParamsBase((prevQueryParams) => {\r\n      if (isFunction(nextQueryParams)) {\r\n        nextQueryParams = nextQueryParams(prevQueryParams);\r\n      }\r\n\r\n      if (isEqual(prevQueryParams, nextQueryParams)) {\r\n        return prevQueryParams;\r\n      }\r\n\r\n      return nextQueryParams;\r\n    });\r\n  }, []);\r\n  const [selectedId, setSelectedId] = useState(null);\r\n  const initSpecification = {\r\n    id: undefined,\r\n    value: \"\",\r\n    specId: 0,\r\n    carId: productId,\r\n  };\r\n  useEffect(() => {\r\n    initSpecification.carId = currentProductId;\r\n    initSpecification.productId = currentProductId;\r\n    setProductId(currentProductId);\r\n    // eslint-disable-next-line react-hooks/exhaustive-deps\r\n  }, [currentProductId]);\r\n  const [\r\n    showEditSpecificationDialog,\r\n    setShowEditSpecificationDialog,\r\n  ] = useState(false);\r\n  const openNewSpecificationDialog = () => {\r\n    setSelectedId(undefined);\r\n    setShowEditSpecificationDialog(true);\r\n  };\r\n  const openEditSpecificationDialog = (id) => {\r\n    setSelectedId(id);\r\n    setShowEditSpecificationDialog(true);\r\n  };\r\n  const closeEditSpecificationDialog = () => {\r\n    setSelectedId(undefined);\r\n    setShowEditSpecificationDialog(false);\r\n  };\r\n  const [\r\n    showDeleteSpecificationDialog,\r\n    setShowDeleteSpecificationDialog,\r\n  ] = useState(false);\r\n  const openDeleteSpecificationDialog = (id) => {\r\n    setSelectedId(id);\r\n    setShowDeleteSpecificationDialog(true);\r\n  };\r\n  const closeDeleteSpecificationDialog = () => {\r\n    setSelectedId(undefined);\r\n    setShowDeleteSpecificationDialog(false);\r\n  };\r\n  const [\r\n    showDeleteSpecificationsDialog,\r\n    setShowDeleteSpecificationsDialog,\r\n  ] = useState(false);\r\n  const openDeleteSpecificationsDialog = () => {\r\n    setShowDeleteSpecificationsDialog(true);\r\n  };\r\n  const closeDeleteSpecificationsDialog = () => {\r\n    setShowDeleteSpecificationsDialog(false);\r\n  };\r\n  const [\r\n    showFetchSpecificationsDialog,\r\n    setShowFetchSpecificationsDialog,\r\n  ] = useState(false);\r\n  const openFetchSpecificationsDialog = () => {\r\n    setShowFetchSpecificationsDialog(true);\r\n  };\r\n  const closeFetchSpecificationsDialog = () => {\r\n    setShowFetchSpecificationsDialog(false);\r\n  };\r\n  const value = {\r\n    ids,\r\n    setIds,\r\n    productId,\r\n    setProductId,\r\n    queryParams,\r\n    setQueryParams,\r\n    initSpecification,\r\n    selectedId,\r\n    showEditSpecificationDialog,\r\n    openEditSpecificationDialog,\r\n    openNewSpecificationDialog,\r\n    closeEditSpecificationDialog,\r\n    showDeleteSpecificationDialog,\r\n    openDeleteSpecificationDialog,\r\n    closeDeleteSpecificationDialog,\r\n    showDeleteSpecificationsDialog,\r\n    openDeleteSpecificationsDialog,\r\n    closeDeleteSpecificationsDialog,\r\n    showFetchSpecificationsDialog,\r\n    openFetchSpecificationsDialog,\r\n    closeFetchSpecificationsDialog,\r\n  };\r\n\r\n  return (\r\n    <SpecificationsUIContext.Provider value={value}>\r\n      {children}\r\n    </SpecificationsUIContext.Provider>\r\n  );\r\n}\r\n","import React, { useMemo } from \"react\";\r\nimport { Formik } from \"formik\";\r\nimport { isEqual } from \"lodash\";\r\nimport { useSpecificationsUIContext } from \"./SpecificationsUIContext\";\r\n\r\nconst prepareFilter = (queryParams, values) => {\r\n  const { searchText } = values;\r\n  const newQueryParams = { ...queryParams };\r\n  const filter = {};\r\n  filter.value = searchText;\r\n  if (searchText) {\r\n    filter.name = searchText;\r\n  }\r\n  newQueryParams.filter = filter;\r\n  return newQueryParams;\r\n};\r\n\r\nexport function SpecificationsFilter() {\r\n  // Specs UI Context\r\n  const specsUIContext = useSpecificationsUIContext();\r\n  const specsUIProps = useMemo(() => {\r\n    return {\r\n      openNewSpecificationDialog: specsUIContext.openNewSpecificationDialog,\r\n      setQueryParams: specsUIContext.setQueryParams,\r\n      queryParams: specsUIContext.queryParams,\r\n    };\r\n  }, [specsUIContext]);\r\n\r\n  const applyFilter = (values) => {\r\n    const newQueryParams = prepareFilter(specsUIProps.queryParams, values);\r\n    if (!isEqual(newQueryParams, specsUIProps.queryParams)) {\r\n      newQueryParams.pageNumber = 1;\r\n      specsUIProps.setQueryParams(newQueryParams);\r\n    }\r\n  };\r\n\r\n  return (\r\n    <>\r\n      <div className=\"form-filtration\">\r\n        <div className=\"row align-items-center\">\r\n          <div className=\"col-md-2 margin-bottom-10-mobile\">\r\n            <Formik\r\n              initialValues={{\r\n                searchText: \"\",\r\n              }}\r\n              onSubmit={(values) => {\r\n                applyFilter(values);\r\n              }}\r\n            >\r\n              {({\r\n                values,\r\n                handleSubmit,\r\n                handleBlur,\r\n                handleChange,\r\n                setFieldValue,\r\n              }) => (\r\n                <form onSubmit={handleSubmit}>\r\n                  <div>\r\n                    <input\r\n                      type=\"text\"\r\n                      className=\"form-control\"\r\n                      name=\"searchText\"\r\n                      placeholder=\"Search\"\r\n                      onBlur={handleBlur}\r\n                      value={values.searchText}\r\n                      onChange={(e) => {\r\n                        setFieldValue(\"searchText\", e.target.value);\r\n                        handleSubmit();\r\n                      }}\r\n                    />\r\n                    <small className=\"form-text text-muted\">\r\n                      <b>Search</b> in all fields\r\n                    </small>\r\n                  </div>\r\n                </form>\r\n              )}\r\n            </Formik>\r\n          </div>\r\n          <div className=\"col-md-7 margin-bottom-10-mobile\"></div>\r\n          <div className=\"col-md-3 text-right margin-bottom-10-mobile\">\r\n            <button\r\n              type=\"button\"\r\n              className=\"btn btn-primary\"\r\n              onClick={() => specsUIProps.openNewSpecificationDialog()}\r\n            >\r\n              Create new specification\r\n            </button>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </>\r\n  );\r\n}\r\n","import * as requestFromServer from \"./specificationsCrud\";\r\nimport {specificationsSlice, callTypes} from \"./specificationsSlice\";\r\n\r\nconst {actions} = specificationsSlice;\r\n\r\nexport const fetchSpecifications = (queryParams, productId) => dispatch => {\r\n  dispatch(actions.startCall({ callType: callTypes.list }));\r\n  if (!productId) {\r\n    return dispatch(\r\n      actions.specificationsFetched({ totalCount: 0, entities: null })\r\n    );\r\n  }\r\n\r\n  return requestFromServer\r\n    .findSpecifications(queryParams, productId)\r\n    .then(response => {\r\n      const { totalCount, entities } = response.data;\r\n      dispatch(actions.specificationsFetched({ totalCount, entities }));\r\n    })\r\n    .catch(error => {\r\n      error.clientMessage = \"Can't find specifications\";\r\n      dispatch(actions.catchError({ error, callType: callTypes.list }));\r\n    });\r\n};\r\n\r\nexport const fetchSpecification = id => dispatch => {\r\n  if (!id) {\r\n    return dispatch(\r\n      actions.specificationFetched({ specificationForEdit: undefined })\r\n    );\r\n  }\r\n\r\n  dispatch(actions.startCall({ callType: callTypes.action }));\r\n  return requestFromServer\r\n    .getSpecificationById(id)\r\n    .then(response => {\r\n      const specification = response.data;\r\n      dispatch(\r\n        actions.specificationFetched({ specificationForEdit: specification })\r\n      );\r\n    })\r\n    .catch(error => {\r\n      error.clientMessage = \"Can't find specification\";\r\n      dispatch(actions.catchError({ error, callType: callTypes.action }));\r\n    });\r\n};\r\n\r\nexport const deleteSpecification = id => dispatch => {\r\n  dispatch(actions.startCall({ callType: callTypes.action }));\r\n  return requestFromServer\r\n    .deleteSpecification(id)\r\n    .then(response => {\r\n      dispatch(actions.specificationDeleted({ id }));\r\n    })\r\n    .catch(error => {\r\n      error.clientMessage = \"Can't delete specification\";\r\n      dispatch(actions.catchError({ error, callType: callTypes.action }));\r\n    });\r\n};\r\n\r\nexport const createSpecification = specificationForCreation => dispatch => {\r\n  dispatch(actions.startCall({ callType: callTypes.action }));\r\n  return requestFromServer\r\n    .createSpecification(specificationForCreation)\r\n    .then(response => {\r\n      const { specification } = response.data;\r\n      dispatch(actions.specificationCreated({ specification }));\r\n    })\r\n    .catch(error => {\r\n      error.clientMessage = \"Can't create specification\";\r\n      dispatch(actions.catchError({ error, callType: callTypes.action }));\r\n    });\r\n};\r\n\r\nexport const updateSpecification = specification => dispatch => {\r\n  dispatch(actions.startCall({ callType: callTypes.action }));\r\n  return requestFromServer\r\n    .updateSpecification(specification)\r\n    .then(() => {\r\n      dispatch(actions.specificationUpdated({ specification }));\r\n    })\r\n    .catch(error => {\r\n      error.clientMessage = \"Can't update specification\";\r\n      dispatch(actions.catchError({ error, callType: callTypes.action }));\r\n    });\r\n};\r\n\r\nexport const deleteSpecifications = ids => dispatch => {\r\n  dispatch(actions.startCall({ callType: callTypes.action }));\r\n  return requestFromServer\r\n    .deleteSpecifications(ids)\r\n    .then(() => {\r\n      dispatch(actions.specificationsDeleted({ ids }));\r\n    })\r\n    .catch(error => {\r\n      error.clientMessage = \"Can't delete specifications\";\r\n      dispatch(actions.catchError({ error, callType: callTypes.action }));\r\n    });\r\n};\r\n","import axios from \"axios\";\r\n\r\nexport const SPECIFICATIONS_URL = \"specifications\";\r\n\r\n// CREATE =>  POST: add a new specifications to the server\r\nexport function createSpecification(specification) {\r\n  return axios.post(SPECIFICATIONS_URL, { specification });\r\n}\r\n\r\n// READ\r\n// Server should return filtered specifications by productId\r\nexport function getAllProductSpecificationsByProductId(productId) {\r\n  return axios.get(`${SPECIFICATIONS_URL}?productId=${productId}`);\r\n}\r\n\r\nexport function getSpecificationById(specificationId) {\r\n  return axios.get(`${SPECIFICATIONS_URL}/${specificationId}`);\r\n}\r\n\r\n// Server should return sorted/filtered specifications and merge with items from state\r\n// TODO: Change your URL to REAL API, right now URL is 'specificationsfind/{productId}'. Should be 'specifications/find/{productId}'!!!\r\nexport function findSpecifications(queryParams, productId) {\r\n  return axios.post(`${SPECIFICATIONS_URL}find/${productId}`, { queryParams });\r\n}\r\n\r\n// UPDATE => PUT: update the specification\r\nexport function updateSpecification(specification) {\r\n  return axios.put(`${SPECIFICATIONS_URL}/${specification.id}`, {\r\n    specification\r\n  });\r\n}\r\n\r\n// DELETE => delete the specification\r\nexport function deleteSpecification(specificationId) {\r\n  return axios.delete(`${SPECIFICATIONS_URL}/${specificationId}`);\r\n}\r\n\r\n// DELETE specifications by ids\r\nexport function deleteSpecifications(ids) {\r\n  return axios.post(`${SPECIFICATIONS_URL}/deleteSpecifications`, { ids });\r\n}\r\n","/* eslint-disable no-script-url,jsx-a11y/anchor-is-valid */\r\nimport React from \"react\";\r\nimport { OverlayTrigger, Tooltip } from \"react-bootstrap\";\r\nimport SVG from \"react-inlinesvg\";\r\nimport { toAbsoluteUrl } from \"../../../../../../../_metronic/_helpers\";\r\n\r\nexport function ActionsColumnFormatter(\r\n  cellContent,\r\n  row,\r\n  rowIndex,\r\n  { openEditSpecificationDialog, openDeleteSpecificationDialog }\r\n) {\r\n  return (\r\n    <>\r\n      <OverlayTrigger\r\n        overlay={<Tooltip id=\"specs-edit-tooltip\">Edit specification</Tooltip>}\r\n      >\r\n        <a\r\n          className=\"btn btn-icon btn-light btn-hover-primary btn-sm mx-3\"\r\n          onClick={() => openEditSpecificationDialog(row.id)}\r\n        >\r\n          <span className=\"svg-icon svg-icon-md svg-icon-primary\">\r\n            <SVG\r\n              src={toAbsoluteUrl(\"/media/svg/icons/Communication/Write.svg\")}\r\n            />\r\n          </span>\r\n        </a>\r\n      </OverlayTrigger>\r\n\r\n      <> </>\r\n      <OverlayTrigger\r\n        overlay={\r\n          <Tooltip id=\"spec-delete-tooltip\">Delete specification</Tooltip>\r\n        }\r\n      >\r\n        <a\r\n          className=\"btn btn-icon btn-light btn-hover-danger btn-sm\"\r\n          onClick={() => openDeleteSpecificationDialog(row.id)}\r\n        >\r\n          <span className=\"svg-icon svg-icon-md svg-icon-danger\">\r\n            <SVG src={toAbsoluteUrl(\"/media/svg/icons/General/Trash.svg\")} />\r\n          </span>\r\n        </a>\r\n      </OverlayTrigger>\r\n    </>\r\n  );\r\n}\r\n","// React bootstrap table next =>\r\n// DOCS: https://react-bootstrap-table.github.io/react-bootstrap-table2/docs/\r\n// STORYBOOK: https://react-bootstrap-table.github.io/react-bootstrap-table2/storybook/index.html\r\nimport React, { useEffect, useMemo } from \"react\";\r\nimport { shallowEqual, useDispatch, useSelector } from \"react-redux\";\r\nimport BootstrapTable from \"react-bootstrap-table-next\";\r\nimport paginationFactory, {\r\n  PaginationProvider,\r\n} from \"react-bootstrap-table2-paginator\";\r\nimport * as actions from \"../../../_redux/specifications/specificationsActions\";\r\nimport { ActionsColumnFormatter } from \"./column-formatters/ActionsColumnFormatter\";\r\nimport * as uiHelpers from \"./SpecificationsUIHelper\";\r\nimport { Pagination } from \"../../../../../../_metronic/_partials/controls\";\r\nimport {\r\n  getSelectRow,\r\n  getHandlerTableChange,\r\n  NoRecordsFoundMessage,\r\n  PleaseWaitMessage,\r\n  sortCaret,\r\n} from \"../../../../../../_metronic/_helpers\";\r\nimport { useSpecificationsUIContext } from \"./SpecificationsUIContext\";\r\n\r\nexport function SpecificationsTable() {\r\n  // Specs UI Context\r\n  const specsUIContext = useSpecificationsUIContext();\r\n  const specsUIProps = useMemo(() => {\r\n    return {\r\n      queryParams: specsUIContext.queryParams,\r\n      setQueryParams: specsUIContext.setQueryParams,\r\n      openEditSpecificationDialog: specsUIContext.openEditSpecificationDialog,\r\n      openDeleteSpecificationDialog:\r\n        specsUIContext.openDeleteSpecificationDialog,\r\n      ids: specsUIContext.ids,\r\n      setIds: specsUIContext.setIds,\r\n      productId: specsUIContext.productId,\r\n    };\r\n  }, [specsUIContext]);\r\n\r\n  // Specs Redux state\r\n  // Getting curret state of products list from store (Redux)\r\n  const { currentState } = useSelector(\r\n    (state) => ({ currentState: state.specifications }),\r\n    shallowEqual\r\n  );\r\n  const { totalCount, entities, listLoading } = currentState;\r\n  const dispatch = useDispatch();\r\n  useEffect(() => {\r\n    specsUIProps.setIds([]);\r\n    dispatch(\r\n      actions.fetchSpecifications(specsUIProps.queryParams,specsUIProps.productId)\r\n    );\r\n    // eslint-disable-next-line react-hooks/exhaustive-deps\r\n  }, [specsUIProps.queryParams, dispatch, specsUIProps.productId]);\r\n\r\n  const columns = [\r\n    {\r\n      dataField: \"name\",\r\n      text: \"Specification Type\",\r\n      sort: true,\r\n      sortCaret: sortCaret,\r\n    },\r\n    {\r\n      dataField: \"value\",\r\n      text: \"Value\",\r\n      sort: true,\r\n      sortCaret: sortCaret,\r\n    },\r\n    {\r\n      dataField: \"action\",\r\n      text: \"Actions\",\r\n      formatter: ActionsColumnFormatter,\r\n      formatExtraData: {\r\n        openEditSpecificationDialog: specsUIProps.openEditSpecificationDialog,\r\n        openDeleteSpecificationDialog:\r\n          specsUIProps.openDeleteSpecificationDialog,\r\n      },\r\n      classes: \"text-right p-0\",\r\n      headerClasses: \"text-right pr-3\",\r\n      style: {\r\n        minWidth: \"100px\",\r\n      },\r\n    },\r\n  ];\r\n  // Table pagination properties\r\n  const paginationOptions = {\r\n    custom: true,\r\n    totalSize: totalCount,\r\n    sizePerPageList: uiHelpers.sizePerPageList,\r\n    sizePerPage: specsUIProps.queryParams.pageSize,\r\n    page: specsUIProps.queryParams.pageNumber,\r\n  };\r\n  return (\r\n    <>\r\n      <PaginationProvider pagination={paginationFactory(paginationOptions)}>\r\n        {({ paginationProps, paginationTableProps }) => {\r\n          return (\r\n            <Pagination\r\n              isLoading={listLoading}\r\n              paginationProps={paginationProps}\r\n            >\r\n              <BootstrapTable\r\n                wrapperClasses=\"table-responsive\"\r\n                classes=\"table table-head-custom table-vertical-center overflow-hidden\"\r\n                bordered={false}\r\n                bootstrap4\r\n                remote\r\n                keyField=\"id\"\r\n                data={entities === null ? [] : entities}\r\n                columns={columns}\r\n                defaultSorted={uiHelpers.defaultSorted}\r\n                onTableChange={getHandlerTableChange(\r\n                  specsUIProps.setQueryParams\r\n                )}\r\n                selectRow={getSelectRow({\r\n                  entities,\r\n                  ids: specsUIProps.ids,\r\n                  setIds: specsUIProps.setIds,\r\n                })}\r\n                {...paginationTableProps}\r\n              >\r\n                <PleaseWaitMessage entities={entities} />\r\n                <NoRecordsFoundMessage entities={entities} />\r\n              </BootstrapTable>\r\n            </Pagination>\r\n          );\r\n        }}\r\n      </PaginationProvider>\r\n    </>\r\n  );\r\n}\r\n","import React, { useEffect } from \"react\";\r\nimport { shallowEqual, useSelector } from \"react-redux\";\r\nimport { LoadingDialog } from \"../../../../../../_metronic/_partials/controls\";\r\n\r\nexport function SpecificationsLoadingDialog() {\r\n  const { isLoading } = useSelector(\r\n    (state) => ({ isLoading: state.specifications.listLoading }),\r\n    shallowEqual\r\n  );\r\n  useEffect(() => {}, [isLoading]);\r\n  return <LoadingDialog isLoading={isLoading} text=\"Loading ...\" />;\r\n}\r\n","/* eslint-disable no-restricted-imports */\r\nimport React, { useEffect, useMemo } from \"react\";\r\nimport { Modal } from \"react-bootstrap\";\r\nimport { shallowEqual, useDispatch, useSelector } from \"react-redux\";\r\nimport { ModalProgressBar } from \"../../../../../../_metronic/_partials/controls\";\r\nimport * as actions from \"../../../_redux/specifications/specificationsActions\";\r\nimport { useSpecificationsUIContext } from \"./SpecificationsUIContext\";\r\n\r\nexport function SpecificationsDeleteDialog() {\r\n  // Specs UI Context\r\n  const specsUIContext = useSpecificationsUIContext();\r\n  const specsUIProps = useMemo(() => {\r\n    return {\r\n      productId: specsUIContext.productId,\r\n      ids: specsUIContext.ids,\r\n      show: specsUIContext.showDeleteSpecificationsDialog,\r\n      onHide: specsUIContext.closeDeleteSpecificationsDialog,\r\n      setIds: specsUIContext.setIds,\r\n      queryParams: specsUIContext.queryParams,\r\n    };\r\n  }, [specsUIContext]);\r\n\r\n  // Specs Redux state\r\n  const dispatch = useDispatch();\r\n  const { isLoading } = useSelector(\r\n    (state) => ({ isLoading: state.specifications.actionsLoading }),\r\n    shallowEqual\r\n  );\r\n\r\n  // looking for loading/dispatch\r\n  useEffect(() => {}, [isLoading, dispatch]);\r\n\r\n  // if there weren't selected specs we should close modal\r\n  useEffect(() => {\r\n    if (!specsUIProps.ids || specsUIProps.ids.length === 0) {\r\n      specsUIProps.onHide();\r\n    }\r\n    // eslint-disable-next-line react-hooks/exhaustive-deps\r\n  }, [specsUIProps.ids]);\r\n\r\n  const deleteSpecifications = () => {\r\n    // server request for selected deleting specs\r\n    dispatch(actions.deleteSpecifications(specsUIProps.ids)).then(() => {\r\n      // refresh list after deletion\r\n      dispatch(\r\n        actions.fetchSpecifications(\r\n          specsUIProps.queryParams,\r\n          specsUIProps.productId\r\n        )\r\n      ).then(() => {\r\n        specsUIProps.setIds([]);\r\n        specsUIProps.onHide();\r\n      });\r\n    });\r\n  };\r\n\r\n  return (\r\n    <Modal\r\n      show={specsUIProps.show}\r\n      onHide={specsUIProps.onHide}\r\n      aria-labelledby=\"example-modal-sizes-title-lg\"\r\n    >\r\n      {isLoading && <ModalProgressBar variant=\"query\" />}\r\n      <Modal.Header closeButton>\r\n        <Modal.Title id=\"example-modal-sizes-title-lg\">\r\n          Specifications Delete\r\n        </Modal.Title>\r\n      </Modal.Header>\r\n      <Modal.Body>\r\n        {!isLoading && (\r\n          <span>\r\n            Are you sure to permanently delete selected specifications?\r\n          </span>\r\n        )}\r\n        {isLoading && <span>Specifications are deleting...</span>}\r\n      </Modal.Body>\r\n      <Modal.Footer>\r\n        <div>\r\n          <button\r\n            type=\"button\"\r\n            onClick={specsUIProps.onHide}\r\n            className=\"btn btn-light btn-elevate\"\r\n          >\r\n            Cancel\r\n          </button>\r\n          <> </>\r\n          <button\r\n            type=\"button\"\r\n            onClick={deleteSpecifications}\r\n            className=\"btn btn-primary btn-elevate\"\r\n          >\r\n            Delete\r\n          </button>\r\n        </div>\r\n      </Modal.Footer>\r\n    </Modal>\r\n  );\r\n}\r\n","/* eslint-disable no-restricted-imports */\r\nimport React, { useEffect, useMemo } from \"react\";\r\nimport { Modal } from \"react-bootstrap\";\r\nimport { shallowEqual, useDispatch, useSelector } from \"react-redux\";\r\nimport { ModalProgressBar } from \"../../../../../../_metronic/_partials/controls\";\r\nimport * as actions from \"../../../_redux/specifications/specificationsActions\";\r\nimport { useSpecificationsUIContext } from \"./SpecificationsUIContext\";\r\n\r\nexport function SpecificationDeleteDialog() {\r\n  // Specifications UI Context\r\n  const specsUIContext = useSpecificationsUIContext();\r\n  const specsUIProps = useMemo(() => {\r\n    return {\r\n      id: specsUIContext.selectedId,\r\n      productId: specsUIContext.productId,\r\n      show: specsUIContext.showDeleteSpecificationDialog,\r\n      onHide: specsUIContext.closeDeleteSpecificationDialog,\r\n      queryParams: specsUIContext.queryParams,\r\n      setIds: specsUIContext.setIds,\r\n    };\r\n  }, [specsUIContext]);\r\n\r\n  // Specs Redux state\r\n  const dispatch = useDispatch();\r\n  const { isLoading } = useSelector(\r\n    (state) => ({ isLoading: state.specifications.actionsLoading }),\r\n    shallowEqual\r\n  );\r\n\r\n  // if !id we should close modal\r\n  useEffect(() => {\r\n    if (!specsUIProps.id) {\r\n      specsUIProps.onHide();\r\n    }\r\n    // eslint-disable-next-line react-hooks/exhaustive-deps\r\n  }, [specsUIProps.id]);\r\n\r\n  // looking for loading/dispatch\r\n  useEffect(() => {}, [isLoading, dispatch]);\r\n\r\n  const deleteSpecification = () => {\r\n    // server request for deleting spec by id\r\n    dispatch(actions.deleteSpecification(specsUIProps.id)).then(() => {\r\n      // refresh list after deletion\r\n      dispatch(\r\n        actions.fetchSpecifications(\r\n          specsUIProps.queryParams,\r\n          specsUIProps.productId\r\n        )\r\n      );\r\n      specsUIProps.setIds([]);\r\n      specsUIProps.onHide();\r\n    });\r\n  };\r\n\r\n  return (\r\n    <Modal\r\n      show={specsUIProps.show}\r\n      onHide={specsUIProps.onHide}\r\n      aria-labelledby=\"example-modal-sizes-title-lg\"\r\n    >\r\n      {isLoading && <ModalProgressBar variant=\"query\" />}\r\n      <Modal.Header closeButton>\r\n        <Modal.Title id=\"example-modal-sizes-title-lg\">\r\n          Specification Delete\r\n        </Modal.Title>\r\n      </Modal.Header>\r\n      <Modal.Body>\r\n        {!isLoading && (\r\n          <span>Are you sure to permanently delete this specification?</span>\r\n        )}\r\n        {isLoading && <span>Specification is deleting...</span>}\r\n      </Modal.Body>\r\n      <Modal.Footer>\r\n        <div>\r\n          <button\r\n            type=\"button\"\r\n            onClick={specsUIProps.onHide}\r\n            className=\"btn btn-light btn-elevate\"\r\n          >\r\n            Cancel\r\n          </button>\r\n          <> </>\r\n          <button\r\n            type=\"button\"\r\n            onClick={deleteSpecification}\r\n            className=\"btn btn-primary btn-elevate\"\r\n          >\r\n            Delete\r\n          </button>\r\n        </div>\r\n      </Modal.Footer>\r\n    </Modal>\r\n  );\r\n}\r\n","import React, { useEffect, useMemo } from \"react\";\r\nimport { Modal } from \"react-bootstrap\";\r\nimport { shallowEqual, useSelector } from \"react-redux\";\r\nimport { useSpecificationsUIContext } from \"./SpecificationsUIContext\";\r\n\r\nconst selectedSpecifications = (entities, ids) => {\r\n  const _specifications = [];\r\n  ids.forEach((id) => {\r\n    const specification = entities.find((el) => el.id === id);\r\n    if (specification) {\r\n      _specifications.push(specification);\r\n    }\r\n  });\r\n  return _specifications;\r\n};\r\n\r\nexport function SpecificationsFetchDialog() {\r\n  // Specs UI Context\r\n  const specsUIContext = useSpecificationsUIContext();\r\n  const specsUIProps = useMemo(() => {\r\n    return {\r\n      ids: specsUIContext.ids,\r\n      show: specsUIContext.showFetchSpecificationsDialog,\r\n      onHide: specsUIContext.closeFetchSpecificationsDialog,\r\n      queryParams: specsUIContext.queryParams,\r\n    };\r\n  }, [specsUIContext]);\r\n\r\n  // Specs Redux state\r\n  const { specifications } = useSelector(\r\n    (state) => ({\r\n      specifications: selectedSpecifications(\r\n        state.specifications.entities,\r\n        specsUIProps.ids\r\n      ),\r\n    }),\r\n    shallowEqual\r\n  );\r\n\r\n  useEffect(() => {\r\n    if (!specsUIProps.ids || specsUIProps.ids.length === 0) {\r\n      specsUIProps.onHide();\r\n    }\r\n    // eslint-disable-next-line react-hooks/exhaustive-deps\r\n  }, [specsUIProps.ids]);\r\n\r\n  return (\r\n    <Modal\r\n      show={specsUIProps.show}\r\n      onHide={specsUIProps.onHide}\r\n      aria-labelledby=\"example-modal-sizes-title-lg\"\r\n    >\r\n      <Modal.Header closeButton>\r\n        <Modal.Title id=\"example-modal-sizes-title-lg\">\r\n          Fetch selected elements\r\n        </Modal.Title>\r\n      </Modal.Header>\r\n      <Modal.Body>\r\n        <div className=\"list-timeline list-timeline-skin-light padding-30\">\r\n          <div className=\"list-timeline-items\">\r\n            {specifications.map((specification) => (\r\n              <div className=\"list-timeline-item mb-3\" key={specification.id}>\r\n                <span className=\"list-timeline-text\">\r\n                  <span\r\n                    className=\"label label-lg label-light-success label-inline\"\r\n                    style={{ width: \"60px\" }}\r\n                  >\r\n                    ID: {specification.id}\r\n                  </span>{\" \"}\r\n                  <span className=\"ml-5\">\r\n                    {specification.name}: {specification.value}{\" \"}\r\n                  </span>\r\n                </span>\r\n              </div>\r\n            ))}\r\n          </div>\r\n        </div>\r\n      </Modal.Body>\r\n      <Modal.Footer>\r\n        <div>\r\n          <button\r\n            type=\"button\"\r\n            onClick={specsUIProps.onHide}\r\n            className=\"btn btn-light btn-elevate\"\r\n          >\r\n            Cancel\r\n          </button>\r\n          <> </>\r\n          <button\r\n            type=\"button\"\r\n            onClick={specsUIProps.onHide}\r\n            className=\"btn btn-primary btn-elevate\"\r\n          >\r\n            Ok\r\n          </button>\r\n        </div>\r\n      </Modal.Footer>\r\n    </Modal>\r\n  );\r\n}\r\n","import React, { useMemo } from \"react\";\r\nimport { useSpecificationsUIContext } from \"./SpecificationsUIContext\";\r\n\r\nexport function SpecificationsGrouping() {\r\n  // Specs UI Context\r\n  const specsUIContext = useSpecificationsUIContext();\r\n  const specsUIProps = useMemo(() => {\r\n    return {\r\n      ids: specsUIContext.ids,\r\n      openDeleteSpecificationsDialog:\r\n        specsUIContext.openDeleteSpecificationsDialog,\r\n      openFetchSpecificationsDialog:\r\n        specsUIContext.openFetchSpecificationsDialog,\r\n    };\r\n  }, [specsUIContext]);\r\n\r\n  return (\r\n    <div className=\"form\">\r\n      <div className=\"row align-items-center form-group-actions margin-top-20\">\r\n        <div className=\"col-xl-12\">\r\n          <div className=\"form-group form-group-inline\">\r\n            <div className=\"form-label form-label-no-wrap\">\r\n              <label className=\"font-bold font-danger mt-5\">\r\n                <span>Selected records count: {specsUIProps.ids.length}</span>\r\n              </label>\r\n            </div>\r\n            <div className=\"form-group-inline\">\r\n              <button\r\n                type=\"button\"\r\n                className=\"btn btn-danger font-weight-bolder font-size-sm\"\r\n                onClick={specsUIProps.openDeleteSpecificationsDialog}\r\n              >\r\n                <i className=\"fa fa-trash\"></i> Delete All\r\n              </button>\r\n              &nbsp;\r\n              <button\r\n                type=\"button\"\r\n                className=\"btn btn-light-primary font-weight-bolder font-size-sm\"\r\n                onClick={specsUIProps.openFetchSpecificationsDialog}\r\n              >\r\n                <i className=\"fa fa-stream\"></i> Fetch Selected\r\n              </button>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n","/* eslint-disable no-restricted-imports */\r\nimport React, { useState, useEffect } from \"react\";\r\nimport { shallowEqual, useSelector } from \"react-redux\";\r\nimport { Modal } from \"react-bootstrap\";\r\nimport { ModalProgressBar } from \"../../../../../../../_metronic/_partials/controls\";\r\n\r\nexport function SpecificationEditDialogHeader({ id }) {\r\n  const [title, setTitle] = useState(\"\");\r\n  // Specs Redux state\r\n  const { specificationForEdit, actionsLoading } = useSelector(\r\n    (state) => ({\r\n      specificationForEdit: state.specifications.specificationForEdit,\r\n      actionsLoading: state.specifications.actionsLoading,\r\n    }),\r\n    shallowEqual\r\n  );\r\n\r\n  useEffect(() => {\r\n    let _title = id ? \"\" : \"New Specification\";\r\n    if (specificationForEdit && id) {\r\n      _title = \"Edit Specification\";\r\n    }\r\n\r\n    setTitle(_title);\r\n    // eslint-disable-next-line\r\n  }, [specificationForEdit, actionsLoading]);\r\n  return (\r\n    <>\r\n      {actionsLoading && <ModalProgressBar variant=\"query\" />}\r\n      <Modal.Header closeButton>\r\n        <Modal.Title id=\"example-modal-sizes-title-lg\">{title}</Modal.Title>\r\n      </Modal.Header>\r\n    </>\r\n  );\r\n}\r\n","// Form is based on Formik\r\n// Data validation is based on Yup\r\n// Please, be familiar with article first:\r\n// https://hackernoon.com/react-form-validation-with-formik-and-yup-8b76bda62e10\r\nimport React from \"react\";\r\nimport { Modal } from \"react-bootstrap\";\r\nimport { Formik, Form, Field } from \"formik\";\r\nimport * as Yup from \"yup\";\r\nimport {\r\n  Select,\r\n  Input,\r\n} from \"../../../../../../../_metronic/_partials/controls\";\r\nimport { SPECIFICATIONS_DICTIONARY } from \"../SpecificationsUIHelper\";\r\n\r\n// Validation schema\r\nconst SpecificationEditSchema = Yup.object().shape({\r\n  value: Yup.string()\r\n    .min(2, \"Minimum 2 symbols\")\r\n    .max(50, \"Maximum 50 symbols\")\r\n    .required(\"Value is required\"),\r\n  specId: Yup.number().required(\"Specification type is required\"),\r\n});\r\n\r\nexport function SpecificationEditForm({\r\n  saveSpecification,\r\n  specification,\r\n  actionsLoading,\r\n  onHide,\r\n}) {\r\n  return (\r\n    <>\r\n      <Formik\r\n        enableReinitialize={true}\r\n        initialValues={specification}\r\n        validationSchema={SpecificationEditSchema}\r\n        onSubmit={(values) => {\r\n          saveSpecification(values);\r\n        }}\r\n      >\r\n        {({ handleSubmit }) => (\r\n          <>\r\n            <Modal.Body className=\"overlay overlay-block cursor-default\">\r\n              {actionsLoading && (\r\n                <div className=\"overlay-layer bg-transparent\">\r\n                  <div className=\"spinner spinner-lg spinner-success\" />\r\n                </div>\r\n              )}\r\n              <Form className=\"form form-label-right\">\r\n                <div className=\"form-group row\">\r\n                  <div className=\"col-lg-12\">\r\n                    <Select name=\"specId\" label=\"Specification Type\">\r\n                      {SPECIFICATIONS_DICTIONARY.map((spec) => (\r\n                        <option key={spec.id} value={spec.id}>\r\n                          {spec.name}\r\n                        </option>\r\n                      ))}\r\n                    </Select>\r\n                  </div>\r\n                </div>\r\n                <div className=\"form-group row\">\r\n                  <div className=\"col-lg-12\">\r\n                    <Field\r\n                      name=\"value\"\r\n                      component={Input}\r\n                      placeholder=\"Value\"\r\n                      label=\"Value\"\r\n                    />\r\n                  </div>\r\n                </div>\r\n              </Form>\r\n            </Modal.Body>\r\n            <Modal.Footer>\r\n              <button\r\n                type=\"button\"\r\n                onClick={onHide}\r\n                className=\"btn btn-light btn-elevate\"\r\n              >\r\n                Cancel\r\n              </button>\r\n              <> </>\r\n              <button\r\n                type=\"submit\"\r\n                onClick={() => handleSubmit()}\r\n                className=\"btn btn-primary btn-elevate\"\r\n              >\r\n                Save\r\n              </button>\r\n            </Modal.Footer>\r\n          </>\r\n        )}\r\n      </Formik>\r\n    </>\r\n  );\r\n}\r\n","import React, { useEffect, useMemo } from \"react\";\r\nimport { Modal } from \"react-bootstrap\";\r\nimport { shallowEqual, useDispatch, useSelector } from \"react-redux\";\r\nimport * as actions from \"../../../../_redux/specifications/specificationsActions\";\r\nimport { SpecificationEditDialogHeader } from \"./SpecificationEditDialogHeader\";\r\nimport { SpecificationEditForm } from \"./SpecificationEditForm\";\r\nimport { useSpecificationsUIContext } from \"../SpecificationsUIContext\";\r\n\r\nexport function SpecificationEditDialog() {\r\n  // Specifications UI Context\r\n  const specsUIContext = useSpecificationsUIContext();\r\n  const specsUIProps = useMemo(() => {\r\n    return {\r\n      id: specsUIContext.selectedId,\r\n      show: specsUIContext.showEditSpecificationDialog,\r\n      onHide: specsUIContext.closeEditSpecificationDialog,\r\n      productId: specsUIContext.productId,\r\n      queryParams: specsUIContext.queryParams,\r\n      initSpecification: specsUIContext.initSpecification,\r\n    };\r\n  }, [specsUIContext]);\r\n\r\n  // Specifications Redux state\r\n  const dispatch = useDispatch();\r\n  const { actionsLoading, specificationForEdit } = useSelector(\r\n    (state) => ({\r\n      actionsLoading: state.specifications.actionsLoading,\r\n      specificationForEdit: state.specifications.specificationForEdit,\r\n    }),\r\n    shallowEqual\r\n  );\r\n\r\n  useEffect(() => {\r\n    // server request for getting spec by seleted id\r\n    dispatch(actions.fetchSpecification(specsUIProps.id));\r\n  }, [specsUIProps.id, dispatch]);\r\n\r\n  const saveSpecification = (specification) => {\r\n    if (!specsUIProps.id) {\r\n      dispatch(actions.createSpecification(specification)).then(() => {\r\n        dispatch(\r\n          actions.fetchSpecifications(\r\n            specsUIProps.queryParams,\r\n            specsUIProps.productId\r\n          )\r\n        ).then(() => specsUIProps.onHide());\r\n      });\r\n    } else {\r\n      dispatch(actions.updateSpecification(specification)).then(() => {\r\n        dispatch(\r\n          actions.fetchSpecifications(\r\n            specsUIProps.queryParams,\r\n            specsUIProps.productId\r\n          )\r\n        ).then(() => specsUIProps.onHide());\r\n      });\r\n    }\r\n  };\r\n\r\n  return (\r\n    <Modal\r\n      show={specsUIProps.show}\r\n      onHide={specsUIProps.onHide}\r\n      aria-labelledby=\"example-modal-sizes-title-lg\"\r\n    >\r\n      <SpecificationEditDialogHeader id={specsUIProps.id} />\r\n      <SpecificationEditForm\r\n        saveSpecification={saveSpecification}\r\n        actionsLoading={actionsLoading}\r\n        specification={specificationForEdit || specsUIProps.initSpecification}\r\n        onHide={specsUIProps.onHide}\r\n      />\r\n    </Modal>\r\n  );\r\n}\r\n","import React, { useMemo } from \"react\";\r\nimport { SpecificationsFilter } from \"./SpecificationsFilter\";\r\nimport { SpecificationsTable } from \"./SpecificationsTable\";\r\nimport { SpecificationsLoadingDialog } from \"./SpecificationsLoadingDialog\";\r\nimport { SpecificationsDeleteDialog } from \"./SpecificationsDeleteDialog\";\r\nimport { SpecificationDeleteDialog } from \"./SpecificationDeleteDialog\";\r\nimport { SpecificationsFetchDialog } from \"./SpecificationsFetchDialog\";\r\nimport { SpecificationsGrouping } from \"./SpecificationsGrouping\";\r\nimport { SpecificationEditDialog } from \"./specification-edit-dialog/SpecificationEditDialog\";\r\nimport { useSpecificationsUIContext } from \"./SpecificationsUIContext\";\r\n\r\nexport function Specifications() {\r\n  // Specifications UI Context\r\n  const specsUIContext = useSpecificationsUIContext();\r\n  const specsUIProps = useMemo(() => {\r\n    return { ids: specsUIContext.ids };\r\n  }, [specsUIContext]);\r\n\r\n  return (\r\n    <>\r\n      <SpecificationsLoadingDialog />\r\n      <SpecificationEditDialog />\r\n      <SpecificationDeleteDialog />\r\n      <SpecificationsDeleteDialog />\r\n      <SpecificationsFetchDialog />\r\n      <div className=\"form margin-b-30\">\r\n        <SpecificationsFilter />\r\n        {specsUIProps.ids.length > 0 && (\r\n          <>\r\n            <SpecificationsGrouping />\r\n            <br />\r\n          </>\r\n        )}\r\n      </div>\r\n      <SpecificationsTable />\r\n    </>\r\n  );\r\n}\r\n","export const defaultSorted = [{ dataField: \"id\", order: \"asc\" }];\r\nexport const sizePerPageList = [\r\n  { text: \"1\", value: 1 },\r\n  { text: \"3\", value: 3 },\r\n  { text: \"5\", value: 5 }\r\n];\r\nexport const initialFilter = {\r\n  filter: {\r\n    text: \"\"\r\n  },\r\n  sortOrder: \"asc\", // asc||desc\r\n  sortField: \"id\",\r\n  pageNumber: 1,\r\n  pageSize: 5\r\n};\r\n","/* eslint-disable no-unused-vars */\r\nimport React, { useEffect, useContext, createContext, useState, useCallback } from \"react\";\r\nimport {isEqual, isFunction} from \"lodash\";\r\nimport {initialFilter} from \"./RemarksUIHelper\";\r\n\r\nconst RemarksUIContext = createContext();\r\n\r\nexport function useRemarksUIContext() {\r\n  return useContext(RemarksUIContext);\r\n}\r\n\r\nexport const RemarksUIConsumer = RemarksUIContext.Consumer;\r\n\r\nexport function RemarksUIProvider({ currentProductId, children }) {\r\n  const [productId, setProductId] = useState(currentProductId);\r\n  const [queryParams, setQueryParamsBase] = useState(initialFilter);\r\n  const [ids, setIds] = useState([]);\r\n  const setQueryParams = useCallback(nextQueryParams => {\r\n    setQueryParamsBase(prevQueryParams => {\r\n      if (isFunction(nextQueryParams)) {\r\n        nextQueryParams = nextQueryParams(prevQueryParams);\r\n      }\r\n\r\n      if (isEqual(prevQueryParams, nextQueryParams)) {\r\n        return prevQueryParams;\r\n      }\r\n\r\n      return nextQueryParams;\r\n    });\r\n  }, []);\r\n  const [selectedId, setSelectedId] = useState(null);\r\n  const [showEditRemarkDialog, setShowEditRemarkDialog] = useState(false);\r\n  const initRemark = {\r\n    id: undefined,\r\n    text: \"\",\r\n    type: 0,\r\n    dueDate: \"01/07/2020\",\r\n    carId: productId\r\n  };\r\n  useEffect(()=> {\r\n    initRemark.productId = currentProductId;\r\n    initRemark.carId = currentProductId;\r\n    setProductId(currentProductId);\r\n  // eslint-disable-next-line react-hooks/exhaustive-deps\r\n  }, [currentProductId]);\r\n  const openNewRemarkDialog = () => {\r\n    setSelectedId(undefined);\r\n    setShowEditRemarkDialog(true);\r\n  };\r\n  const openEditRemarkDialog = id => {\r\n    setSelectedId(id);\r\n    setShowEditRemarkDialog(true);\r\n  };\r\n  const closeEditRemarkDialog = () => {\r\n    setSelectedId(undefined);\r\n    setShowEditRemarkDialog(false);\r\n  };\r\n  const [showDeleteRemarkDialog, setShowDeleteRemarkDialog] = useState(false);\r\n  const openDeleteRemarkDialog = id => {\r\n    setSelectedId(id);\r\n    setShowDeleteRemarkDialog(true);\r\n  };\r\n  const closeDeleteRemarkDialog = () => {\r\n    setSelectedId(undefined);\r\n    setShowDeleteRemarkDialog(false);\r\n  };\r\n\r\n  const [showDeleteRemarksDialog, setShowDeleteRemarksDialog] = useState(false);\r\n  const openDeleteRemarksDialog = () => {\r\n    setShowDeleteRemarksDialog(true);\r\n  };\r\n  const closeDeleteRemarksDialog = () => {\r\n    setShowDeleteRemarksDialog(false);\r\n  };\r\n\r\n  const [showFetchRemarksDialog, setShowFetchRemarksDialog] = useState(false);\r\n  const openFetchRemarksDialog = () => {\r\n    setShowFetchRemarksDialog(true);\r\n  };\r\n  const closeFetchRemarksDialog = () => {\r\n    setShowFetchRemarksDialog(false);\r\n  };\r\n\r\n  const value = {\r\n    ids,\r\n    setIds,\r\n    productId,\r\n    setProductId,\r\n    queryParams,\r\n    setQueryParams,\r\n    initRemark,\r\n    selectedId,\r\n    showEditRemarkDialog,\r\n    openNewRemarkDialog,    \r\n    openEditRemarkDialog,\r\n    closeEditRemarkDialog,\r\n    showDeleteRemarkDialog,\r\n    openDeleteRemarkDialog,\r\n    closeDeleteRemarkDialog,\r\n    showDeleteRemarksDialog,\r\n    openDeleteRemarksDialog,\r\n    closeDeleteRemarksDialog,\r\n    openFetchRemarksDialog,\r\n    closeFetchRemarksDialog,\r\n    showFetchRemarksDialog\r\n  };\r\n  \r\n  return (\r\n    <RemarksUIContext.Provider value={value}>\r\n      {children}\r\n    </RemarksUIContext.Provider>\r\n  );\r\n}\r\n","import React, { useMemo } from \"react\";\r\nimport { Formik } from \"formik\";\r\nimport { isEqual } from \"lodash\";\r\nimport { useRemarksUIContext } from \"./RemarksUIContext\";\r\n\r\nconst prepareFilter = (queryParams, values) => {\r\n  const { searchText } = values;\r\n  const newQueryParams = { ...queryParams };\r\n  const filter = {};\r\n  filter.text = searchText;\r\n  newQueryParams.filter = filter;\r\n  return newQueryParams;\r\n};\r\n\r\nexport function RemarksFilter() {\r\n  // Remarks UI Context\r\n  const remarksUIContext = useRemarksUIContext();\r\n  const remarksUIProps = useMemo(() => {\r\n    return {\r\n      setQueryParams: remarksUIContext.setQueryParams,\r\n      openNewRemarkDialog: remarksUIContext.openNewRemarkDialog,\r\n      queryParams: remarksUIContext.queryParams,\r\n    };\r\n  }, [remarksUIContext]);\r\n\r\n  const applyFilter = (values) => {\r\n    const newQueryParams = prepareFilter(remarksUIProps.queryParams, values);\r\n    if (!isEqual(newQueryParams, remarksUIProps.queryParams)) {\r\n      newQueryParams.pageNumber = 1;\r\n      remarksUIProps.setQueryParams(newQueryParams);\r\n    }\r\n  };\r\n\r\n  return (\r\n    <>\r\n      <div className=\"form-filtration\">\r\n        <div className=\"row align-items-center\">\r\n          <div className=\"col-md-2 margin-bottom-10-mobile\">\r\n            <Formik\r\n              initialValues={{\r\n                searchText: \"\",\r\n              }}\r\n              onSubmit={(values) => {\r\n                applyFilter(values);\r\n              }}\r\n            >\r\n              {({\r\n                values,\r\n                handleSubmit,\r\n                handleBlur,\r\n                handleChange,\r\n                setFieldValue,\r\n              }) => (\r\n                <form onSubmit={handleSubmit}>\r\n                  <div>\r\n                    <input\r\n                      type=\"text\"\r\n                      className=\"form-control\"\r\n                      name=\"searchText\"\r\n                      placeholder=\"Search\"\r\n                      onBlur={handleBlur}\r\n                      value={values.searchText}\r\n                      onChange={(e) => {\r\n                        setFieldValue(\"searchText\", e.target.value);\r\n                        handleSubmit();\r\n                      }}\r\n                    />\r\n                    <small className=\"form-text text-muted\">\r\n                      <b>Search</b> in all fields\r\n                    </small>\r\n                  </div>\r\n                </form>\r\n              )}\r\n            </Formik>\r\n          </div>\r\n          <div className=\"col-md-8 margin-bottom-10-mobile\"></div>\r\n          <div className=\"col-md-2 text-right margin-bottom-10-mobile\">\r\n            <button\r\n              type=\"button\"\r\n              className=\"btn btn-primary\"\r\n              onClick={() => remarksUIProps.openNewRemarkDialog()}\r\n            >\r\n              Create new remark\r\n            </button>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </>\r\n  );\r\n}\r\n","import * as requestFromServer from \"./remarksCrud\";\r\nimport {remarksSlice, callTypes} from \"./remarksSlice\";\r\n\r\nconst {actions} = remarksSlice;\r\n\r\nexport const fetchRemarks = (queryParams, productId) => dispatch => {\r\n  dispatch(actions.startCall({ callType: callTypes.list }));\r\n  if (!productId) {\r\n    return dispatch(actions.remarksFetched({ totalCount: 0, entities: null }));\r\n  }\r\n\r\n  return requestFromServer\r\n    .findRemarks(queryParams, productId)\r\n    .then(response => {\r\n      const { totalCount, entities } = response.data;\r\n      dispatch(actions.remarksFetched({ totalCount, entities }));\r\n    })\r\n    .catch(error => {\r\n      error.clientMessage = \"Can't find remarks\";\r\n      dispatch(actions.catchError({ error, callType: callTypes.list }));\r\n    });\r\n};\r\n\r\nexport const fetchRemark = id => dispatch => {\r\n  if (!id) {\r\n    return dispatch(actions.remarkFetched({ remarkForEdit: undefined }));\r\n  }\r\n\r\n  dispatch(actions.startCall({ callType: callTypes.action }));\r\n  return requestFromServer\r\n    .getRemarkById(id)\r\n    .then(response => {\r\n      const remark = response.data;\r\n      dispatch(actions.remarkFetched({ remarkForEdit: remark }));\r\n    })\r\n    .catch(error => {\r\n      error.clientMessage = \"Can't find remark\";\r\n      dispatch(actions.catchError({ error, callType: callTypes.action }));\r\n    });\r\n};\r\n\r\nexport const deleteRemark = id => dispatch => {\r\n  dispatch(actions.startCall({ callType: callTypes.action }));\r\n  return requestFromServer\r\n    .deleteRemark(id)\r\n    .then(response => {\r\n      dispatch(actions.remarkDeleted({ id }));\r\n    })\r\n    .catch(error => {\r\n      error.clientMessage = \"Can't delete remark\";\r\n      dispatch(actions.catchError({ error, callType: callTypes.action }));\r\n    });\r\n};\r\n\r\nexport const createRemark = remarkForCreation => dispatch => {\r\n  dispatch(actions.startCall({ callType: callTypes.action }));\r\n  return requestFromServer\r\n    .createRemark(remarkForCreation)\r\n    .then(response => {\r\n      const { remark } = response.data;\r\n      dispatch(actions.remarkCreated({ remark }));\r\n    })\r\n    .catch(error => {\r\n      error.clientMessage = \"Can't create remark\";\r\n      dispatch(actions.catchError({ error, callType: callTypes.action }));\r\n    });\r\n};\r\n\r\nexport const updateRemark = remark => dispatch => {\r\n  dispatch(actions.startCall({ callType: callTypes.action }));\r\n  return requestFromServer\r\n    .updateRemark(remark)\r\n    .then(() => {\r\n      dispatch(actions.remarkUpdated({ remark }));\r\n    })\r\n    .catch(error => {\r\n      error.clientMessage = \"Can't update remark\";\r\n      dispatch(actions.catchError({ error, callType: callTypes.action }));\r\n    });\r\n};\r\n\r\nexport const deleteRemarks = ids => dispatch => {\r\n  dispatch(actions.startCall({ callType: callTypes.action }));\r\n  return requestFromServer\r\n    .deleteRemarks(ids)\r\n    .then(() => {\r\n      console.log(\"delete return\");\r\n      dispatch(actions.remarksDeleted({ ids }));\r\n    })\r\n    .catch(error => {\r\n      error.clientMessage = \"Can't delete remarks\";\r\n      dispatch(actions.catchError({ error, callType: callTypes.action }));\r\n    });\r\n};\r\n","import axios from \"axios\";\r\n\r\nexport const REMARKS_URL = \"remarks\";\r\n\r\n// CREATE =>  POST: add a new remark to the server\r\nexport function createRemark(remark) {\r\n  return axios.post(REMARKS_URL, { remark });\r\n}\r\n\r\n// READ\r\n// Server should return filtered remarks by productId\r\nexport function getAllProductRemarksByProductId(productId) {\r\n  return axios.get(`${REMARKS_URL}?productId=${productId}`);\r\n}\r\n\r\nexport function getRemarkById(remarkId) {\r\n  return axios.get(`${REMARKS_URL}/${remarkId}`);\r\n}\r\n\r\n// Server should return sorted/filtered remarks and merge with items from state\r\n// TODO: Change your URL to REAL API, right now URL is 'remarksfind/{productId}'. Should be 'remarks/find/{productId}'!!!\r\nexport function findRemarks(queryParams, productId) {\r\n  return axios.post(`${REMARKS_URL}find/${productId}`, { queryParams });\r\n}\r\n\r\n// UPDATE => PUT: update the remark\r\nexport function updateRemark(remark) {\r\n  return axios.put(`${REMARKS_URL}/${remark.id}`, { remark });\r\n}\r\n\r\n// DELETE => delete the remark\r\nexport function deleteRemark(remarkId) {\r\n  return axios.delete(`${REMARKS_URL}/${remarkId}`);\r\n}\r\n\r\n// DELETE Remarks by ids\r\nexport function deleteRemarks(ids) {\r\n  return axios.post(`${REMARKS_URL}/deleteRemarks`, { ids });\r\n}\r\n","/* eslint-disable no-script-url,jsx-a11y/anchor-is-valid */\r\nimport React from \"react\";\r\nimport { OverlayTrigger, Tooltip } from \"react-bootstrap\";\r\nimport SVG from \"react-inlinesvg\";\r\nimport { toAbsoluteUrl } from \"../../../../../../../_metronic/_helpers\";\r\n\r\nexport const ActionsColumnFormatter = (\r\n  cellContent,\r\n  row,\r\n  rowIndex,\r\n  { openEditRemarkDialog, openDeleteRemarkDialog }\r\n) => (\r\n  <>\r\n    <OverlayTrigger\r\n      overlay={<Tooltip id=\"customers-edit-tooltip\">Edit remark</Tooltip>}\r\n    >\r\n      <a\r\n        className=\"btn btn-icon btn-light btn-hover-primary btn-sm mx-3\"\r\n        onClick={() => openEditRemarkDialog(row.id)}\r\n      >\r\n        <span className=\"svg-icon svg-icon-md svg-icon-primary\">\r\n          <SVG\r\n            src={toAbsoluteUrl(\"/media/svg/icons/Communication/Write.svg\")}\r\n          />\r\n        </span>\r\n      </a>\r\n    </OverlayTrigger>\r\n\r\n    <> </>\r\n    <OverlayTrigger\r\n      overlay={<Tooltip id=\"customers-delete-tooltip\">Delete remark</Tooltip>}\r\n    >\r\n      <a\r\n        className=\"btn btn-icon btn-light btn-hover-danger btn-sm\"\r\n        onClick={() => openDeleteRemarkDialog(row.id)}\r\n      >\r\n        <span className=\"svg-icon svg-icon-md svg-icon-danger\">\r\n          <SVG src={toAbsoluteUrl(\"/media/svg/icons/General/Trash.svg\")} />\r\n        </span>\r\n      </a>\r\n    </OverlayTrigger>\r\n  </>\r\n);\r\n","// React bootstrap table next =>\r\n// DOCS: https://react-bootstrap-table.github.io/react-bootstrap-table2/docs/\r\n// STORYBOOK: https://react-bootstrap-table.github.io/react-bootstrap-table2/storybook/index.html\r\nimport React, { useEffect, useMemo } from \"react\";\r\nimport { shallowEqual, useDispatch, useSelector } from \"react-redux\";\r\nimport BootstrapTable from \"react-bootstrap-table-next\";\r\nimport paginationFactory, {\r\n  PaginationProvider,\r\n} from \"react-bootstrap-table2-paginator\";\r\nimport * as actions from \"../../../_redux/remarks/remarksActions\";\r\nimport { ActionsColumnFormatter } from \"./column-formatters/ActionsColumnFormatter\";\r\nimport * as uiHelpers from \"./RemarksUIHelper\";\r\nimport { Pagination } from \"../../../../../../_metronic/_partials/controls\";\r\nimport {\r\n  getSelectRow,\r\n  getHandlerTableChange,\r\n  NoRecordsFoundMessage,\r\n  PleaseWaitMessage,\r\n  sortCaret,\r\n} from \"../../../../../../_metronic/_helpers\";\r\nimport { useRemarksUIContext } from \"./RemarksUIContext\";\r\n\r\nexport function RemarksTable() {\r\n  // Remarks UI Context\r\n  const remarksUIContext = useRemarksUIContext();\r\n  const remarksUIProps = useMemo(() => {\r\n    return {\r\n      ids: remarksUIContext.ids,\r\n      setIds: remarksUIContext.setIds,\r\n      queryParams: remarksUIContext.queryParams,\r\n      setQueryParams: remarksUIContext.setQueryParams,\r\n      productId: remarksUIContext.productId,\r\n      openEditRemarkDialog: remarksUIContext.openEditRemarkDialog,\r\n      openDeleteRemarkDialog: remarksUIContext.openDeleteRemarkDialog,\r\n    };\r\n  }, [remarksUIContext]);\r\n\r\n  // Getting curret state of products list from store (Redux)\r\n  const { currentState } = useSelector(\r\n    (state) => ({ currentState: state.remarks }),\r\n    shallowEqual\r\n  );\r\n  const { totalCount, entities, listLoading } = currentState;\r\n  const dispatch = useDispatch();\r\n  useEffect(() => {\r\n    remarksUIProps.setIds([]);\r\n    dispatch(\r\n      actions.fetchRemarks(remarksUIProps.queryParams, remarksUIProps.productId)\r\n    );\r\n    // eslint-disable-next-line react-hooks/exhaustive-deps\r\n  }, [remarksUIProps.queryParams, dispatch, remarksUIProps.productId]);\r\n  const columns = [\r\n    {\r\n      dataField: \"id\",\r\n      text: \"ID\",\r\n      sort: true,\r\n      sortCaret: sortCaret,\r\n    },\r\n    {\r\n      dataField: \"text\",\r\n      text: \"Text\",\r\n      sort: true,\r\n      sortCaret: sortCaret,\r\n    },\r\n    {\r\n      dataField: \"dueDate\",\r\n      text: \"Due date\",\r\n      sort: false,\r\n    },\r\n    {\r\n      dataField: \"action\",\r\n      text: \"Actions\",\r\n      formatter: ActionsColumnFormatter,\r\n      formatExtraData: {\r\n        openEditRemarkDialog: remarksUIProps.openEditRemarkDialog,\r\n        openDeleteRemarkDialog: remarksUIProps.openDeleteRemarkDialog,\r\n      },\r\n      classes: \"text-right p-0\",\r\n      headerClasses: \"text-right pr-3\",\r\n      style: {\r\n        minWidth: \"100px\",\r\n      },\r\n    },\r\n  ];\r\n\r\n  const paginationOptions = {\r\n    custom: true,\r\n    totalSize: totalCount,\r\n    sizePerPageList: uiHelpers.sizePerPageList,\r\n    sizePerPage: remarksUIProps.queryParams.pageSize,\r\n    page: remarksUIProps.queryParams.pageNumber,\r\n  };\r\n  return (\r\n    <>\r\n      <PaginationProvider pagination={paginationFactory(paginationOptions)}>\r\n        {({ paginationProps, paginationTableProps }) => {\r\n          return (\r\n            <Pagination\r\n              isLoading={listLoading}\r\n              paginationProps={paginationProps}\r\n            >\r\n              <BootstrapTable\r\n                wrapperClasses=\"table-responsive\"\r\n                classes=\"table table-head-custom table-vertical-center overflow-hidden\"\r\n                bordered={false}\r\n                bootstrap4\r\n                remote\r\n                keyField=\"id\"\r\n                data={entities === null ? [] : entities}\r\n                columns={columns}\r\n                defaultSorted={uiHelpers.defaultSorted}\r\n                onTableChange={getHandlerTableChange(\r\n                  remarksUIProps.setQueryParams\r\n                )}\r\n                selectRow={getSelectRow({\r\n                  entities,\r\n                  ids: remarksUIProps.ids,\r\n                  setIds: remarksUIProps.setIds,\r\n                })}\r\n                {...paginationTableProps}\r\n              >\r\n                <PleaseWaitMessage entities={entities} />\r\n                <NoRecordsFoundMessage entities={entities} />\r\n              </BootstrapTable>\r\n            </Pagination>\r\n          );\r\n        }}\r\n      </PaginationProvider>\r\n    </>\r\n  );\r\n}\r\n","import React, {useEffect} from \"react\";\r\nimport {shallowEqual, useSelector} from \"react-redux\";\r\nimport {LoadingDialog} from \"../../../../../../_metronic/_partials/controls\";\r\n\r\nexport function RemarksLoadingDialog() {\r\n  const { isLoading } = useSelector(\r\n    state => ({ isLoading: state.remarks.listLoading }),\r\n    shallowEqual\r\n  );\r\n  useEffect(() => {}, [isLoading]);\r\n  return <LoadingDialog isLoading={isLoading} text=\"Loading ...\" />;\r\n}\r\n","/* eslint-disable no-restricted-imports */\r\nimport React, { useEffect, useMemo } from \"react\";\r\nimport { Modal } from \"react-bootstrap\";\r\nimport { shallowEqual, useDispatch, useSelector } from \"react-redux\";\r\nimport { ModalProgressBar } from \"../../../../../../_metronic/_partials/controls\";\r\nimport * as actions from \"../../../_redux/remarks/remarksActions\";\r\nimport { useRemarksUIContext } from \"./RemarksUIContext\";\r\n\r\nexport function RemarksDeleteDialog() {\r\n  // Remarks UI Context\r\n  const remarksUIContext = useRemarksUIContext();\r\n  const remarksUIProps = useMemo(() => {\r\n    return {\r\n      ids: remarksUIContext.ids,\r\n      setIds: remarksUIContext.setIds,\r\n      productId: remarksUIContext.productId,\r\n      queryParams: remarksUIContext.queryParams,\r\n      showDeleteRemarksDialog: remarksUIContext.showDeleteRemarksDialog,\r\n      closeDeleteRemarksDialog: remarksUIContext.closeDeleteRemarksDialog,\r\n    };\r\n  }, [remarksUIContext]);\r\n\r\n  const dispatch = useDispatch();\r\n  const { isLoading } = useSelector(\r\n    (state) => ({ isLoading: state.remarks.actionsLoading }),\r\n    shallowEqual\r\n  );\r\n\r\n  useEffect(() => {}, [isLoading, dispatch]);\r\n  useEffect(() => {\r\n    if (!remarksUIProps.ids || remarksUIProps.ids.length === 0) {\r\n      remarksUIProps.closeDeleteRemarksDialog();\r\n    }\r\n    // eslint-disable-next-line react-hooks/exhaustive-deps\r\n  }, [remarksUIProps.ids]);\r\n\r\n  const deleteRemarks = () => {\r\n    dispatch(actions.deleteRemarks(remarksUIProps.ids)).then(() => {\r\n      dispatch(\r\n        actions.fetchRemarks(\r\n          remarksUIProps.queryParams,\r\n          remarksUIProps.productId\r\n        )\r\n      ).then(() => {\r\n        remarksUIProps.setIds([]);\r\n        remarksUIProps.closeDeleteRemarksDialog();\r\n      });\r\n    });\r\n  };\r\n\r\n  return (\r\n    <Modal\r\n      show={remarksUIProps.showDeleteRemarksDialog}\r\n      onHide={remarksUIProps.closeDeleteRemarksDialog}\r\n      aria-labelledby=\"example-modal-sizes-title-lg\"\r\n    >\r\n      {isLoading && <ModalProgressBar variant=\"query\" />}\r\n      <Modal.Header closeButton>\r\n        <Modal.Title id=\"example-modal-sizes-title-lg\">\r\n          Remarks Delete\r\n        </Modal.Title>\r\n      </Modal.Header>\r\n      <Modal.Body>\r\n        {!isLoading && (\r\n          <span>Are you sure to permanently delete selected remarks?</span>\r\n        )}\r\n        {isLoading && <span>Remarks are deleting...</span>}\r\n      </Modal.Body>\r\n      <Modal.Footer>\r\n        <div>\r\n          <button\r\n            type=\"button\"\r\n            onClick={remarksUIProps.closeDeleteRemarksDialog}\r\n            className=\"btn btn-light btn-elevate\"\r\n          >\r\n            Cancel\r\n          </button>\r\n          <> </>\r\n          <button\r\n            type=\"button\"\r\n            onClick={deleteRemarks}\r\n            className=\"btn btn-primary btn-elevate\"\r\n          >\r\n            Delete\r\n          </button>\r\n        </div>\r\n      </Modal.Footer>\r\n    </Modal>\r\n  );\r\n}\r\n","/* eslint-disable no-restricted-imports */\r\nimport React, { useEffect, useMemo } from \"react\";\r\nimport { Modal } from \"react-bootstrap\";\r\nimport { shallowEqual, useDispatch, useSelector } from \"react-redux\";\r\nimport { ModalProgressBar } from \"../../../../../../_metronic/_partials/controls\";\r\nimport * as actions from \"../../../_redux/remarks/remarksActions\";\r\nimport { useRemarksUIContext } from \"./RemarksUIContext\";\r\n\r\nexport function RemarkDeleteDialog() {\r\n  // Remarks UI Context\r\n  const remarksUIContext = useRemarksUIContext();\r\n  const remarksUIProps = useMemo(() => {\r\n    return {\r\n      id: remarksUIContext.selectedId,\r\n      setIds: remarksUIContext.setIds,\r\n      productId: remarksUIContext.productId,\r\n      queryParams: remarksUIContext.queryParams,\r\n      showDeleteRemarkDialog: remarksUIContext.showDeleteRemarkDialog,\r\n      closeDeleteRemarkDialog: remarksUIContext.closeDeleteRemarkDialog,\r\n    };\r\n  }, [remarksUIContext]);\r\n\r\n  // Remarks Redux state\r\n  const dispatch = useDispatch();\r\n  const { isLoading } = useSelector(\r\n    (state) => ({ isLoading: state.remarks.actionsLoading }),\r\n    shallowEqual\r\n  );\r\n\r\n  // if !id we should close modal\r\n  useEffect(() => {\r\n    if (!remarksUIProps.id) {\r\n      remarksUIProps.closeDeleteRemarkDialog();\r\n    }\r\n    // eslint-disable-next-line react-hooks/exhaustive-deps\r\n  }, [remarksUIProps.id]);\r\n\r\n  // looking for loading/dispatch\r\n  useEffect(() => {}, [isLoading, dispatch]);\r\n\r\n  const deleteRemark = () => {\r\n    // server request for deleting remark by id\r\n    dispatch(actions.deleteRemark(remarksUIProps.id)).then(() => {\r\n      // refresh list after deletion\r\n      dispatch(\r\n        actions.fetchRemarks(\r\n          remarksUIProps.queryParams,\r\n          remarksUIProps.productId\r\n        )\r\n      );\r\n      // clear selections list\r\n      remarksUIProps.setIds([]);\r\n      // closing delete modal\r\n      remarksUIProps.closeDeleteRemarkDialog();\r\n    });\r\n  };\r\n\r\n  return (\r\n    <Modal\r\n      show={remarksUIProps.showDeleteRemarkDialog}\r\n      onHide={remarksUIProps.closeDeleteRemarkDialog}\r\n      aria-labelledby=\"example-modal-sizes-title-lg\"\r\n    >\r\n      {isLoading && <ModalProgressBar variant=\"query\" />}\r\n      <Modal.Header closeButton>\r\n        <Modal.Title id=\"example-modal-sizes-title-lg\">\r\n          Remark Delete\r\n        </Modal.Title>\r\n      </Modal.Header>\r\n      <Modal.Body>\r\n        {!isLoading && (\r\n          <span>Are you sure to permanently delete this remark?</span>\r\n        )}\r\n        {isLoading && <span>Remark is deleting...</span>}\r\n      </Modal.Body>\r\n      <Modal.Footer>\r\n        <div>\r\n          <button\r\n            type=\"button\"\r\n            onClick={remarksUIProps.closeDeleteRemarkDialog}\r\n            className=\"btn btn-light btn-elevate\"\r\n          >\r\n            Cancel\r\n          </button>\r\n          <> </>\r\n          <button\r\n            type=\"button\"\r\n            onClick={deleteRemark}\r\n            className=\"btn btn-primary btn-elevate\"\r\n          >\r\n            Delete\r\n          </button>\r\n        </div>\r\n      </Modal.Footer>\r\n    </Modal>\r\n  );\r\n}\r\n","import React, { useEffect, useMemo } from \"react\";\r\nimport { Modal } from \"react-bootstrap\";\r\nimport { shallowEqual, useSelector } from \"react-redux\";\r\nimport { useRemarksUIContext } from \"./RemarksUIContext\";\r\n\r\nconst selectedRemarks = (entities, ids) => {\r\n  const _remarks = [];\r\n  ids.forEach((id) => {\r\n    const remark = entities.find((el) => el.id === id);\r\n    if (remark) {\r\n      _remarks.push(remark);\r\n    }\r\n  });\r\n  return _remarks;\r\n};\r\n\r\nexport function RemarksFetchDialog() {\r\n  // Remarks UI Context\r\n  const remarksUIContext = useRemarksUIContext();\r\n  const remarksUIProps = useMemo(() => {\r\n    return {\r\n      ids: remarksUIContext.ids,\r\n      queryParams: remarksUIContext.queryParams,\r\n      showFetchRemarksDialog: remarksUIContext.showFetchRemarksDialog,\r\n      closeFetchRemarksDialog: remarksUIContext.closeFetchRemarksDialog,\r\n    };\r\n  }, [remarksUIContext]);\r\n\r\n  const { remarks } = useSelector(\r\n    (state) => ({\r\n      remarks: selectedRemarks(state.remarks.entities, remarksUIProps.ids),\r\n    }),\r\n    shallowEqual\r\n  );\r\n\r\n  useEffect(() => {\r\n    if (!remarksUIProps.ids || remarksUIProps.ids.length === 0) {\r\n      remarksUIProps.closeFetchRemarksDialog();\r\n    }\r\n    // eslint-disable-next-line react-hooks/exhaustive-deps\r\n  }, [remarksUIProps.ids]);\r\n\r\n  return (\r\n    <Modal\r\n      show={remarksUIProps.showFetchRemarksDialog}\r\n      onHide={remarksUIProps.closeFetchRemarksDialog}\r\n      aria-labelledby=\"example-modal-sizes-title-lg\"\r\n    >\r\n      <Modal.Header closeButton>\r\n        <Modal.Title id=\"example-modal-sizes-title-lg\">\r\n          Fetch selected elements\r\n        </Modal.Title>\r\n      </Modal.Header>\r\n      <Modal.Body>\r\n        <div className=\"list-timeline list-timeline-skin-light padding-30\">\r\n          <div className=\"list-timeline-items\">\r\n            {remarks.map((remark) => (\r\n              <div className=\"list-timeline-item mb-3\" key={remark.id}>\r\n                <span className=\"list-timeline-text\">\r\n                  <span\r\n                    className=\"label label-lg label-light-success label-inline\"\r\n                    style={{ width: \"60px\" }}\r\n                  >\r\n                    ID: {remark.id}\r\n                  </span>{\" \"}\r\n                  <span className=\"ml-5\">{remark.text} </span>\r\n                </span>\r\n              </div>\r\n            ))}\r\n          </div>\r\n        </div>\r\n      </Modal.Body>\r\n      <Modal.Footer>\r\n        <div>\r\n          <button\r\n            type=\"button\"\r\n            onClick={remarksUIProps.closeFetchRemarksDialog}\r\n            className=\"btn btn-light btn-elevate\"\r\n          >\r\n            Cancel\r\n          </button>\r\n          <> </>\r\n          <button\r\n            type=\"button\"\r\n            onClick={remarksUIProps.closeFetchRemarksDialog}\r\n            className=\"btn btn-primary btn-elevate\"\r\n          >\r\n            Ok\r\n          </button>\r\n        </div>\r\n      </Modal.Footer>\r\n    </Modal>\r\n  );\r\n}\r\n","import React, { useMemo } from \"react\";\r\nimport { useRemarksUIContext } from \"./RemarksUIContext\";\r\n\r\nexport function RemarksGrouping() {\r\n  // Remarks UI Context\r\n  const remarksUIContext = useRemarksUIContext();\r\n  const remarksUIProps = useMemo(() => {\r\n    return {\r\n      ids: remarksUIContext.ids,\r\n      openDeleteRemarksDialog: remarksUIContext.openDeleteRemarksDialog,\r\n      openFetchRemarksDialog: remarksUIContext.openFetchRemarksDialog,\r\n    };\r\n  }, [remarksUIContext]);\r\n\r\n  return (\r\n    <div className=\"form\">\r\n      <div className=\"row align-items-center form-group-actions margin-top-20\">\r\n        <div className=\"col-xl-12\">\r\n          <div className=\"form-group form-group-inline\">\r\n            <div className=\"form-label form-label-no-wrap\">\r\n              <label className=\"font-bold font-danger mt-5\">\r\n                <span>Selected records count: {remarksUIProps.ids.length}</span>\r\n              </label>\r\n            </div>\r\n            <div className=\"form-group-inline\">\r\n              <button\r\n                type=\"button\"\r\n                className=\"btn btn-danger font-weight-bolder font-size-sm\"\r\n                onClick={remarksUIProps.openDeleteRemarksDialog}\r\n              >\r\n                <i className=\"fa fa-trash\"></i> Delete All\r\n              </button>\r\n              &nbsp;\r\n              <button\r\n                type=\"button\"\r\n                className=\"btn btn-light-primary font-weight-bolder font-size-sm\"\r\n                onClick={remarksUIProps.openFetchRemarksDialog}\r\n              >\r\n                <i className=\"fa fa-stream\"></i> Fetch Selected\r\n              </button>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n","/* eslint-disable no-restricted-imports */\r\nimport React, { useState, useEffect } from \"react\";\r\nimport { shallowEqual, useSelector } from \"react-redux\";\r\nimport { Modal } from \"react-bootstrap\";\r\nimport { ModalProgressBar } from \"../../../../../../../_metronic/_partials/controls\";\r\n\r\nexport function RemarkEditDialogHeader({ id }) {\r\n  const [title, setTitle] = useState(\"\");\r\n  // Remarks Redux state\r\n  const { remarkForEdit, actionsLoading } = useSelector(\r\n    (state) => ({\r\n      remarkForEdit: state.remarks.remarkForEdit,\r\n      actionsLoading: state.remarks.actionsLoading,\r\n    }),\r\n    shallowEqual\r\n  );\r\n\r\n  useEffect(() => {\r\n    let _title = id ? \"\" : \"New Remark\";\r\n    if (remarkForEdit && id) {\r\n      _title = \"Edit remark\";\r\n    }\r\n\r\n    setTitle(_title);\r\n    // eslint-disable-next-line\r\n  }, [remarkForEdit, actionsLoading]);\r\n\r\n  return (\r\n    <>\r\n      {actionsLoading && <ModalProgressBar variant=\"query\" />}\r\n      <Modal.Header closeButton>\r\n        <Modal.Title id=\"example-modal-sizes-title-lg\">{title}</Modal.Title>\r\n      </Modal.Header>\r\n    </>\r\n  );\r\n}\r\n","// Form is based on Formik\r\n// Data validation is based on Yup\r\n// Please, be familiar with article first:\r\n// https://hackernoon.com/react-form-validation-with-formik-and-yup-8b76bda62e10\r\nimport React from \"react\";\r\nimport { Modal } from \"react-bootstrap\";\r\nimport { Formik, Form, Field } from \"formik\";\r\nimport * as Yup from \"yup\";\r\nimport {\r\n  Input,\r\n  Select,\r\n  DatePickerField,\r\n} from \"../../../../../../../_metronic/_partials/controls\";\r\n\r\n// Validation schema\r\nconst RemarkEditSchema = Yup.object().shape({\r\n  text: Yup.string()\r\n    .min(2, \"Minimum 2 symbols\")\r\n    .max(50, \"Maximum 50 symbols\")\r\n    .required(\"Text is required\"),\r\n  type: Yup.number().required(\"Type is required\"),\r\n  dueDate: Yup.mixed()\r\n    .nullable(false)\r\n    .required(\"Due date is required\"),\r\n});\r\n\r\nexport function RemarkEditForm({ saveRemark, remark, actionsLoading, onHide }) {\r\n  return (\r\n    <>\r\n      <Formik\r\n        enableReinitialize={true}\r\n        initialValues={remark}\r\n        validationSchema={RemarkEditSchema}\r\n        onSubmit={(values) => saveRemark(values)}\r\n      >\r\n        {({ handleSubmit }) => (\r\n          <>\r\n            <Modal.Body className=\"overlay overlay-block cursor-default\">\r\n              {actionsLoading && (\r\n                <div className=\"overlay-layer bg-transparent\">\r\n                  <div className=\"spinner spinner-lg spinner-success\" />\r\n                </div>\r\n              )}\r\n              <Form className=\"form form-label-right\">\r\n                <div className=\"form-group row\">\r\n                  <div className=\"col-lg-12\">\r\n                    <Field\r\n                      name=\"text\"\r\n                      component={Input}\r\n                      placeholder=\"Text\"\r\n                      label=\"Text\"\r\n                    />\r\n                  </div>\r\n                </div>\r\n                <div className=\"form-group row\">\r\n                  <div className=\"col-lg-12\">\r\n                    <DatePickerField name=\"dueDate\" label=\"Due date\" />\r\n                  </div>\r\n                </div>\r\n                <div className=\"form-group row\">\r\n                  <div className=\"col-lg-12\">\r\n                    <Select name=\"type\" label=\"Type\">\r\n                      <option value=\"0\">Info</option>\r\n                      <option value=\"1\">Note</option>\r\n                      <option value=\"2\">Reminder</option>\r\n                    </Select>\r\n                  </div>\r\n                </div>\r\n              </Form>\r\n            </Modal.Body>\r\n            <Modal.Footer>\r\n              <button\r\n                type=\"button\"\r\n                onClick={onHide}\r\n                className=\"btn btn-light btn-elevate\"\r\n              >\r\n                Cancel\r\n              </button>\r\n              <> </>\r\n              <button\r\n                type=\"submit\"\r\n                onClick={() => handleSubmit()}\r\n                className=\"btn btn-primary btn-elevate\"\r\n              >\r\n                Save\r\n              </button>\r\n            </Modal.Footer>\r\n          </>\r\n        )}\r\n      </Formik>\r\n    </>\r\n  );\r\n}\r\n","import React, { useEffect, useMemo } from \"react\";\r\nimport { Modal } from \"react-bootstrap\";\r\nimport { shallowEqual, useDispatch, useSelector } from \"react-redux\";\r\nimport * as actions from \"../../../../_redux/remarks/remarksActions\";\r\nimport { RemarkEditDialogHeader } from \"./RemarkEditDialogHeader\";\r\nimport { RemarkEditForm } from \"./RemarkEditForm\";\r\nimport { useRemarksUIContext } from \"../RemarksUIContext\";\r\n\r\nfunction getFormattedDate(date) {\r\n  if (typeof date === \"string\") {\r\n    return date;\r\n  }\r\n\r\n  var year = date.getFullYear();\r\n\r\n  var month = (1 + date.getMonth()).toString();\r\n  month = month.length > 1 ? month : \"0\" + month;\r\n\r\n  var day = date.getDate().toString();\r\n  day = day.length > 1 ? day : \"0\" + day;\r\n\r\n  return month + \"/\" + day + \"/\" + year;\r\n}\r\n\r\nexport function RemarkEditDialog() {\r\n  // Remarks UI Context\r\n  const remarksUIContext = useRemarksUIContext();\r\n  const remarksUIProps = useMemo(() => {\r\n    return {\r\n      id: remarksUIContext.selectedId,\r\n      setIds: remarksUIContext.setIds,\r\n      productId: remarksUIContext.productId,\r\n      queryParams: remarksUIContext.queryParams,\r\n      showEditRemarkDialog: remarksUIContext.showEditRemarkDialog,\r\n      closeEditRemarkDialog: remarksUIContext.closeEditRemarkDialog,\r\n      initRemark: remarksUIContext.initRemark,\r\n    };\r\n  }, [remarksUIContext]);\r\n\r\n  // Remarks Redux state\r\n  const dispatch = useDispatch();\r\n  const { actionsLoading, remarkForEdit } = useSelector(\r\n    (state) => ({\r\n      actionsLoading: state.remarks.actionsLoading,\r\n      remarkForEdit: state.remarks.remarkForEdit,\r\n    }),\r\n    shallowEqual\r\n  );\r\n\r\n  useEffect(() => {\r\n    // server request for getting remark by seleted id\r\n    dispatch(actions.fetchRemark(remarksUIProps.id));\r\n  }, [remarksUIProps.id, dispatch]);\r\n\r\n  const saveRemark = (remark) => {\r\n    remark.dueDate = getFormattedDate(remark.dueDate);\r\n    if (!remarksUIProps.id) {\r\n      // server request for creating remarks\r\n      dispatch(actions.createRemark(remark)).then(() => {\r\n        // refresh list after deletion\r\n        dispatch(\r\n          actions.fetchRemarks(\r\n            remarksUIProps.queryParams,\r\n            remarksUIProps.productId\r\n          )\r\n        ).then(() => {\r\n          // clear selections list\r\n          remarksUIProps.setIds([]);\r\n          // closing edit modal\r\n          remarksUIProps.closeEditRemarkDialog();\r\n        });\r\n      });\r\n    } else {\r\n      // server request for updating remarks\r\n      dispatch(actions.updateRemark(remark)).then(() => {\r\n        // refresh list after deletion\r\n        dispatch(\r\n          // refresh list after deletion\r\n          actions.fetchRemarks(\r\n            remarksUIProps.queryParams,\r\n            remarksUIProps.productId\r\n          )\r\n        ).then(() => {\r\n          // clear selections list\r\n          remarksUIProps.setIds([]);\r\n          // closing edit modal\r\n          remarksUIProps.closeEditRemarkDialog();\r\n        });\r\n      });\r\n    }\r\n  };\r\n\r\n  return (\r\n    <Modal\r\n      show={remarksUIProps.showEditRemarkDialog}\r\n      onHide={remarksUIProps.closeEditRemarkDialog}\r\n      aria-labelledby=\"example-modal-sizes-title-lg\"\r\n    >\r\n      <RemarkEditDialogHeader id={remarksUIProps.id} />\r\n      <RemarkEditForm\r\n        saveRemark={saveRemark}\r\n        actionsLoading={actionsLoading}\r\n        remark={remarkForEdit || remarksUIProps.initRemark}\r\n        onHide={remarksUIProps.closeEditRemarkDialog}\r\n      />\r\n    </Modal>\r\n  );\r\n}\r\n","import React, { useMemo } from \"react\";\r\nimport { RemarksFilter } from \"./RemarksFilter\";\r\nimport { RemarksTable } from \"./RemarksTable\";\r\nimport { RemarksLoadingDialog } from \"./RemarksLoadingDialog\";\r\nimport { RemarksDeleteDialog } from \"./RemarksDeleteDialog\";\r\nimport { RemarkDeleteDialog } from \"./RemarkDeleteDialog\";\r\nimport { RemarksFetchDialog } from \"./RemarksFetchDialog\";\r\nimport { RemarksGrouping } from \"./RemarksGrouping\";\r\nimport { RemarkEditDialog } from \"./remark-edit-dialog/RemarkEditDialog\";\r\nimport { useRemarksUIContext } from \"./RemarksUIContext\";\r\n\r\nexport function Remarks() {\r\n  // Remarks UI Context\r\n  const remarksUIContext = useRemarksUIContext();\r\n  const remarksUIProps = useMemo(() => {\r\n    return { ids: remarksUIContext.ids };\r\n  }, [remarksUIContext]);\r\n\r\n  return (\r\n    <>\r\n      <RemarksLoadingDialog />\r\n      <RemarkEditDialog />\r\n      <RemarkDeleteDialog />\r\n      <RemarksDeleteDialog />\r\n      <RemarksFetchDialog />\r\n      <div className=\"form margin-b-30\">\r\n        <RemarksFilter />\r\n        {remarksUIProps.ids.length > 0 && <RemarksGrouping />}\r\n      </div>\r\n      <RemarksTable />\r\n    </>\r\n  );\r\n}\r\n","/* eslint-disable no-script-url,jsx-a11y/anchor-is-valid,jsx-a11y/role-supports-aria-props */\r\nimport React, { useEffect, useState, useRef } from \"react\";\r\nimport { useDispatch } from \"react-redux\";\r\nimport { shallowEqual, useSelector } from \"react-redux\";\r\nimport * as actions from \"../../../_redux/products/productsActions\";\r\nimport {\r\n  Card,\r\n  CardBody,\r\n  CardHeader,\r\n  CardHeaderToolbar,\r\n} from \"../../../../../../_metronic/_partials/controls\";\r\nimport { ProductEditForm } from \"./ProductEditForm\";\r\nimport { Specifications } from \"../product-specifications/Specifications\";\r\nimport { SpecificationsUIProvider } from \"../product-specifications/SpecificationsUIContext\";\r\nimport { useSubheader } from \"../../../../../../_metronic/layout\";\r\nimport { ModalProgressBar } from \"../../../../../../_metronic/_partials/controls\";\r\nimport { RemarksUIProvider } from \"../product-remarks/RemarksUIContext\";\r\nimport { Remarks } from \"../product-remarks/Remarks\";\r\n\r\nconst initProduct = {\r\n  id: undefined,\r\n  model: \"\",\r\n  manufacture: \"Pontiac\",\r\n  modelYear: 2020,\r\n  mileage: 0,\r\n  description: \"\",\r\n  color: null,\r\n  price: 10000,\r\n  condition: 1,\r\n  status: 0,\r\n  VINCode: \"\",\r\n};\r\n\r\nexport function ProductEdit({\r\n  history,\r\n  match: {\r\n    params: { id },\r\n  },\r\n}) {\r\n  // Subheader\r\n  const suhbeader = useSubheader();\r\n\r\n  // Tabs\r\n  const [tab, setTab] = useState(\"basic\");\r\n  const [title, setTitle] = useState(\"\");\r\n  const dispatch = useDispatch();\r\n  // const layoutDispatch = useContext(LayoutContext.Dispatch);\r\n  const { actionsLoading, productForEdit } = useSelector(\r\n    (state) => ({\r\n      actionsLoading: state.products.actionsLoading,\r\n      productForEdit: state.products.productForEdit,\r\n    }),\r\n    shallowEqual\r\n  );\r\n\r\n  useEffect(() => {\r\n    dispatch(actions.fetchProduct(id));\r\n  }, [id, dispatch]);\r\n\r\n  useEffect(() => {\r\n    let _title = id ? \"\" : \"New Product\";\r\n    if (productForEdit && id) {\r\n      _title = `Edit product '${productForEdit.manufacture} ${productForEdit.model} - ${productForEdit.modelYear}'`;\r\n    }\r\n\r\n    setTitle(_title);\r\n    suhbeader.setTitle(_title);\r\n    // eslint-disable-next-line react-hooks/exhaustive-deps\r\n  }, [productForEdit, id]);\r\n\r\n  const saveProduct = (values) => {\r\n    if (!id) {\r\n      dispatch(actions.createProduct(values)).then(() => backToProductsList());\r\n    } else {\r\n      dispatch(actions.updateProduct(values)).then(() => backToProductsList());\r\n    }\r\n  };\r\n\r\n  const btnRef = useRef();  \r\n  const saveProductClick = () => {\r\n    if (btnRef && btnRef.current) {\r\n      btnRef.current.click();\r\n    }\r\n  };\r\n\r\n  const backToProductsList = () => {\r\n    history.push(`/e-commerce/products`);\r\n  };\r\n\r\n  return (\r\n    <Card>\r\n      {actionsLoading && <ModalProgressBar />}\r\n      <CardHeader title={title}>\r\n        <CardHeaderToolbar>\r\n          <button\r\n            type=\"button\"\r\n            onClick={backToProductsList}\r\n            className=\"btn btn-light\"\r\n          >\r\n            <i className=\"fa fa-arrow-left\"></i>\r\n            Back\r\n          </button>\r\n          {`  `}\r\n          <button className=\"btn btn-light ml-2\">\r\n            <i className=\"fa fa-redo\"></i>\r\n            Reset\r\n          </button>\r\n          {`  `}\r\n          <button\r\n            type=\"submit\"\r\n            className=\"btn btn-primary ml-2\"\r\n            onClick={saveProductClick}\r\n          >\r\n            Save\r\n          </button>\r\n        </CardHeaderToolbar>\r\n      </CardHeader>\r\n      <CardBody>\r\n        <ul className=\"nav nav-tabs nav-tabs-line \" role=\"tablist\">\r\n          <li className=\"nav-item\" onClick={() => setTab(\"basic\")}>\r\n            <a\r\n              className={`nav-link ${tab === \"basic\" && \"active\"}`}\r\n              data-toggle=\"tab\"\r\n              role=\"tab\"\r\n              aria-selected={(tab === \"basic\").toString()}\r\n            >\r\n              Basic info\r\n            </a>\r\n          </li>\r\n          {id && (\r\n            <>\r\n              {\" \"}\r\n              <li className=\"nav-item\" onClick={() => setTab(\"remarks\")}>\r\n                <a\r\n                  className={`nav-link ${tab === \"remarks\" && \"active\"}`}\r\n                  data-toggle=\"tab\"\r\n                  role=\"button\"\r\n                  aria-selected={(tab === \"remarks\").toString()}\r\n                >\r\n                  Product remarks\r\n                </a>\r\n              </li>\r\n              <li className=\"nav-item\" onClick={() => setTab(\"specs\")}>\r\n                <a\r\n                  className={`nav-link ${tab === \"specs\" && \"active\"}`}\r\n                  data-toggle=\"tab\"\r\n                  role=\"tab\"\r\n                  aria-selected={(tab === \"specs\").toString()}\r\n                >\r\n                  Product specifications\r\n                </a>\r\n              </li>\r\n            </>\r\n          )}\r\n        </ul>\r\n        <div className=\"mt-5\">\r\n          {tab === \"basic\" && (\r\n            <ProductEditForm\r\n              actionsLoading={actionsLoading}\r\n              product={productForEdit || initProduct}\r\n              btnRef={btnRef}\r\n              saveProduct={saveProduct}\r\n            />\r\n          )}\r\n          {tab === \"remarks\" && id && (\r\n            <RemarksUIProvider currentProductId={id}>\r\n              <Remarks />\r\n            </RemarksUIProvider>\r\n          )}\r\n          {tab === \"specs\" && id && (\r\n            <SpecificationsUIProvider currentProductId={id}>\r\n              <Specifications />\r\n            </SpecificationsUIProvider>\r\n          )}\r\n        </div>\r\n      </CardBody>\r\n    </Card>\r\n  );\r\n}\r\n","import React, { Suspense } from \"react\";\r\nimport { Redirect, Switch } from \"react-router-dom\";\r\nimport { CustomersPage } from \"./customers/CustomersPage\";\r\nimport { ProductsPage } from \"./products/ProductsPage\";\r\nimport { ProductEdit } from \"./products/product-edit/ProductEdit\";\r\nimport { LayoutSplashScreen, ContentRoute } from \"../../../../_metronic/layout\";\r\n\r\nexport default function eCommercePage() {\r\n  return (\r\n    <Suspense fallback={<LayoutSplashScreen />}>\r\n      <Switch>\r\n        {\r\n          /* Redirect from eCommerce root URL to /customers */\r\n          <Redirect\r\n            exact={true}\r\n            from=\"/e-commerce\"\r\n            to=\"/e-commerce/customers\"\r\n          />\r\n        }\r\n        <ContentRoute path=\"/e-commerce/customers\" component={CustomersPage} />\r\n        <ContentRoute path=\"/e-commerce/products/new\" component={ProductEdit} />\r\n        <ContentRoute\r\n          path=\"/e-commerce/products/:id/edit\"\r\n          component={ProductEdit}\r\n        />\r\n\r\n        <ContentRoute path=\"/e-commerce/products\" component={ProductsPage} />\r\n      </Switch>\r\n    </Suspense>\r\n  );\r\n}\r\n"],"sourceRoot":""}